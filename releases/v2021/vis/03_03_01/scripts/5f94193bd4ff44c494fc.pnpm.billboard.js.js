"use strict";(self.webpackChunkinternetactivities=self.webpackChunkinternetactivities||[]).push([[199],{Hjl9:(t,e,n)=>{n.d(e,{Z:()=>s});var i=n("rxK0"),a=n.n(i),r=n("JPst"),o=n.n(r)()(a());o.push([t.id,"/*!\n * Copyright (c) 2017 ~ present NAVER Corp.\n * billboard.js project is licensed under the MIT license\n *\n * billboard.js, JavaScript chart library\n * https://naver.github.io/billboard.js/\n *\n * @version 3.4.1\n */\n/*-- Chart --*/\n.bb svg {\n  font: 10px sans-serif;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0); }\n\n.bb path, .bb line {\n  fill: none;\n  stroke: #000; }\n\n.bb text, .bb .bb-button {\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  user-select: none; }\n\n.bb-legend-item-tile,\n.bb-xgrid-focus,\n.bb-ygrid-focus,\n.bb-ygrid,\n.bb-event-rect,\n.bb-bars path {\n  shape-rendering: crispEdges; }\n\n.bb-chart-arc .bb-gauge-value {\n  fill: #000; }\n\n.bb-chart-arc path {\n  stroke: #fff; }\n\n.bb-chart-arc rect {\n  stroke: #fff;\n  stroke-width: 1; }\n\n.bb-chart-arc text {\n  fill: #fff;\n  font-size: 13px; }\n\n/*-- Axis --*/\n.bb-axis {\n  shape-rendering: crispEdges; }\n\n/*-- Grid --*/\n.bb-grid {\n  pointer-events: none; }\n  .bb-grid line {\n    stroke: #aaa; }\n  .bb-grid text {\n    fill: #aaa; }\n\n.bb-xgrid, .bb-ygrid {\n  stroke-dasharray: 3 3; }\n\n/*-- Text on Chart --*/\n.bb-text.bb-empty {\n  fill: #808080;\n  font-size: 2em; }\n\n/*-- Line --*/\n.bb-line {\n  stroke-width: 1px; }\n\n/*-- Point --*/\n.bb-circle._expanded_ {\n  stroke-width: 1px;\n  stroke: white; }\n\n.bb-selected-circle {\n  fill: white;\n  stroke-width: 2px; }\n\n/*-- Bar --*/\n.bb-bar {\n  stroke-width: 0; }\n  .bb-bar._expanded_ {\n    fill-opacity: 0.75; }\n\n/*-- Candlestick --*/\n.bb-candlestick {\n  stroke-width: 1px; }\n  .bb-candlestick._expanded_ {\n    fill-opacity: 0.75; }\n\n/*-- Focus --*/\n.bb-target.bb-focused, .bb-circles.bb-focused {\n  opacity: 1; }\n\n.bb-target.bb-focused path.bb-line, .bb-target.bb-focused path.bb-step, .bb-circles.bb-focused path.bb-line, .bb-circles.bb-focused path.bb-step {\n  stroke-width: 2px; }\n\n.bb-target.bb-defocused, .bb-circles.bb-defocused {\n  opacity: 0.3 !important; }\n  .bb-target.bb-defocused .text-overlapping, .bb-circles.bb-defocused .text-overlapping {\n    opacity: .05 !important; }\n\n/*-- Region --*/\n.bb-region {\n  fill: steelblue;\n  fill-opacity: .1; }\n\n/*-- Zoom region --*/\n.bb-zoom-brush {\n  fill-opacity: .1; }\n\n/*-- Brush --*/\n.bb-brush .extent {\n  fill-opacity: .1; }\n\n/*-- Legend --*/\n.bb-legend-item {\n  font-size: 12px;\n  user-select: none; }\n\n.bb-legend-item-hidden {\n  opacity: 0.15; }\n\n.bb-legend-background {\n  opacity: 0.75;\n  fill: white;\n  stroke: lightgray;\n  stroke-width: 1; }\n\n/*-- Title --*/\n.bb-title {\n  font: 14px sans-serif; }\n\n/*-- Tooltip --*/\n.bb-tooltip-container {\n  z-index: 10;\n  user-select: none; }\n\n.bb-tooltip {\n  border-collapse: collapse;\n  border-spacing: 0;\n  background-color: #fff;\n  empty-cells: show;\n  opacity: 0.9;\n  -webkit-box-shadow: 7px 7px 12px -9px #777777;\n  -moz-box-shadow: 7px 7px 12px -9px #777777;\n  box-shadow: 7px 7px 12px -9px #777777; }\n  .bb-tooltip tr {\n    border: 1px solid #CCC; }\n  .bb-tooltip th {\n    background-color: #aaa;\n    font-size: 14px;\n    padding: 2px 5px;\n    text-align: left;\n    color: #FFF; }\n  .bb-tooltip td {\n    font-size: 13px;\n    padding: 3px 6px;\n    background-color: #fff;\n    border-left: 1px dotted #999; }\n    .bb-tooltip td > span, .bb-tooltip td > svg {\n      display: inline-block;\n      width: 10px;\n      height: 10px;\n      margin-right: 6px; }\n  .bb-tooltip.value {\n    text-align: right; }\n\n/*-- Area --*/\n.bb-area {\n  stroke-width: 0;\n  opacity: 0.2; }\n\n/*-- Arc --*/\n.bb-chart-arcs-title {\n  dominant-baseline: middle;\n  font-size: 1.3em; }\n\ntext.bb-chart-arcs-gauge-title {\n  dominant-baseline: middle;\n  font-size: 2.7em; }\n\n.bb-chart-arcs {\n  /*-- Polar --*/ }\n  .bb-chart-arcs .bb-chart-arcs-background {\n    fill: #e0e0e0;\n    stroke: #fff; }\n  .bb-chart-arcs .bb-chart-arcs-gauge-unit {\n    fill: #000;\n    font-size: 16px; }\n  .bb-chart-arcs .bb-chart-arcs-gauge-max {\n    fill: #777; }\n  .bb-chart-arcs .bb-chart-arcs-gauge-min {\n    fill: #777; }\n  .bb-chart-arcs .bb-levels circle {\n    fill: none;\n    stroke: #848282;\n    stroke-width: .5px; }\n  .bb-chart-arcs .bb-levels text {\n    fill: #848282; }\n\n/*-- Radar --*/\n.bb-chart-radars .bb-levels polygon {\n  fill: none;\n  stroke: #848282;\n  stroke-width: .5px; }\n\n.bb-chart-radars .bb-levels text {\n  fill: #848282; }\n\n.bb-chart-radars .bb-axis line {\n  stroke: #848282;\n  stroke-width: .5px; }\n\n.bb-chart-radars .bb-axis text {\n  font-size: 1.15em;\n  cursor: default; }\n\n.bb-chart-radars .bb-shapes polygon {\n  fill-opacity: .2;\n  stroke-width: 1px; }\n\n/*-- Button --*/\n.bb-button {\n  position: absolute;\n  top: 10px;\n  right: 10px; }\n  .bb-button .bb-zoom-reset {\n    font-size: 11px;\n    border: solid 1px #ccc;\n    background-color: #fff;\n    padding: 5px;\n    border-radius: 5px;\n    cursor: pointer; }\n\n","",{version:3,sources:["webpack://./node_modules/billboard.js/dist/billboard.css"],names:[],mappings:"AAAA;;;;;;;;EAQE;AACF,cAAc;AACd;EACE,qBAAqB;EACrB,6CAA6C,EAAE;;AAEjD;EACE,UAAU;EACV,YAAY,EAAE;;AAEhB;EACE,yBAAyB;EACzB,sBAAsB;EACtB,iBAAiB,EAAE;;AAErB;;;;;;EAME,2BAA2B,EAAE;;AAE/B;EACE,UAAU,EAAE;;AAEd;EACE,YAAY,EAAE;;AAEhB;EACE,YAAY;EACZ,eAAe,EAAE;;AAEnB;EACE,UAAU;EACV,eAAe,EAAE;;AAEnB,aAAa;AACb;EACE,2BAA2B,EAAE;;AAE/B,aAAa;AACb;EACE,oBAAoB,EAAE;EACtB;IACE,YAAY,EAAE;EAChB;IACE,UAAU,EAAE;;AAEhB;EACE,qBAAqB,EAAE;;AAEzB,sBAAsB;AACtB;EACE,aAAa;EACb,cAAc,EAAE;;AAElB,aAAa;AACb;EACE,iBAAiB,EAAE;;AAErB,cAAc;AACd;EACE,iBAAiB;EACjB,aAAa,EAAE;;AAEjB;EACE,WAAW;EACX,iBAAiB,EAAE;;AAErB,YAAY;AACZ;EACE,eAAe,EAAE;EACjB;IACE,kBAAkB,EAAE;;AAExB,oBAAoB;AACpB;EACE,iBAAiB,EAAE;EACnB;IACE,kBAAkB,EAAE;;AAExB,cAAc;AACd;EACE,UAAU,EAAE;;AAEd;EACE,iBAAiB,EAAE;;AAErB;EACE,uBAAuB,EAAE;EACzB;IACE,uBAAuB,EAAE;;AAE7B,eAAe;AACf;EACE,eAAe;EACf,gBAAgB,EAAE;;AAEpB,oBAAoB;AACpB;EACE,gBAAgB,EAAE;;AAEpB,cAAc;AACd;EACE,gBAAgB,EAAE;;AAEpB,eAAe;AACf;EACE,eAAe;EACf,iBAAiB,EAAE;;AAErB;EACE,aAAa,EAAE;;AAEjB;EACE,aAAa;EACb,WAAW;EACX,iBAAiB;EACjB,eAAe,EAAE;;AAEnB,cAAc;AACd;EACE,qBAAqB,EAAE;;AAEzB,gBAAgB;AAChB;EACE,WAAW;EACX,iBAAiB,EAAE;;AAErB;EACE,yBAAyB;EACzB,iBAAiB;EACjB,sBAAsB;EACtB,iBAAiB;EACjB,YAAY;EACZ,6CAA6C;EAC7C,0CAA0C;EAC1C,qCAAqC,EAAE;EACvC;IACE,sBAAsB,EAAE;EAC1B;IACE,sBAAsB;IACtB,eAAe;IACf,gBAAgB;IAChB,gBAAgB;IAChB,WAAW,EAAE;EACf;IACE,eAAe;IACf,gBAAgB;IAChB,sBAAsB;IACtB,4BAA4B,EAAE;IAC9B;MACE,qBAAqB;MACrB,WAAW;MACX,YAAY;MACZ,iBAAiB,EAAE;EACvB;IACE,iBAAiB,EAAE;;AAEvB,aAAa;AACb;EACE,eAAe;EACf,YAAY,EAAE;;AAEhB,YAAY;AACZ;EACE,yBAAyB;EACzB,gBAAgB,EAAE;;AAEpB;EACE,yBAAyB;EACzB,gBAAgB,EAAE;;AAEpB;EACE,cAAc,EAAE;EAChB;IACE,aAAa;IACb,YAAY,EAAE;EAChB;IACE,UAAU;IACV,eAAe,EAAE;EACnB;IACE,UAAU,EAAE;EACd;IACE,UAAU,EAAE;EACd;IACE,UAAU;IACV,eAAe;IACf,kBAAkB,EAAE;EACtB;IACE,aAAa,EAAE;;AAEnB,cAAc;AACd;EACE,UAAU;EACV,eAAe;EACf,kBAAkB,EAAE;;AAEtB;EACE,aAAa,EAAE;;AAEjB;EACE,eAAe;EACf,kBAAkB,EAAE;;AAEtB;EACE,iBAAiB;EACjB,eAAe,EAAE;;AAEnB;EACE,gBAAgB;EAChB,iBAAiB,EAAE;;AAErB,eAAe;AACf;EACE,kBAAkB;EAClB,SAAS;EACT,WAAW,EAAE;EACb;IACE,eAAe;IACf,sBAAsB;IACtB,sBAAsB;IACtB,YAAY;IACZ,kBAAkB;IAClB,eAAe,EAAE",sourcesContent:["/*!\n * Copyright (c) 2017 ~ present NAVER Corp.\n * billboard.js project is licensed under the MIT license\n *\n * billboard.js, JavaScript chart library\n * https://naver.github.io/billboard.js/\n *\n * @version 3.4.1\n */\n/*-- Chart --*/\n.bb svg {\n  font: 10px sans-serif;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0); }\n\n.bb path, .bb line {\n  fill: none;\n  stroke: #000; }\n\n.bb text, .bb .bb-button {\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  user-select: none; }\n\n.bb-legend-item-tile,\n.bb-xgrid-focus,\n.bb-ygrid-focus,\n.bb-ygrid,\n.bb-event-rect,\n.bb-bars path {\n  shape-rendering: crispEdges; }\n\n.bb-chart-arc .bb-gauge-value {\n  fill: #000; }\n\n.bb-chart-arc path {\n  stroke: #fff; }\n\n.bb-chart-arc rect {\n  stroke: #fff;\n  stroke-width: 1; }\n\n.bb-chart-arc text {\n  fill: #fff;\n  font-size: 13px; }\n\n/*-- Axis --*/\n.bb-axis {\n  shape-rendering: crispEdges; }\n\n/*-- Grid --*/\n.bb-grid {\n  pointer-events: none; }\n  .bb-grid line {\n    stroke: #aaa; }\n  .bb-grid text {\n    fill: #aaa; }\n\n.bb-xgrid, .bb-ygrid {\n  stroke-dasharray: 3 3; }\n\n/*-- Text on Chart --*/\n.bb-text.bb-empty {\n  fill: #808080;\n  font-size: 2em; }\n\n/*-- Line --*/\n.bb-line {\n  stroke-width: 1px; }\n\n/*-- Point --*/\n.bb-circle._expanded_ {\n  stroke-width: 1px;\n  stroke: white; }\n\n.bb-selected-circle {\n  fill: white;\n  stroke-width: 2px; }\n\n/*-- Bar --*/\n.bb-bar {\n  stroke-width: 0; }\n  .bb-bar._expanded_ {\n    fill-opacity: 0.75; }\n\n/*-- Candlestick --*/\n.bb-candlestick {\n  stroke-width: 1px; }\n  .bb-candlestick._expanded_ {\n    fill-opacity: 0.75; }\n\n/*-- Focus --*/\n.bb-target.bb-focused, .bb-circles.bb-focused {\n  opacity: 1; }\n\n.bb-target.bb-focused path.bb-line, .bb-target.bb-focused path.bb-step, .bb-circles.bb-focused path.bb-line, .bb-circles.bb-focused path.bb-step {\n  stroke-width: 2px; }\n\n.bb-target.bb-defocused, .bb-circles.bb-defocused {\n  opacity: 0.3 !important; }\n  .bb-target.bb-defocused .text-overlapping, .bb-circles.bb-defocused .text-overlapping {\n    opacity: .05 !important; }\n\n/*-- Region --*/\n.bb-region {\n  fill: steelblue;\n  fill-opacity: .1; }\n\n/*-- Zoom region --*/\n.bb-zoom-brush {\n  fill-opacity: .1; }\n\n/*-- Brush --*/\n.bb-brush .extent {\n  fill-opacity: .1; }\n\n/*-- Legend --*/\n.bb-legend-item {\n  font-size: 12px;\n  user-select: none; }\n\n.bb-legend-item-hidden {\n  opacity: 0.15; }\n\n.bb-legend-background {\n  opacity: 0.75;\n  fill: white;\n  stroke: lightgray;\n  stroke-width: 1; }\n\n/*-- Title --*/\n.bb-title {\n  font: 14px sans-serif; }\n\n/*-- Tooltip --*/\n.bb-tooltip-container {\n  z-index: 10;\n  user-select: none; }\n\n.bb-tooltip {\n  border-collapse: collapse;\n  border-spacing: 0;\n  background-color: #fff;\n  empty-cells: show;\n  opacity: 0.9;\n  -webkit-box-shadow: 7px 7px 12px -9px #777777;\n  -moz-box-shadow: 7px 7px 12px -9px #777777;\n  box-shadow: 7px 7px 12px -9px #777777; }\n  .bb-tooltip tr {\n    border: 1px solid #CCC; }\n  .bb-tooltip th {\n    background-color: #aaa;\n    font-size: 14px;\n    padding: 2px 5px;\n    text-align: left;\n    color: #FFF; }\n  .bb-tooltip td {\n    font-size: 13px;\n    padding: 3px 6px;\n    background-color: #fff;\n    border-left: 1px dotted #999; }\n    .bb-tooltip td > span, .bb-tooltip td > svg {\n      display: inline-block;\n      width: 10px;\n      height: 10px;\n      margin-right: 6px; }\n  .bb-tooltip.value {\n    text-align: right; }\n\n/*-- Area --*/\n.bb-area {\n  stroke-width: 0;\n  opacity: 0.2; }\n\n/*-- Arc --*/\n.bb-chart-arcs-title {\n  dominant-baseline: middle;\n  font-size: 1.3em; }\n\ntext.bb-chart-arcs-gauge-title {\n  dominant-baseline: middle;\n  font-size: 2.7em; }\n\n.bb-chart-arcs {\n  /*-- Polar --*/ }\n  .bb-chart-arcs .bb-chart-arcs-background {\n    fill: #e0e0e0;\n    stroke: #fff; }\n  .bb-chart-arcs .bb-chart-arcs-gauge-unit {\n    fill: #000;\n    font-size: 16px; }\n  .bb-chart-arcs .bb-chart-arcs-gauge-max {\n    fill: #777; }\n  .bb-chart-arcs .bb-chart-arcs-gauge-min {\n    fill: #777; }\n  .bb-chart-arcs .bb-levels circle {\n    fill: none;\n    stroke: #848282;\n    stroke-width: .5px; }\n  .bb-chart-arcs .bb-levels text {\n    fill: #848282; }\n\n/*-- Radar --*/\n.bb-chart-radars .bb-levels polygon {\n  fill: none;\n  stroke: #848282;\n  stroke-width: .5px; }\n\n.bb-chart-radars .bb-levels text {\n  fill: #848282; }\n\n.bb-chart-radars .bb-axis line {\n  stroke: #848282;\n  stroke-width: .5px; }\n\n.bb-chart-radars .bb-axis text {\n  font-size: 1.15em;\n  cursor: default; }\n\n.bb-chart-radars .bb-shapes polygon {\n  fill-opacity: .2;\n  stroke-width: 1px; }\n\n/*-- Button --*/\n.bb-button {\n  position: absolute;\n  top: 10px;\n  right: 10px; }\n  .bb-button .bb-zoom-reset {\n    font-size: 11px;\n    border: solid 1px #ccc;\n    background-color: #fff;\n    padding: 5px;\n    border-radius: 5px;\n    cursor: pointer; }\n\n"],sourceRoot:""}]);const s=o},S4QH:(t,e,n)=>{var i=n("LboF"),a=n.n(i),r=n("5Hnr"),o=n.n(r),s=n("shRe"),c=n.n(s),l=n("3c4z"),d=n.n(l),u=n("3mzb"),h=n.n(u),g=n("Hd6Y"),f=n.n(g),p=n("Hjl9"),x={};x.styleTagTransform=f(),x.setAttributes=d(),x.insert=c().bind(null,"head"),x.domAPI=o(),x.insertStyleElement=h(),a()(p.Z,x),p.Z&&p.Z.locals&&p.Z.locals},BJzz:(t,e,n)=>{n.d(e,{Kb:()=>yn,bb:()=>En});var i=n("9BUE"),a=n("PATO"),r=n("X48g"),o=n("N6AX"),s=n("/P3c"),c=n("mk+8"),l=n("RxL0"),d=n("JoWQ"),u=n("uUgf"),h=n("Yiz9"),g=n("YxWu"),f=n("h6wS"),p=n("SEGC"),x=n("4/yY"),v=n("zaZV"),b=n("gUNB"),m=n("VaXY"),_=n("20Xk"),y=n("t+EG"),A=n("NJa3"),T=n("u6RG"),E=n("lF8b"),w=n("xWpI"),k=n("RBdy"),C=n("ai+S"),S=n("XWgq"),B=n("ACVE"),L=n("9IB/"),I=n("tIkG"),R=n("CFUE"),O=n("38Zz"),X=(n("RJeP"),n("VJKd"),n("Adb/"),n("Zyc/"),n("Y57R")),D=n("jYnC"),z=(n("/KVZ"),n("QdIo")),P="object"==typeof globalThis&&null!==globalThis&&globalThis.Object===Object&&globalThis||"object"==typeof global&&null!==global&&global.Object===Object&&global||"object"==typeof self&&null!==self&&self.Object===Object&&self||Function("return this")();P.requestIdleCallback=P.requestIdleCallback||function(t){return setTimeout(t,1)},P.cancelIdleCallback=P.cancelIdleCallback||function(t){return clearTimeout(t)};var F=null==P?void 0:P.document,$={AREA:"area",AREA_LINE_RANGE:"area-line-range",AREA_SPLINE:"area-spline",AREA_SPLINE_RANGE:"area-spline-range",AREA_STEP:"area-step",BAR:"bar",BUBBLE:"bubble",CANDLESTICK:"candlestick",DONUT:"donut",GAUGE:"gauge",LINE:"line",PIE:"pie",POLAR:"polar",RADAR:"radar",SCATTER:"scatter",SPLINE:"spline",STEP:"step"},M={AREA:"initArea",AREA_LINE_RANGE:"initArea",AREA_SPLINE:"initArea",AREA_SPLINE_RANGE:"initArea",AREA_STEP:"initArea",BAR:"initBar",BUBBLE:"initCircle",CANDLESTICK:"initCandlestick",DONUT:"initArc",GAUGE:"initArc",LINE:"initLine",PIE:"initArc",POLAR:"initPolar",RADAR:"initCircle",SCATTER:"initCircle",SPLINE:"initLine",STEP:"initLine"},Y={Area:[$.AREA,$.AREA_SPLINE,$.AREA_SPLINE_RANGE,$.AREA_LINE_RANGE,$.AREA_STEP],AreaRange:[$.AREA_SPLINE_RANGE,$.AREA_LINE_RANGE],Arc:[$.PIE,$.DONUT,$.GAUGE,$.POLAR,$.RADAR],Line:[$.LINE,$.SPLINE,$.AREA,$.AREA_SPLINE,$.AREA_SPLINE_RANGE,$.AREA_LINE_RANGE,$.STEP,$.AREA_STEP],Step:[$.STEP,$.AREA_STEP],Spline:[$.SPLINE,$.AREA_SPLINE,$.AREA_SPLINE_RANGE]},N=function(){return N=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},N.apply(this,arguments)};function V(t,e,n){if(n||2===arguments.length)for(var i,a=0,r=e.length;a<r;a++)!i&&a in e||(i||(i=Array.prototype.slice.call(e,0,a)),i[a]=e[a]);return t.concat(i||Array.prototype.slice.call(e))}var H=function(t){return t||0===t},Z=function(t){return"function"==typeof t},G=function(t){return"string"==typeof t},j=function(t){return"number"==typeof t},U=function(t){return void 0===t},W=function(t){return void 0!==t},q=function(t){return"boolean"==typeof t},J=function(t){return 10*Math.ceil(t/10)},K=function(t){return Math.ceil(t)+.5},Q=function(t){return t[1]-t[0]},tt=function(t){return"object"==typeof t},et=function(t){return U(t)||null===t||G(t)&&0===t.length||tt(t)&&!(t instanceof Date)&&0===Object.keys(t).length||j(t)&&isNaN(t)},nt=function(t){return!et(t)},it=function(t){return Array.isArray(t)},at=function(t){return t&&!(null==t?void 0:t.nodeType)&&tt(t)&&!it(t)};function rt(t,e,n){return W(t[e])?t[e]:n}function ot(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var a=Z(t);return a&&t.call.apply(t,V([e],n,!1)),a}function st(t,e){var n=0,i=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];!--n&&e.apply.apply(e,V([this],t,!1))};"duration"in t?t.each((function(){return++n})).on("end",i):(++n,t.call(i))}function ct(t){return G(t)?t.replace(/</g,"&lt;").replace(/>/g,"&gt;"):t}function lt(t,e,n,i){if(void 0===n&&(n=[-1,1]),void 0===i&&(i=!1),t&&G(e))if(-1===e.indexOf("\n"))t.text(e);else{var a=[t.text(),e].map((function(t){return t.replace(/[\s\n]/g,"")}));if(a[0]!==a[1]){var r=e.split("\n"),o=i?r.length-1:1;t.html(""),r.forEach((function(e,i){t.append("tspan").attr("x",0).attr("dy","".concat(0===i?n[0]*o:n[1],"em")).text(e)}))}}}function dt(t){var e=t.getBBox(),n=e.x,i=e.y,a=e.width,r=e.height;return[{x:n,y:i+r},{x:n,y:i},{x:n+a,y:i},{x:n+a,y:i+r}]}function ut(t,e){var n,i=t&&(null===(n=t.touches||t.sourceEvent&&t.sourceEvent.touches)||void 0===n?void 0:n[0]);return(0,a.Z)(i||t,e).map((function(t){return isNaN(t)?0:t}))}function ht(t){var e,n=t.event,i=t.$el,a=i.subchart.main||i.main;return n&&"brush"===n.type?e=n.selection:a&&(e=a.select(".bb-brush").node())&&(e=(0,c.mN)(e)),e}function gt(t){return!("rect"in t)||"rect"in t&&t.hasAttribute("width")&&t.rect.width!==+t.getAttribute("width")?t.rect=t.getBoundingClientRect():t.rect}function ft(t,e,n){void 0===t&&(t=!0),void 0===e&&(e=0),void 0===n&&(n=1e4);var i=Math.floor(Math.random()*(n-e)+e);return t?String(i):i}function pt(t,e,n,i,a){if(n>i)return-1;var r=Math.floor((n+i)/2),o=t[r],s=o.x,c=o.w,l=void 0===c?0:c;return a&&(s=t[r].y,l=t[r].h),e>=s&&e<=s+l?r:e<s?pt(t,e,n,r-1,a):pt(t,e,r+1,i,a)}function xt(t,e){for(var n in void 0===t&&(t={}),it(e)&&e.forEach((function(e){return xt(t,e)})),e)/^\d+$/.test(n)||n in t||(t[n]=e[n]);return t}var vt=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},bt=function(t){return[].slice.call(t)};function mt(t){var e=t?t.transform:null,n=e&&e.baseVal;return n&&n.numberOfItems?n.getItem(0).matrix:{a:0,b:0,c:0,d:0,e:0,f:0}}function _t(t){var e=t[0]instanceof Date,n=(e?t.map(Number):t).filter((function(t,e,n){return n.indexOf(t)===e}));return e?n.map((function(t){return new Date(t)})):n}function yt(t){return t&&t.length?t.reduce((function(t,e){return t.concat(e)})):[]}function At(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!e.length||1===e.length&&!e[0])return t;var i=e.shift();return at(t)&&at(i)&&Object.keys(i).forEach((function(e){var n=i[e];at(n)?(!t[e]&&(t[e]={}),t[e]=At(t[e],n)):t[e]=it(n)?n.concat():n})),At.apply(void 0,V([t],e,!1))}function Tt(t,e){var n;return void 0===e&&(e=!0),t[0]instanceof Date?n=e?function(t,e){return t-e}:function(t,e){return e-t}:e&&!t.every(isNaN)?n=function(t,e){return t-e}:e||(n=function(t,e){return(t>e?-1:t<e&&1)||t===e&&0}),t.concat().sort(n)}function Et(t,e){var n=e.filter((function(t){return nt(t)}));return n.length?j(n[0])?n=Math[t].apply(Math,n):n[0]instanceof Date&&(n=Tt(n,"min"===t)[0]):n=void 0,n}var wt={mouse:function(){try{return new MouseEvent("t"),function(t,e,n){void 0===n&&(n={bubbles:!1,cancelable:!1,screenX:0,screenY:0,clientX:0,clientY:0}),t.dispatchEvent(new MouseEvent(e,n))}}catch(t){return function(t,e,n){void 0===n&&(n={bubbles:!1,cancelable:!1,screenX:0,screenY:0,clientX:0,clientY:0});var i=F.createEvent("MouseEvent");i.initMouseEvent(e,n.bubbles,n.cancelable,P,0,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),t.dispatchEvent(i)}}}(),touch:function(t,e,n){var i=new Touch(At({identifier:Date.now(),target:t,radiusX:2.5,radiusY:2.5,rotationAngle:10,force:.5},n));t.dispatchEvent(new TouchEvent(e,{cancelable:!0,bubbles:!0,shiftKey:!0,touches:[i],targetTouches:[],changedTouches:[i]}))}};function kt(t,e){var n=t;for(var i in e)n=n.replace(new RegExp("{=".concat(i,"}"),"g"),e[i]);return n}function Ct(t){var e,n;if(t instanceof Date)n=t;else if(G(t)){var i=this.config;n=null!==(e=this.format.dataTime(i.data_xFormat)(t))&&void 0!==e?e:new Date(t)}else j(t)&&!isNaN(t)&&(n=new Date(+t));return n&&!isNaN(+n)||console&&console.error&&console.error("Failed to parse x '".concat(t,"' to Date object")),n}function St(){return!1===(null==F?void 0:F.hidden)||"visible"===(null==F?void 0:F.visibilityState)}var Bt={button:"bb-button",chart:"bb-chart",empty:"bb-empty",main:"bb-main",target:"bb-target",EXPANDED:"_expanded_"},Lt={arc:"bb-arc",arcLabelLine:"bb-arc-label-line",arcs:"bb-arcs",chartArc:"bb-chart-arc",chartArcs:"bb-chart-arcs",chartArcsBackground:"bb-chart-arcs-background",chartArcsTitle:"bb-chart-arcs-title"},It={axis:"bb-axis",axisX:"bb-axis-x",axisXLabel:"bb-axis-x-label",axisY:"bb-axis-y",axisY2:"bb-axis-y2",axisY2Label:"bb-axis-y2-label",axisYLabel:"bb-axis-y-label"},Rt={bar:"bb-bar",bars:"bb-bars",chartBar:"bb-chart-bar",chartBars:"bb-chart-bars"},Ot={candlestick:"bb-candlestick",candlesticks:"bb-candlesticks",chartCandlestick:"bb-chart-candlestick",chartCandlesticks:"bb-chart-candlesticks",valueDown:"bb-value-down",valueUp:"bb-value-up"},Xt={chartCircles:"bb-chart-circles",circle:"bb-circle",circles:"bb-circles"},Dt={colorPattern:"bb-color-pattern",colorScale:"bb-colorscale"},zt={dragarea:"bb-dragarea",INCLUDED:"_included_"},Pt={chartArcsGaugeMax:"bb-chart-arcs-gauge-max",chartArcsGaugeMin:"bb-chart-arcs-gauge-min",chartArcsGaugeUnit:"bb-chart-arcs-gauge-unit",chartArcsGaugeTitle:"bb-chart-arcs-gauge-title",gaugeValue:"bb-gauge-value"},Ft={legend:"bb-legend",legendBackground:"bb-legend-background",legendItem:"bb-legend-item",legendItemEvent:"bb-legend-item-event",legendItemHidden:"bb-legend-item-hidden",legendItemPoint:"bb-legend-item-point",legendItemTile:"bb-legend-item-tile"},$t={eventRect:"bb-event-rect",eventRects:"bb-event-rects",eventRectsMultiple:"bb-event-rects-multiple",eventRectsSingle:"bb-event-rects-single"},Mt={focused:"bb-focused",defocused:"bb-defocused",legendItemFocused:"bb-legend-item-focused",xgridFocus:"bb-xgrid-focus",ygridFocus:"bb-ygrid-focus"},Yt={grid:"bb-grid",gridLines:"bb-grid-lines",xgrid:"bb-xgrid",xgridLine:"bb-xgrid-line",xgridLines:"bb-xgrid-lines",xgrids:"bb-xgrids",ygrid:"bb-ygrid",ygridLine:"bb-ygrid-line",ygridLines:"bb-ygrid-lines",ygrids:"bb-ygrids"},Nt={region:"bb-region",regions:"bb-regions"},Vt={selectedCircle:"bb-selected-circle",selectedCircles:"bb-selected-circles",SELECTED:"_selected_"},Ht={shape:"bb-shape",shapes:"bb-shapes"},Zt={brush:"bb-brush",subchart:"bb-subchart"},Gt={chartText:"bb-chart-text",chartTexts:"bb-chart-texts",text:"bb-text",texts:"bb-texts",title:"bb-title",TextOverlapping:"text-overlapping"},jt={tooltip:"bb-tooltip",tooltipContainer:"bb-tooltip-container",tooltipName:"bb-tooltip-name"},Ut=N(N(N(N(N(N(N(N(N(N(N(N(N(N(N(N(N(N(N(N(N(N(N({},Bt),Lt),{area:"bb-area",areas:"bb-areas"}),It),Rt),Ot),Xt),Dt),zt),Pt),Ft),{chartLine:"bb-chart-line",chartLines:"bb-chart-lines",line:"bb-line",lines:"bb-lines"}),$t),Mt),Yt),{chartRadar:"bb-chart-radar",chartRadars:"bb-chart-radars"}),Nt),Vt),Ht),Zt),Gt),jt),{buttonZoomReset:"bb-zoom-reset",zoomBrush:"bb-zoom-brush"}),Wt={element:function(){return{chart:null,main:null,svg:null,axis:{x:null,y:null,y2:null,subX:null},defs:null,tooltip:null,legend:null,title:null,subchart:{main:null,bar:null,line:null,area:null},arcs:null,bar:null,candlestick:null,line:null,area:null,circle:null,radar:null,text:null,grid:{main:null,x:null,y:null},gridLines:{main:null,x:null,y:null},region:{main:null,list:null},eventRect:null,zoomResetBtn:null}},state:function(){return{width:0,width2:0,height:0,height2:0,margin:{top:0,bottom:0,left:0,right:0},margin2:{top:0,bottom:0,left:0,right:0},margin3:{top:0,bottom:0,left:0,right:0},arcWidth:0,arcHeight:0,xAxisHeight:0,hasAxis:!1,hasRadar:!1,current:{width:0,height:0,dataMax:0,maxTickWidths:{x:{size:0,ticks:[],clipPath:0,domain:""},y:{size:0,domain:""},y2:{size:0,domain:""}},types:[]},isLegendRight:!1,isLegendInset:!1,isLegendTop:!1,isLegendLeft:!1,legendStep:0,legendItemWidth:0,legendItemHeight:0,legendHasRendered:!1,eventReceiver:{currentIdx:-1,rect:{},data:[],coords:[]},axis:{x:{padding:{left:0,right:0},tickCount:0}},rotatedPadding:{left:30,right:0,top:5},withoutFadeIn:{},inputType:"",datetimeId:"",clip:{id:"",idXAxis:"",idYAxis:"",idXAxisTickTexts:"",idGrid:"",idSubchart:"",path:"",pathXAxis:"",pathYAxis:"",pathXAxisTickTexts:"",pathGrid:""},event:null,dragStart:null,dragging:!1,flowing:!1,cancelClick:!1,mouseover:!1,rendered:!1,transiting:!1,redrawing:!1,resizing:!1,toggling:!1,zooming:!1,hasNegativeValue:!1,hasPositiveValue:!0,orgAreaOpacity:"0.2",hiddenTargetIds:[],hiddenLegendIds:[],focusedTargetIds:[],defocusedTargetIds:[],radius:0,innerRadius:0,outerRadius:void 0,innerRadiusRatio:0,gaugeArcWidth:0,radiusExpanded:0,xgridAttr:{x1:null,x2:null,y1:null,y2:null}}}},qt=function(){function t(){var t=this;Object.keys(Wt).forEach((function(e){t[e]=new Wt[e]}))}return t.prototype.getStore=function(t){return this[t]},t}(),Jt={bindto:"#chart",background:{},clipPath:!0,svg_classname:void 0,size_width:void 0,size_height:void 0,padding:!0,padding_left:void 0,padding_right:void 0,padding_top:void 0,padding_bottom:void 0,resize_auto:!0,onclick:void 0,onover:void 0,onout:void 0,onresize:void 0,onresized:void 0,onbeforeinit:void 0,oninit:void 0,onafterinit:void 0,onrendered:void 0,transition_duration:250,plugins:[],render:{},regions:[]},Kt={data_x:void 0,data_idConverter:function(t){return t},data_names:{},data_classes:{},data_type:void 0,data_types:{},data_order:"desc",data_groups:[],data_color:void 0,data_colors:{},data_labels:{},data_labels_backgroundColors:void 0,data_labels_colors:void 0,data_labels_position:{},data_hide:!1,data_filter:void 0,data_onclick:function(){},data_onover:function(){},data_onout:function(){},data_onshown:void 0,data_onhidden:void 0,data_onmin:void 0,data_onmax:void 0,data_url:void 0,data_headers:void 0,data_json:void 0,data_rows:void 0,data_columns:void 0,data_mimeType:"csv",data_keys:void 0,data_empty_label_text:""},Qt={color_pattern:[],color_tiles:void 0,color_threshold:{},color_onover:void 0},te={interaction_enabled:!0,interaction_brighten:!0,interaction_inputType_mouse:!0,interaction_inputType_touch:{}},ee={legend_show:!0,legend_hide:!1,legend_contents_bindto:void 0,legend_contents_template:void 0,legend_position:"bottom",legend_inset_anchor:"top-left",legend_inset_x:10,legend_inset_y:0,legend_inset_step:void 0,legend_item_onclick:void 0,legend_item_onover:void 0,legend_item_onout:void 0,legend_equally:!1,legend_padding:0,legend_item_tile_width:10,legend_item_tile_height:10,legend_usePoint:!1},ne={title_text:void 0,title_padding:{top:0,right:0,bottom:0,left:0},title_position:"center"},ie={tooltip_show:!0,tooltip_doNotHide:!1,tooltip_grouped:!0,tooltip_format_title:void 0,tooltip_format_name:void 0,tooltip_format_value:void 0,tooltip_position:void 0,tooltip_contents:{},tooltip_init_show:!1,tooltip_init_x:0,tooltip_init_position:{top:"0px",left:"50px"},tooltip_linked:!1,tooltip_linked_name:"",tooltip_onshow:function(){},tooltip_onhide:function(){},tooltip_onshown:function(){},tooltip_onhidden:function(){},tooltip_order:null},ae=function(){function t(){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=function(t){if(at(t)&&t.constructor){var e=new t.constructor;for(var i in t)e[i]=n(t[i]);return e}return t};return t.map((function(t){return n(t)})).reduce((function(t,e){return N(N({},t),e)}))}(Jt,Kt,Qt,te,ee,ne,ie,t.data)}return t.setOptions=function(t){this.data=t.reduce((function(t,e){return N(N({},t),e)}),this.data)},t.data={},t}(),re="setOverOut",oe="callOverOutForTouch",se=function(){function t(){this.cache={}}return t.prototype.add=function(t,e,n){return void 0===n&&(n=!1),this.cache[t]=n?this.cloneTarget(e):e,this.cache[t]},t.prototype.remove=function(t){var e=this;bt(t).forEach((function(t){return delete e.cache[t]}))},t.prototype.get=function(t,e){if(void 0===e&&(e=!1),e){for(var n=[],i=0,a=void 0;a=t[i];i++)a in this.cache&&n.push(this.cloneTarget(this.cache[a]));return n}var r=this.cache[t];return H(r)?r:null},t.prototype.reset=function(t){for(var e in this.cache)(t||/^\$/.test(e))&&(this.cache[e]=null)},t.prototype.cloneTarget=function(t){return{id:t.id,id_org:t.id_org,values:t.values.map((function(t){return{x:t.x,value:t.value,id:t.id}}))}},t}(),ce=P.setTimeout,le=P.clearTimeout;function de(){var t=[],e=function(e,n){var i;!function e(){for(var a,r=0,o=0,s=void 0;s=t[o];o++)if(!0===s||(null===(a=s.empty)||void 0===a?void 0:a.call(s)))r++;else{if(!1===St()){r=t.length;break}try{s.transition()}catch(t){r++}}i&&le(i),r===t.length?null==n||n():i=ce(e,50)}()};return e.add=function(e){it(e)?t=t.concat(e):t.push(e)},e}var ue={convertData:function(t,e){var n;if(t.bindto?(n={},["url","mimeType","headers","keys","json","keys","rows","columns"].forEach((function(e){var i="data_".concat(e);i in t&&(n[e]=t[i])}))):n=t,n.url&&e)this.convertUrlToData(n.url,n.mimeType,n.headers,n.keys,e);else if(n.json)n=this.convertJsonToData(n.json,n.keys);else if(n.rows)n=this.convertRowsToData(n.rows);else if(n.columns)n=this.convertColumnsToData(n.columns);else if(t.bindto)throw Error("url or json or rows or columns is required.");return it(n)&&n},convertUrlToData:function(t,e,n,i,a){var r=this;void 0===e&&(e="csv");var o=new XMLHttpRequest;o.open("GET",t),n&&Object.keys(n).forEach((function(t){o.setRequestHeader(t,n[t])})),o.onreadystatechange=function(){if(4===o.readyState){if(200!==o.status)throw new Error("".concat(t,": Something went wrong loading!"));var n=o.responseText;n&&a.call(r,r["convert".concat(vt(e),"ToData")]("json"===e?JSON.parse(n):n,i))}},o.send()},convertCsvTsvToData:function(t,e){var n,i=t.rows(e);return 1===i.length?(n=[{}],i[0].forEach((function(t){n[0][t]=null}))):n=t.parse(e),n},convertCsvToData:function(t){return this.convertCsvTsvToData({rows:l.Bj,parse:l.ue},t)},convertTsvToData:function(t){return this.convertCsvTsvToData({rows:d.E0,parse:d.tJ},t)},convertJsonToData:function(t,e){var n,i,a=this,r=this.config,o=[];if(it(t)){var s=e||r.data_keys;s.x?(n=s.value.concat(s.x),r.data_x=s.x):n=s.value,o.push(n),t.forEach((function(t){var e=n.map((function(e){var n=a.findValueInJson(t,e);return U(n)&&(n=null),n}));o.push(e)})),i=this.convertRowsToData(o)}else Object.keys(t).forEach((function(e){var n=t[e].concat();n.unshift(e),o.push(n)})),i=this.convertColumnsToData(o);return i},findValueInJson:function(t,e){if(void 0!==t[e])return t[e];var n=e.replace(/\[(\w+)\]/g,".$1").replace(/^\./,"").split("."),i=t;return n.some((function(t){return!(i=i&&t in i?i[t]:void 0)})),i},convertRowsToData:function(t){var e=t[0],n=[];return t.forEach((function(t,i){if(i>0){var a={};t.forEach((function(t,n){if(U(t))throw new Error("Source data is missing a component at (".concat(i,", ").concat(n,")!"));a[e[n]]=t})),n.push(a)}})),n},convertColumnsToData:function(t){var e=[];return t.forEach((function(t,n){var i=t[0];t.forEach((function(t,a){if(a>0){if(U(e[a-1])&&(e[a-1]={}),U(t))throw new Error("Source data is missing a component at (".concat(n,", ").concat(a,")!"));e[a-1][i]=t}}))})),e},convertDataToTargets:function(t,e){var n=this,i=this,a=i.axis,r=i.config,o=i.state,s=!1,c=!1,l=!1;a&&(s=a.isCategorized(),c=a.isTimeSeries(),l=a.isCustomX());var d,u=Object.keys(t[0]||{}),h=u.length?u.filter(i.isNotX,i):[],g=u.length?u.filter(i.isX,i):[];h.forEach((function(a){var o=n.getXKey(a);l||c?g.indexOf(o)>=0?d=(e&&i.data.xs[a]||[]).concat(t.map((function(t){return t[o]})).filter(H).map((function(t,e){return i.generateTargetX(t,a,e)}))):r.data_x?d=n.getOtherTargetXs():nt(r.data_xs)&&(d=i.getXValuesOfXKey(o,i.data.targets)):d=t.map((function(t,e){return e})),d&&(n.data.xs[a]=d)})),h.forEach((function(t){if(!n.data.xs[t])throw new Error('x is not defined for id = "'.concat(t,'".'))}));var f=h.map((function(e,n){var a=r.data_idConverter.bind(i.api)(e),c=i.getXKey(e),d=l&&s,u=d&&t.map((function(t){return t.x})).every((function(t){return r.axis_x_categories.indexOf(t)>-1})),h=t.__append__,g=null===c&&h?i.api.data.values(e).length:0;return{id:a,id_org:e,values:t.map((function(t,s){var l,f=t[c],p=t[e];return p=null===p||isNaN(p)||at(p)?it(p)||at(p)?p:null:+p,!d&&!o.hasRadar||0!==n||U(f)?l=i.generateTargetX(f,e,g+s):(u||0!==n||0!==s||h||(r.axis_x_categories=[]),-1===(l=r.axis_x_categories.indexOf(f))&&(l=r.axis_x_categories.length,r.axis_x_categories.push(f))),(U(p)||i.data.xs[e].length<=s)&&(l=void 0),{x:l,value:p,id:a}})).filter((function(t){return W(t.x)}))}}));return f.forEach((function(t){r.data_xSort&&(t.values=t.values.sort((function(t,e){return(t.x||0===t.x?t.x:1/0)-(e.x||0===e.x?e.x:1/0)}))),t.values.forEach((function(t,e){return t.index=e})),i.data.xs[t.id].sort((function(t,e){return t-e}))})),o.hasNegativeValue=i.hasNegativeValueInTargets(f),o.hasPositiveValue=i.hasPositiveValueInTargets(f),r.data_type&&i.setTargetType(i.mapToIds(f).filter((function(t){return!(t in r.data_types)})),r.data_type),f.forEach((function(t){return i.cache.add(t.id_org,t,!0)})),f}},he={isX:function(t){var e,n,i,a=this.config,r=a.data_x&&t===a.data_x,o=nt(a.data_xs)&&(e=a.data_xs,n=t,i=!1,Object.keys(e).forEach((function(t){return e[t]===n&&(i=!0)})),i);return r||o},isNotX:function(t){return!this.isX(t)},isStackNormalized:function(){var t=this.config;return!(!t.data_stack_normalize||!t.data_groups.length)},isGrouped:function(t){var e=this.config.data_groups;return t?e.some((function(e){return e.indexOf(t)>=0&&e.length>1})):e.length>0},getXKey:function(t){var e=this.config;return e.data_x?e.data_x:nt(e.data_xs)?e.data_xs[t]:null},getXValuesOfXKey:function(t,e){var n,i=this;return(e&&nt(e)?i.mapToIds(e):[]).forEach((function(e){i.getXKey(e)===t&&(n=i.data.xs[e])})),n},getIndexByX:function(t,e){return e?e.indexOf(G(t)?t:+t):(this.filterByX(this.data.targets,t)[0]||{index:null}).index},getXValue:function(t,e){var n=this;return t in n.data.xs&&n.data.xs[t]&&H(n.data.xs[t][e])?n.data.xs[t][e]:e},getOtherTargetXs:function(){var t=Object.keys(this.data.xs);return t.length?this.data.xs[t[0]]:null},getOtherTargetX:function(t){var e=this.getOtherTargetXs();return e&&t<e.length?e[t]:null},addXs:function(t){var e=this.config;Object.keys(t).forEach((function(n){e.data_xs[n]=t[n]}))},isMultipleX:function(){return nt(this.config.data_xs)||!this.config.data_xSort||this.hasType("bubble")||this.hasType("scatter")},addName:function(t){var e,n=this.config;return t&&(e=n.data_names[t.id],t.name=void 0!==e?e:t.id),t},getAllValuesOnIndex:function(t,e){void 0===e&&(e=!1);var n=this,i=n.filterTargetsToShow(n.data.targets).map((function(e){return n.addName(n.getValueOnIndex(e.values,t))}));return e&&(i=i.filter((function(t){return t&&"value"in t&&H(t.value)}))),i},getValueOnIndex:function(t,e){var n=t.filter((function(t){return t.index===e}));return n.length?n[0]:null},updateTargetX:function(t,e){var n=this;t.forEach((function(t){t.values.forEach((function(i,a){i.x=n.generateTargetX(e[a],t.id,a)})),n.data.xs[t.id]=e}))},updateTargetXs:function(t,e){var n=this;t.forEach((function(t){e[t.id]&&n.updateTargetX([t],e[t.id])}))},generateTargetX:function(t,e,n){var i=this,a=i.axis,r=(null==a?void 0:a.isCategorized())?n:t||n;(null==a?void 0:a.isTimeSeries())?r=Ct.bind(i)(t||i.getXValue(e,n)):(null==a?void 0:a.isCustomX())&&!(null==a?void 0:a.isCategorized())&&(r=H(t)?+t:i.getXValue(e,n));return r},updateXs:function(t){t.length&&(this.axis.xs=t.map((function(t){return t.x})))},getPrevX:function(t){var e=this.axis.xs[t-1];return W(e)?e:null},getNextX:function(t){var e=this.axis.xs[t+1];return W(e)?e:null},getBaseValue:function(t){var e=this,n=e.state.hasAxis,i=t.value;return i&&n&&(e.isAreaRangeType(t)?i=e.getRangedData(t,"mid"):e.isBubbleZType(t)&&(i=e.getBubbleZData(i,"y"))),i},getMinMaxValue:function(t){var e,n,i=this.getBaseValue.bind(this);return(t||this.data.targets.map((function(t){return t.values}))).forEach((function(t,a){var r=t.map(i).filter(j);e=Math.min.apply(Math,V([a?e:1/0],r,!1)),n=Math.max.apply(Math,V([a?n:-1/0],r,!1))})),{min:e,max:n}},getMinMaxData:function(){var t=this,e="$dataMinMax",n=t.cache.get(e);if(!n){var i=t.data.targets.map((function(t){return t.values})),a=t.getMinMaxValue(i),r=[],o=[];i.forEach((function(e){var n=t.getFilteredDataByValue(e,a.min),i=t.getFilteredDataByValue(e,a.max);n.length&&(r=r.concat(n)),i.length&&(o=o.concat(i))})),t.cache.add(e,n={min:r,max:o})}return n},getTotalPerIndex:function(){var t=this,e=t.cache.get("$totalPerIndex");return t.isStackNormalized()&&!e&&(e=[],t.data.targets.forEach((function(t){t.values.forEach((function(t,n){e[n]||(e[n]=0),e[n]+=j(t.value)?t.value:0}))}))),e},getTotalDataSum:function(t){var e=this,n="$dataTotalSum",i=e.cache.get(n);if(!j(i)){var a=yt(e.data.targets.map((function(t){return t.values}))).map((function(t){return t.value})).reduce((function(t,e){return t+e}));e.cache.add(n,i=a)}return t&&(i-=e.getHiddenTotalDataSum()),i},getHiddenTotalDataSum:function(){var t=this.api,e=this.state.hiddenTargetIds,n=0;return e.length&&(n=t.data.values.bind(t)(e).reduce((function(t,e){return t+e}))),n},getFilteredDataByValue:function(t,e){var n=this;return t.filter((function(t){return n.getBaseValue(t)===e}))},getMaxDataCount:function(){return Math.max.apply(Math,this.data.targets.map((function(t){return t.values.length})))},getMaxDataCountTarget:function(){var t=this.filterTargetsToShow()||[],e=t.length;return e>1?t=Tt(_t(t=t.map((function(t){return t.values})).reduce((function(t,e){return t.concat(e)})).map((function(t){return t.x})))).map((function(t,e){return{x:t,index:e}})):e&&(t=t[0].values),t},mapToIds:function(t){return t.map((function(t){return t.id}))},mapToTargetIds:function(t){return t?it(t)?t.concat():[t]:this.mapToIds(this.data.targets)},hasTarget:function(t,e){for(var n=this.mapToIds(t),i=0,a=void 0;a=n[i];i++)if(a===e)return!0;return!1},isTargetToShow:function(t){return this.state.hiddenTargetIds.indexOf(t)<0},isLegendToShow:function(t){return this.state.hiddenLegendIds.indexOf(t)<0},filterTargetsToShow:function(t){var e=this;return(t||e.data.targets).filter((function(t){return e.isTargetToShow(t.id)}))},mapTargetsToUniqueXs:function(t){var e=this.axis,n=[];return(null==t?void 0:t.length)&&(n=_t(yt(t.map((function(t){return t.values.map((function(t){return+t.x}))})))),n=(null==e?void 0:e.isTimeSeries())?n.map((function(t){return new Date(+t)})):n.map(Number)),Tt(n)},addTargetIds:function(t,e){var n=this.state;(it(e)?e:[e]).forEach((function(e){n[t].indexOf(e)<0&&n[t].push(e)}))},removeTargetIds:function(t,e){var n=this.state;(it(e)?e:[e]).forEach((function(e){var i=n[t].indexOf(e);i>=0&&n[t].splice(i,1)}))},addHiddenTargetIds:function(t){this.addTargetIds("hiddenTargetIds",t)},removeHiddenTargetIds:function(t){this.removeTargetIds("hiddenTargetIds",t)},addHiddenLegendIds:function(t){this.addTargetIds("hiddenLegendIds",t)},removeHiddenLegendIds:function(t){this.removeTargetIds("hiddenLegendIds",t)},getValuesAsIdKeyed:function(t){var e=this,n=e.state.hasAxis,i={},a=e.isMultipleX(),r=a?e.mapTargetsToUniqueXs(t).map((function(t){return G(t)?t:+t})):null;return t.forEach((function(t){var o=[];t.values.filter((function(t){var e=t.value;return H(e)||null===e})).forEach((function(t){var i=t.value;null!==i&&e.isCandlestickType(t)&&(i=it(i)?i.slice(0,4):[i.open,i.high,i.low,i.close]),it(i)?o.push.apply(o,i):at(i)&&"high"in i?o.push.apply(o,Object.values(i)):e.isBubbleZType(t)?o.push(n&&e.getBubbleZData(i,"y")):a?o[e.getIndexByX(t.x,r)]=i:o.push(i)})),i[t.id]=o})),i},checkValueInTargets:function(t,e){for(var n,i=Object.keys(t),a=0;a<i.length;a++){n=t[i[a]].values;for(var r=0;r<n.length;r++)if(e(n[r].value))return!0}return!1},hasMultiTargets:function(){return this.filterTargetsToShow().length>1},hasNegativeValueInTargets:function(t){return this.checkValueInTargets(t,(function(t){return t<0}))},hasPositiveValueInTargets:function(t){return this.checkValueInTargets(t,(function(t){return t>0}))},orderTargets:function(t){var e=V([],t,!0),n=this.getSortCompareFn();return n&&e.sort(n),e},getSortCompareFn:function(t){void 0===t&&(t=!1);var e,n=this.config.data_order,i=/asc/i.test(n),a=/desc/i.test(n);if(i||a){var r=function(t,e){return t+Math.abs(e.value)};e=function(e,n){var a="values"in e?e.values.reduce(r,0):e.value,o="values"in n?n.values.reduce(r,0):n.value;return t?i?a-o:o-a:i?o-a:a-o}}else Z(n)&&(e=n.bind(this.api));return e||null},filterByX:function(t,e){return yt(t.map((function(t){return t.values}))).filter((function(t){return t.x-e==0}))},filterRemoveNull:function(t){var e=this;return t.filter((function(t){return H(e.getBaseValue(t))}))},filterByXDomain:function(t,e){return t.map((function(t){return{id:t.id,id_org:t.id_org,values:t.values.filter((function(t){return e[0]<=t.x&&t.x<=e[1]}))}}))},hasDataLabel:function(){var t=this.config.data_labels;return q(t)&&t||tt(t)&&nt(t)},getDataIndexFromEvent:function(t){var e=this.config,n=this.state,i=n.inputType,a=n.eventReceiver,r=a.coords,o=a.rect,s=e.axis_rotated,c="touch"===i&&t.changedTouches?t.changedTouches[0]:t;return pt(r,s?c.clientY-o.top:c.clientX-o.left,0,r.length-1,s)},getDataLabelLength:function(t,e,n){var i=this,a=[0,0];return i.$el.chart.select("svg").selectAll(".dummy").data([t,e]).enter().append("text").text((function(t){return i.dataLabelFormat(t.id)(t)})).each((function(t,e){a[e]=1.3*this.getBoundingClientRect()[n]})).remove(),a},isNoneArc:function(t){return this.hasTarget(this.data.targets,t.id)},isArc:function(t){return"data"in t&&this.hasTarget(this.data.targets,t.data.id)},findSameXOfValues:function(t,e){var n,i=t[e].x,a=[];for(n=e-1;n>=0&&i===t[n].x;n--)a.push(t[n]);for(n=e;n<t.length&&i===t[n].x;n++)a.push(t[n]);return a},findClosestFromTargets:function(t,e){var n=this,i=t.map((function(t){return n.findClosest(t.values,e)}));return n.findClosest(i,e)},findClosest:function(t,e){var n,i=this,a=i.config,r=i.$el.main,o=t.filter((function(t){return t&&H(t.value)})),s=a.point_sensitivity;return o.filter((function(t){return i.isBarType(t.id)||i.isCandlestickType(t.id)})).forEach((function(t){var e=i.isBarType(t.id)?".".concat(Rt.chartBar,".").concat(Bt.target).concat(i.getTargetSelectorSuffix(t.id)," .").concat(Rt.bar,"-").concat(t.index):".".concat(Ot.chartCandlestick,".").concat(Bt.target).concat(i.getTargetSelectorSuffix(t.id)," .").concat(Ot.candlestick,"-").concat(t.index," path");!n&&i.isWithinBar(r.select(e).node())&&(n=t)})),o.filter((function(t){return!i.isBarType(t.id)&&!i.isCandlestickType(t.id)})).forEach((function(t){var a=i.dist(t,e);a<s&&(s=a,n=t)})),n},dist:function(t,e){var n=this,i=n.config.axis_rotated,a=n.scale,r=i?1:0,o=i?0:1,s=n.circleY(t,t.index),c=(a.zoom||a.x)(t.x);return Math.sqrt(Math.pow(c-e[r],2)+Math.pow(s-e[o],2))},convertValuesToStep:function(t){var e=this.axis,n=this.config.line_step_type,i=!!e&&e.isCategorized(),a=it(t)?t.concat():[t];if(!i&&!/step\-(after|before)/.test(n))return t;var r=a[0],o=a[a.length-1],s=r.id,c=r.x;return a.unshift({x:--c,value:r.value,id:s}),i&&"step-after"===n&&a.unshift({x:--c,value:r.value,id:s}),c=o.x,a.push({x:++c,value:o.value,id:s}),i&&"step-before"===n&&a.push({x:++c,value:o.value,id:s}),a},convertValuesToRange:function(t){var e=it(t)?t.concat():[t],n=[];return e.forEach((function(t){var e=t.x,i=t.id;n.push({x:e,id:i,value:t.value[0]}),n.push({x:e,id:i,value:t.value[2]})})),n},updateDataAttributes:function(t,e){var n=this.config["data_".concat(t)];return U(e)||(Object.keys(e).forEach((function(t){n[t]=e[t]})),this.redraw({withLegend:!0})),n},getRangedData:function(t,e,n){void 0===e&&(e=""),void 0===n&&(n="areaRange");var i=null==t?void 0:t.value;if(it(i)){var a={areaRange:["high","mid","low"],candlestick:["open","high","low","close","volume"]}[n].indexOf(e);return a>=0&&i?i[a]:void 0}return i?i[e]:i},getRatio:function(t,e,n){void 0===n&&(n=!1);var i=this,a=i.config,r=i.state,o=i.api,s=0;if(e&&o.data.shown().length)if(s=e.ratio||e.value,"arc"===t)if(i.pie.padAngle()())s=e.value/i.getTotalDataSum(!0);else{var c=a.gauge_fullCircle?i.getArcLength():-2*i.getStartAngle(),l=i.hasType("gauge")?c:2*Math.PI;s=(e.endAngle-e.startAngle)/l}else if("index"===t){var d=o.data.values.bind(o),u=this.getTotalPerIndex();if(r.hiddenTargetIds.length){var h=d(r.hiddenTargetIds,!1);h.length&&(h=h.reduce((function(t,e){return t.map((function(t,n){return(j(t)?t:0)+e[n]}))})),u=u.map((function(t,e){return t-h[e]})))}e.ratio=j(e.value)&&u&&u[e.index]>0?e.value/u[e.index]:0,s=e.ratio}else if("radar"===t)s=parseFloat(String(Math.max(e.value,0)))/r.current.dataMax*a.radar_size_ratio;else if("bar"===t){var g=i.getYScaleById.bind(i)(e.id).domain().reduce((function(t,e){return e-t}));s=0===g?0:Math.abs(e.value)/g}return n&&s?100*s:s},updateDataIndexByX:function(t){var e=t.reduce((function(t,e,n){return t[Number(e.x)]=n,t}),{});this.data.targets.forEach((function(t){t.values.forEach((function(t,n){var i=e[Number(t.x)];void 0===i&&(i=n),t.index=i}))}))},isBubbleZType:function(t){return this.isBubbleType(t)&&(at(t.value)&&("z"in t.value||"y"in t.value)||it(t.value)&&2===t.value.length)},isBarRangeType:function(t){var e=t.value;return this.isBarType(t)&&it(e)&&2===e.length&&e.every((function(t){return j(t)}))},getDataById:function(t){var e,n=this.cache.get(t)||this.api.data(t);return null!==(e=null==n?void 0:n[0])&&void 0!==e?e:n}},ge={load:function(t,e){var n,i=this,a=e.append,r=t;r&&(e.filter&&(r=r.filter(e.filter)),(e.type||e.types)&&r.forEach((function(t){var n,a=(null===(n=e.types)||void 0===n?void 0:n[t.id])||e.type;i.setTargetType(t.id,a)})),i.data.targets.forEach((function(t){for(var e=0;e<r.length;e++)if(t.id===r[e].id){t.values=a?t.values.concat(r[e].values):r[e].values,r.splice(e,1);break}})),i.data.targets=i.data.targets.concat(r)),i.updateTargets(i.data.targets),i.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),i.updateTypesElements(),null===(n=e.done)||void 0===n||n.call(i.api)},loadFromArgs:function(t){var e=this;if(e.config){e.cache.reset();var n=t.data||e.convertData(t,(function(n){return e.load(e.convertDataToTargets(n),t)}));t.append&&(n.__append__=!0),n&&e.load(e.convertDataToTargets(n),t)}},unload:function(t,e){var n=this,i=n.state,a=n.$el,r=n.$T,o=e,s=t;n.cache.reset(),o||(o=function(){}),(s=s.filter((function(t){return n.hasTarget(n.data.targets,t)})))&&0!==s.length?(r(a.svg.selectAll(s.map((function(t){return n.selectorTarget(t)})))).style("opacity","0").remove().call(st,o),s.forEach((function(t){i.withoutFadeIn[t]=!1,a.legend&&a.legend.selectAll(".".concat(Ft.legendItem).concat(n.getTargetSelectorSuffix(t))).remove(),n.data.targets=n.data.targets.filter((function(e){return e.id!==t}))})),n.updateTypesElements()):o()}},fe={selectRectForSingle:function(t,e,n){var i,a=this,o=a.config,s=a.$el.main,c=o.data_selection_enabled,l=o.data_selection_grouped,d=o.data_selection_isselectable,u=o.tooltip_grouped,h=a.getAllValuesOnIndex(n);u&&(a.showTooltip(h,t),null===(i=a.showGridFocus)||void 0===i||i.call(a,h),!c||l)||s.selectAll(".".concat(Ht.shape,"-").concat(n)).each((function(){var t;(0,r.Z)(this).classed(Bt.EXPANDED,!0),c&&e.style("cursor",l?"pointer":null),u||(null===(t=a.hideGridFocus)||void 0===t||t.call(a),a.hideTooltip(),!l&&a.setExpand(n))})).filter((function(t){return a.isWithinShape(this,t)})).call((function(i){var r,o,s=i.data();c&&(l||(null==d?void 0:d.bind(a.api)(s)))&&e.style("cursor","pointer"),u||(a.showTooltip(s,t),null===(r=a.showGridFocus)||void 0===r||r.call(a,s),null===(o=a.unexpandCircles)||void 0===o||o.call(a),i.each((function(t){return a.setExpand(n,t.id)})))}))},setExpand:function(t,e,n){var i=this,a=i.config;i.$el.circle&&a.point_focus_expand_enabled&&i.expandCircles(t,e,n),i.expandBarTypeShapes(!0,t,e,n)},expandBarTypeShapes:function(t,e,n,i){void 0===t&&(t=!0);var a=this;["bar","candlestick"].filter((function(t){return a.$el[t]})).forEach((function(r){i&&a.$el[r].classed(Bt.EXPANDED,!1),a.getShapeByIndex(r,e,n).classed(Bt.EXPANDED,t)}))},setOverOut:function(t,e){var n=this,i=n.config,a=n.state.hasRadar,o=n.$el.main,s=at(e);if(s||-1!==e){var c=i[t?"data_onover":"data_onout"].bind(n.api);if(i.color_onover&&n.setOverColor(t,e,s),s)c(e,o.select(".".concat(Lt.arc).concat(n.getTargetSelectorSuffix(e.id))).node());else if(i.tooltip_grouped)t&&(i.point_focus_only&&a?n.showCircleFocus(n.getAllValuesOnIndex(e,!0)):n.setExpand(e,null,!0)),!n.isMultipleX()&&o.selectAll(".".concat(Ht.shape,"-").concat(e)).each((function(t){c(t,this)}));else{var l=n.cache.get(re)||[],d=o.selectAll(".".concat(Ht.shape,"-").concat(e)).filter((function(t){return n.isWithinShape(this,t)}));d.each((function(t){var e=this;(0===l.length||l.every((function(t){return t!==e})))&&(c(t,this),l.push(this))})),l.length>0&&d.empty()&&(c=i.data_onout.bind(n.api),l.forEach((function(t){return c((0,r.Z)(t).datum(),t)})),l=[]),n.cache.add(re,l)}}},callOverOutForTouch:function(t){var e=this,n=e.cache.get(oe);(at(t)&&n?t.id!==n.id:t!==n)&&((n||j(n))&&e.setOverOut(!1,n),(t||j(t))&&e.setOverOut(!0,t),e.cache.add(oe,t))},getDraggableSelection:function(){var t=this,e=t.config,n=t.state;return e.interaction_enabled&&e.data_selection_draggable&&t.drag?(0,u.Z)().on("drag",(function(e){n.event=e,t.drag(ut(e,this))})).on("start",(function(e){n.event=e,t.dragstart(ut(e,this))})).on("end",(function(e){n.event=e,t.dragend()})):function(){}},dispatchEvent:function(t,e,n){var i=this,a=i.config,r=i.state,o=r.eventReceiver,s=r.hasAxis,c=r.hasRadar,l=i.$el,d=l.eventRect,u=l.arcs,h=l.radar,g=i.isMultipleX(),f=(c?h.axes.select(".".concat(It.axis,"-").concat(e," text")):d||u.selectAll(".".concat(Bt.target," path")).filter((function(t,n){return n===e}))).node(),p=f.getBoundingClientRect(),x=p.width,v=p.left,b=p.top;if(s&&!c&&!g){var m=o.coords[e];x=m.w,v+=m.x,b+=m.y}var _=v+(n?n[0]:0)+(g||a.axis_rotated?0:x/2),y=b+(n?n[1]:0),A={screenX:_,screenY:y,clientX:_,clientY:y};wt[/^(mouse|click)/.test(t)?"mouse":"touch"](f,t,A)},setDragStatus:function(t){this.state.dragging=t},unbindZoomEvent:function(){var t=this.$el,e=t.eventRect,n=t.zoomResetBtn;null==e||e.on(".zoom wheel.zoom .drag",null),null==n||n.on("click",null).style("display","none")},unbindAllEvents:function(){var t,e=this,n=e.$el,i=n.arcs,a=n.eventRect,r=n.legend,o=n.region,s=n.svg,c=e.brush,l=["wheel","click","mouseover","mousemove","mouseout","touchstart","touchmove","touchend","touchstart.eventRect","touchmove.eventRect","touchend.eventRect",".brush",".drag",".zoom","wheel.zoom","dblclick.zoom"].join(" ");[s,a,null==o?void 0:o.list,null==c?void 0:c.getSelection(),null==i?void 0:i.selectAll("path"),null==r?void 0:r.selectAll("g")].forEach((function(t){return null==t?void 0:t.on(l,null)})),null===(t=e.unbindZoomEvent)||void 0===t||t.call(e)}},pe={generateClass:function(t,e){return" ".concat(t," ").concat(t+this.getTargetSelectorSuffix(e))},getClass:function(t,e){var n=this,i=/s$/.test(t),a=/^(area|arc|line)s?$/.test(t),r=i?"id":"index";return function(o){var s=o.data||o;return((e?n.generateClass(Ut[i?"shapes":"shape"],s[r]):"")+n.generateClass(Ut[t],s[a?"id":r])).trim()}},getChartClass:function(t){var e=this;return function(n){return Ut["chart".concat(t)]+e.classTarget((n.data?n.data:n).id)}},generateExtraLineClass:function(){var t=this.config.line_classes||[],e=[];return function(n){var i,a=n.id||(null===(i=n.data)||void 0===i?void 0:i.id)||n;return e.indexOf(a)<0&&e.push(a),t[e.indexOf(a)%t.length]}},classRegion:function(t,e){return"".concat(this.generateClass(Ut.region,e)," ").concat("class"in t?t.class:"")},classTarget:function(t){var e=this.config.data_classes[t],n="";return e&&(n=" ".concat(Ut.target,"-").concat(e)),this.generateClass(Ut.target,t)+n},classFocus:function(t){return this.classFocused(t)+this.classDefocused(t)},classFocused:function(t){return" ".concat(this.state.focusedTargetIds.indexOf(t.id)>=0?Ut.focused:"")},classDefocused:function(t){return" ".concat(this.state.defocusedTargetIds.indexOf(t.id)>=0?Ut.defocused:"")},getTargetSelectorSuffix:function(t){return(t||0===t?"-".concat(t):"").replace(/([\s?!@#$%^&*()_=+,.<>'":;\[\]\/|~`{}\\])/g,"-")},selectorTarget:function(t,e){var n=e||"",i=this.getTargetSelectorSuffix(t);return"".concat(n,".").concat(Ut.target+i,", ").concat(n,".").concat(Ut.circles+i)},selectorTargets:function(t,e){var n=this,i=t||[];return i.length?i.map((function(t){return n.selectorTarget(t,e)})):null},selectorLegend:function(t){return".".concat(Ut.legendItem+this.getTargetSelectorSuffix(t))},selectorLegends:function(t){var e=this;return(null==t?void 0:t.length)?t.map((function(t){return e.selectorLegend(t)})):null}},xe=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],ve={getColorFromCss:function(){var t="__colorPattern__",e=F.body,n=e[t];if(!n){var i=F.createElement("span");i.className=Dt.colorPattern,i.style.display="none",e.appendChild(i);var a=P.getComputedStyle(i).backgroundImage;i.parentNode.removeChild(i),a.indexOf(";")>-1&&(n=a.replace(/url[^#]*|["'()]|(\s|%20)/g,"").split(";").map((function(t){return t.trim().replace(/[\"'\s]/g,"")})).filter(Boolean),e[t]=n)}return n},generateColor:function(){var t=this,e=t.config,n=e.data_colors,i=e.data_color,a=[],o=nt(e.color_pattern)?e.color_pattern:(0,h.Z)(t.getColorFromCss()||xe).range(),s=o;if(Z(e.color_tiles)){var c=e.color_tiles.bind(t.api)(),l=o.map((function(e,n){var i=e.replace(/[#\(\)\s,]/g,""),a="".concat(t.state.datetimeId,"-pattern-").concat(i,"-").concat(n);return function(t,e,n){var i=(0,r.Z)(t.cloneNode(!0));return i.attr("id",n).insert("rect",":first-child").attr("width",i.attr("width")).attr("height",i.attr("height")).style("fill",e),{id:n,node:i.node()}}(c[n%c.length],e,a)}));o=l.map((function(t){return"url(#".concat(t.id,")")})),t.patterns=l}return function(r){var c,l,d=r.id||(null===(c=r.data)||void 0===c?void 0:c.id)||r,u=t.isTypeOf(d,["line","spline","step"])||!e.data_types[d];return Z(n[d])?l=n[d].bind(t.api)(r):n[d]?l=n[d]:(a.indexOf(d)<0&&a.push(d),l=u?s[a.indexOf(d)%s.length]:o[a.indexOf(d)%o.length],n[d]=l),Z(i)?i.bind(t.api)(l,r):l}},generateLevelColor:function(){var t=this.config,e=t.color_pattern,n=t.color_threshold,i="value"===n.unit,a=n.max||100,r=n.values&&n.values.length?n.values:[];return nt(n)?function(t){for(var n=i?t:100*t/a,o=e[e.length-1],s=0,c=r.length;s<c;s++)if(n<=r[s]){o=e[s];break}return o}:null},generateDataLabelBackgroundColorFilter:function(t){var e=this,n=e.$el,i=e.config,a=e.state,r=t||i.data_labels_backgroundColors;if(r){var o=[];G(r)?o.push(""):at(r)&&(o=Object.keys(r)),o.forEach((function(i){var o="".concat(a.datetimeId,"-labels-bg").concat(e.getTargetSelectorSuffix(i)).concat(t?e.getTargetSelectorSuffix(t):"");n.defs.append("filter").attr("x","0").attr("y","0").attr("width","1").attr("height","1").attr("id",o).html('<feFlood flood-color="'.concat(""===i?r:r[i],'" /><feComposite in="SourceGraphic"/>'))}))}},setOverColor:function(t,e){var n=this,i=n.config,a=n.$el.main,r=i.color_onover,o=t?r:n.color;at(o)?o=function(t){var e=t.id;return e in r?r[e]:n.color(e)}:G(o)?o=function(){return r}:Z(r)&&(o=o.bind(n.api)),a.selectAll(at(e)?".".concat(Lt.arc).concat(n.getTargetSelectorSuffix(e.id)):".".concat(Ht.shape,"-").concat(e)).style("fill",o)}},be={getYDomainMinMax:function(t,e){var n=this,i=n.axis,a=n.config,r="min"===e,o=a.data_groups,s=n.mapToIds(t),c=n.getValuesAsIdKeyed(t);if(o.length>0){var l=n["has".concat(r?"Negative":"Positive","ValueInTargets")](t);o.forEach((function(t){var e=t.filter((function(t){return s.indexOf(t)>=0}));if(e.length){var n=e[0],a=i.getId(n);l&&c[n]&&(c[n]=c[n].map((function(t){return(r?t<0:t>0)?t:0}))),e.filter((function(t,e){return e>0})).forEach((function(t){if(c[t]){var e=i.getId(t);c[t].forEach((function(t,i){var o=+t;e!==a||l&&(r?o>0:o<0)||(c[n][i]+=o)}))}}))}}))}return Et(e,Object.keys(c).map((function(t){return Et(e,c[t])})))},isHiddenTargetWithYDomain:function(t){var e=this;return e.state.hiddenTargetIds.some((function(n){return e.axis.getId(n)===t}))},getYDomain:function(t,e,n){var i=this,a=i.axis,r=i.config,o=i.scale,s="axis_".concat(e);if(i.isStackNormalized())return[0,100];var c=(null==o?void 0:o[e])&&"log"===o[e].type,l=t.filter((function(t){return a.getId(t.id)===e})),d=n?i.filterByXDomain(l,n):l;if(0===d.length)return i.isHiddenTargetWithYDomain(e)?o[e].domain():"y2"===e?o.y.domain():i.getYDomain(t,"y2",n);var u=r["".concat(s,"_min")],h=r["".concat(s,"_max")],g=r["".concat(s,"_center")],f=r["".concat(s,"_inverted")],p=i.hasDataLabel()&&r.axis_rotated,x=i.hasDataLabel()&&!r.axis_rotated,v=i.getYDomainMinMax(d,"min"),b=i.getYDomainMinMax(d,"max"),m=V([$.BAR,$.BUBBLE,$.SCATTER],Y.Line,!0).some((function(t){var e=t.indexOf("area")>-1?"area":t;return i.hasType(t,d,!0)&&r["".concat(e,"_zerobased")]}));v=H(u)?u:H(h)?v<h?v:h-10:v,b=H(h)?h:H(u)?u<b?b:u+10:b,isNaN(v)&&(v=0),isNaN(b)&&(b=v),v===b&&(v<0?b=0:v=0);var _=v>=0&&b>=0,y=v<=0&&b<=0;(H(u)&&_||H(h)&&y)&&(m=!1),m&&(_&&(v=0),y&&(b=0));var A=Math.abs(b-v),T={top:.1*A,bottom:.1*A};if(W(g)){var E=Math.max(Math.abs(v),Math.abs(b));b=g+E,v=g-E}if(p){var w=Q(o.y.range()),k=i.getDataLabelLength(v,b,"width").map((function(t){return t/w}));["bottom","top"].forEach((function(t,e){T[t]+=A*(k[e]/(1-k[0]-k[1]))}))}else if(x){var C=i.getDataLabelLength(v,b,"height");["bottom","top"].forEach((function(t,e){T[t]+=i.convertPixelToScale("y",C[e],A)}))}T=i.getResettedPadding(T);var S=r["".concat(s,"_padding")];nt(S)&&["bottom","top"].forEach((function(t){T[t]=a.getPadding(S,t,T[t],A)})),m&&(_&&(T.bottom=v),y&&(T.top=-b));var B=c?[v,b].map((function(t){return t<0?0:t})):[v-T.bottom,b+T.top];return f?B.reverse():B},getXDomainMinMax:function(t,e){var n,i=this.config["axis_x_".concat(e)],a=Et(e,t.map((function(t){return Et(e,t.values.map((function(t){return t.x})))}))),r=at(i)?i.value:i;return r=W(r)&&(null===(n=this.axis)||void 0===n?void 0:n.isTimeSeries())?Ct.bind(this)(r):r,at(i)&&i.fit&&("min"===e&&r<a||"max"===e&&r>a)&&(r=void 0),W(r)?r:a},getXDomainPadding:function(t,e){var n,i=this,a=i.axis,r=i.config.axis_x_padding,o=a.isTimeSeries()&&e,s=Q(t);if(a.isCategorized()||o)n=0;else if(i.hasType("bar")){var c=i.getMaxDataCount();n=c>1?s/(c-1)/2:.5}else n=i.getResettedPadding(.01*s);var l=j(r)?{left:r,right:r}:r,d=l.left,u=void 0===d?n:d,h=l.right,g=void 0===h?n:h;if("px"===r.unit){var f=Math.abs(s+.2*s);u=a.getPadding(r,"left",n,f),g=a.getPadding(r,"right",n,f)}else{var p=s+u+g;if(o&&p){var x=s/e/p;u=u/p/x,g=g/p/x}}return{left:u,right:g}},getXDomain:function(t){var e=this,n=e.axis,i=e.scale.x,a=[e.getXDomainMinMax(t,"min"),e.getXDomainMinMax(t,"max")],r=a[0],o=void 0===r?0:r,s=a[1],c=void 0===s?0:s;if("log"!==i.type){var l=n.isCategorized(),d=n.isTimeSeries(),u=e.getXDomainPadding(a),h=a[0],g=a[1];h-g!=0||l||(d?(h=new Date(.5*h.getTime()),g=new Date(1.5*g.getTime())):(h=0===h?1:.5*h,g=0===g?-1:1.5*g)),(h||0===h)&&(o=d?new Date(h.getTime()-u.left):h-u.left),(g||0===g)&&(c=d?new Date(g.getTime()+u.right):g+u.right)}return[o,c]},updateXDomain:function(t,e,n,i,a){var r,o,s=this,c=s.config,l=s.org,d=s.scale,u=d.x,h=d.subX,g=c.zoom_enabled;if(n&&(u.domain(a||Tt(s.getXDomain(t))),l.xDomain=u.domain(),g&&s.zoom.updateScaleExtent(),h.domain(u.domain()),null===(r=s.brush)||void 0===r||r.scale(h)),e){var f=!a&&s.brush&&((o=ht(s))&&o[0]!==o[1])?ht(s).map(h.invert):l.xDomain;u.domain(f),g&&s.zoom.updateScaleExtent()}return i&&u.domain(s.trimXDomain(u.orgDomain())),u.domain()},trimXDomain:function(t){var e=this.getZoomDomain(),n=e[0],i=e[1];return t[0]<=n&&(t[1]=+t[1]+(n-t[0]),t[0]=n),i<=t[1]&&(t[0]=+t[0]-(t[1]-i),t[1]=i),t},getZoomDomain:function(){var t=this.config,e=this.org.xDomain,n=e[0],i=e[1];return W(t.zoom_x_min)&&(n=Et("min",[n,t.zoom_x_min])),W(t.zoom_x_max)&&(i=Et("max",[i,t.zoom_x_max])),[n,i]},convertPixelToScale:function(t,e,n){var i=this.config,a=this.state,r=i.axis_rotated;return n*(e/a["x"===t?r?"height":"width":r?"width":"height"])}};function me(t,e,n){var i=t.config,a="axis_".concat(e,"_tick_format");return(i[a]?i[a]:t.defaultValueFormat)(n)}var _e={yFormat:function(t){return me(this,"y",t)},y2Format:function(t){return me(this,"y2",t)},getDefaultValueFormat:function(){var t=this,e=t.defaultArcValueFormat,n=t.yFormat,i=t.y2Format,a=t.hasArcType(null,["gauge","polar","radar"]);return function(r,o,s){return(a?e:t.axis&&"y2"===t.axis.getId(s)?i:n).call(t,r,o)}},defaultValueFormat:function(t){return H(t)?+t:""},defaultArcValueFormat:function(t,e){return"".concat((100*e).toFixed(1),"%")},defaultPolarValueFormat:function(t){return"".concat(t)},dataLabelFormat:function(t){var e=this.config.data_labels,n=function(t){return H(t)?+t:""},i=n;return Z(e.format)?i=e.format:tt(e.format)&&(i=e.format[t]?!0===e.format[t]?n:e.format[t]:function(){return""}),i.bind(this.api)}},ye={initLegend:function(){var t=this,e=t.config,n=t.$el;t.legendItemTextBox={},t.state.legendHasRendered=!1,e.legend_show?(e.legend_contents_bindto||(n.legend=t.$el.svg.append("g").classed(Ft.legend,!0).attr("transform",t.getTranslate("legend"))),t.updateLegend()):t.state.hiddenLegendIds=t.mapToIds(t.data.targets)},updateLegend:function(t,e,n){var i=this,a=i.config,r=i.state,o=i.scale,s=i.$el,c=e||{withTransform:!1,withTransitionForTransform:!1,withTransition:!1};c.withTransition=rt(c,"withTransition",!0),c.withTransitionForTransform=rt(c,"withTransitionForTransform",!0),a.legend_contents_bindto&&a.legend_contents_template?i.updateLegendTemplate():i.updateLegendElement(t||i.mapToIds(i.data.targets),c,n),s.legend.selectAll(".".concat(Ft.legendItem)).classed(Ft.legendItemHidden,(function(t){var e=!i.isTargetToShow(t);return e&&(this.style.opacity=null),e})),i.updateScales(!1,!o.zoom),i.updateSvgSize(),i.transformAll(c.withTransitionForTransform,n),r.legendHasRendered=!0},updateLegendTemplate:function(){var t=this,e=t.config,n=t.$el,i=(0,r.Z)(e.legend_contents_bindto),a=e.legend_contents_template;if(!i.empty()){var o=t.mapToIds(t.data.targets),s=[],c="";o.forEach((function(e){var n=Z(a)?a.bind(t.api)(e,t.color(e),t.api.data(e)[0].values):kt(a,{COLOR:t.color(e),TITLE:e});n&&(s.push(e),c+=n)}));var l=i.html(c).selectAll((function(){return this.childNodes})).data(s);t.setLegendItem(l),n.legend=i}},updateSizeForLegend:function(t){var e=this,n=e.config,i=e.state,a=i.isLegendTop,r=i.isLegendLeft,o=i.isLegendRight,s=i.isLegendInset,c=i.current,l=t.width,d=t.height,u={top:a?e.getCurrentPaddingTop()+n.legend_inset_y+5.5:c.height-d-e.getCurrentPaddingBottom()-n.legend_inset_y,left:r?e.getCurrentPaddingLeft()+n.legend_inset_x+.5:c.width-l-e.getCurrentPaddingRight()-n.legend_inset_x+.5};e.state.margin3={top:o?0:s?u.top:c.height-d,right:NaN,bottom:0,left:o?c.width-l:s?u.left:0}},transformLegend:function(t){var e=this,n=e.$el.legend;(0,e.$T)(n,t).attr("transform",e.getTranslate("legend"))},updateLegendStep:function(t){this.state.legendStep=t},updateLegendItemWidth:function(t){this.state.legendItemWidth=t},updateLegendItemHeight:function(t){this.state.legendItemHeight=t},updateLegendItemColor:function(t,e){var n=this.$el.legend;n&&n.select(".".concat(Ft.legendItem,"-").concat(t," line")).style("stroke",e)},getLegendWidth:function(){var t=this.state,e=t.current.width,n=t.isLegendRight,i=t.isLegendInset,a=t.legendItemWidth,r=t.legendStep;return this.config.legend_show?n||i?a*(r+1):e:0},getLegendHeight:function(){var t=this.state,e=t.current,n=t.isLegendRight,i=t.legendItemHeight,a=t.legendStep;return this.config.legend_show?n?e.height:Math.max(20,i)*(a+1):0},opacityForUnfocusedLegend:function(t){return t.classed(Ft.legendItemHidden)?null:"0.3"},toggleFocusLegend:function(t,e){var n=this,i=n.$el.legend,a=n.$T,o=n.mapToTargetIds(t);i&&a(i.selectAll(".".concat(Ft.legendItem)).filter((function(t){return o.indexOf(t)>=0})).classed(Mt.legendItemFocused,e)).style("opacity",(function(){return e?null:n.opacityForUnfocusedLegend.call(n,(0,r.Z)(this))}))},revertLegend:function(){var t=this.$el.legend,e=this.$T;t&&e(t.selectAll(".".concat(Ft.legendItem)).classed(Mt.legendItemFocused,!1)).style("opacity",null)},showLegend:function(t){var e=this,n=e.config,i=e.$el,a=e.$T;n.legend_show||(n.legend_show=!0,i.legend?i.legend.style("visibility",null):e.initLegend(),!e.state.legendHasRendered&&e.updateLegend()),e.removeHiddenLegendIds(t),a(i.legend.selectAll(e.selectorLegends(t)).style("visibility",null)).style("opacity",null)},hideLegend:function(t){var e=this,n=e.config,i=e.$el.legend;n.legend_show&&et(t)&&(n.legend_show=!1,i.style("visibility","hidden")),e.addHiddenLegendIds(t),i.selectAll(e.selectorLegends(t)).style("opacity","0").style("visibility","hidden")},getLegendItemTextBox:function(t,e){var n,i=this,a=i.cache,r=i.state,o="legendItemTextBox";return t&&((n=!r.redrawing&&a.get(o)||{})[t]||(n[t]=i.getTextRect(e,Ft.legendItem),a.add(o,n)),n=n[t]),n},setLegendItem:function(t){var e=this,n=e.api,i=e.config,a=e.state,o="touch"===a.inputType,s=e.hasType("gauge");t.attr("class",(function(t){var n=(0,r.Z)(this);return(!n.empty()&&n.attr("class")||"")+e.generateClass(Ft.legendItem,t)})).style("visibility",(function(t){return e.isLegendToShow(t)?null:"hidden"})),i.interaction_enabled&&(t.style("cursor","pointer").on("click",(function(t,a){ot(i.legend_item_onclick,n,a)||(t.altKey?(n.hide(),n.show(a)):(n.toggle(a),(0,r.Z)(this).classed(Mt.legendItemFocused,!1))),o&&e.hideTooltip()})),!o&&t.on("mouseout",(function(t,a){ot(i.legend_item_onout,n,a)||((0,r.Z)(this).classed(Mt.legendItemFocused,!1),s&&e.undoMarkOverlapped(e,".".concat(Pt.gaugeValue)),e.api.revert())})).on("mouseover",(function(t,o){ot(i.legend_item_onover,n,o)||((0,r.Z)(this).classed(Mt.legendItemFocused,!0),s&&e.markOverlapped(o,e,".".concat(Pt.gaugeValue)),!a.transiting&&e.isTargetToShow(o)&&n.focus(o))})))},updateLegendElement:function(t,e){var n,i,a,s=this,c=s.config,l=s.state,d=s.$el.legend,u=s.$T,h=c.legend_item_tile_width+5,g=0,f=0,p=0,x={},v={},b={},m=[0],_={},y=0,A=l.isLegendRight||l.isLegendInset,T=t.filter((function(t){return!W(c.data_names[t])||null!==c.data_names[t]})),E=e.withTransition,w=function(t,e,n){var i,a=0===n,r=n===T.length-1,o=s.getLegendItemTextBox(e,t),d=o.width+h+(r&&!A?0:10)+c.legend_padding,u=o.height+4,E=A?u:d,w=A?s.getLegendHeight():s.getLegendWidth(),k=function(t,e){e||(i=(w-p-E)/2)<10&&(i=(w-E)/2,p=0,y++),_[t]=y,m[y]=l.isLegendInset?10:i,x[t]=p,p+=E};if(a&&(p=0,y=0,g=0,f=0),c.legend_show&&!s.isLegendToShow(e))return v[e]=0,b[e]=0,_[e]=0,void(x[e]=0);v[e]=d,b[e]=u,(!g||d>=g)&&(g=d),(!f||u>=f)&&(f=u);var C=A?f:g;c.legend_equally?(Object.keys(v).forEach((function(t){return v[t]=g})),Object.keys(b).forEach((function(t){return b[t]=f})),(i=(w-C*T.length)/2)<10?(p=0,y=0,T.forEach((function(t){return k(t)}))):k(e,!0)):k(e)};l.isLegendInset&&(y=c.legend_inset_step?c.legend_inset_step:T.length,s.updateLegendStep(y)),l.isLegendRight?(n=function(t){return g*_[t]},i=function(t){return m[_[t]]+x[t]}):l.isLegendInset?(n=function(t){return g*_[t]+10},i=function(t){return m[_[t]]+x[t]}):(n=function(t){return m[_[t]]+x[t]},i=function(t){return f*_[t]});var k=function(t,e){return n(t,e)+4+c.legend_item_tile_width},C=function(t,e){return n(t,e)},S=function(t,e){return n(t,e)-2},B=function(t,e){return n(t,e)-2+c.legend_item_tile_width},L=function(t,e){return i(t,e)+9},I=function(t,e){return i(t,e)-5},R=function(t,e){return i(t,e)+4},O=-200,X=d.selectAll(".".concat(Ft.legendItem)).data(T).enter().append("g");s.setLegendItem(X),X.append("text").text((function(t){return W(c.data_names[t])?c.data_names[t]:t})).each((function(t,e){w(this,t,e)})).style("pointer-events","none").attr("x",A?k:O).attr("y",A?O:L),X.append("rect").attr("class",Ft.legendItemEvent).style("fill-opacity","0").attr("x",A?C:O).attr("y",A?O:I);var D=function(t){var e=s.getDataById(t);return s.levelColor?s.levelColor(e.values[0].value):s.color(e)},z=c.legend_usePoint;if(z){var P=[];X.append((function(t){var e=nt(c.point_pattern)?c.point_pattern:[c.point_type];-1===P.indexOf(t)&&P.push(t);var n=e[P.indexOf(t)%e.length];return"rectangle"===n&&(n="rect"),F.createElementNS(o.Z.svg,"hasValidPointType"in s&&s.hasValidPointType(n)?n:"use")})).attr("class",Ft.legendItemPoint).style("fill",D).style("pointer-events","none").attr("href",(function(t,e,n){var i=n[e].nodeName.toLowerCase(),a=s.getTargetSelectorSuffix(t);return"use"===i?"#".concat(l.datetimeId,"-point").concat(a):void 0}))}else X.append("line").attr("class",Ft.legendItemTile).style("stroke",D).style("pointer-events","none").attr("x1",A?S:O).attr("y1",A?O:R).attr("x2",A?B:O).attr("y2",A?O:R).attr("stroke-width",c.legend_item_tile_height);a=d.select(".".concat(Ft.legendBackground," rect")),l.isLegendInset&&g>0&&0===a.size()&&(a=d.insert("g",".".concat(Ft.legendItem)).attr("class",Ft.legendBackground).append("rect")),u(d.selectAll("text").data(T).text((function(t){return W(c.data_names[t])?c.data_names[t]:t})).each((function(t,e){w(this,t,e)})),E).attr("x",k).attr("y",L),u(d.selectAll("rect.".concat(Ft.legendItemEvent)).data(T),E).attr("width",(function(t){return v[t]})).attr("height",(function(t){return b[t]})).attr("x",C).attr("y",I),z?u(d.selectAll(".".concat(Ft.legendItemPoint)).data(T),E).each((function(){var t,e,n,i=this.nodeName.toLowerCase(),a=c.point_r,o="x",s="y",l=2,d=2.5;if("circle"===i)o="cx",s="cy",t=a+(u=.2*a),l=2*a,d=-u;else if("rect"===i){var u;e=u=2.5*a,n=u,d=3}(0,r.Z)(this).attr(o,(function(t){return S(t)+l})).attr(s,(function(t){return R(t)-d})).attr("r",t).attr("width",e).attr("height",n)})):u(d.selectAll("line.".concat(Ft.legendItemTile)).data(T),E).style("stroke",D).attr("x1",S).attr("y1",R).attr("x2",B).attr("y2",R),a&&u(a,E).attr("height",s.getLegendHeight()-12).attr("width",g*(y+1)+10),s.updateLegendItemWidth(g),s.updateLegendItemHeight(f),s.updateLegendStep(y)}},Ae={redraw:function(t){var e,n,i;void 0===t&&(t={});var a=this,r=a.config,o=a.state,s=a.$el,c=s.main;o.redrawing=!0;var l=a.filterTargetsToShow(a.data.targets),d=t.flow,u=t.initializing,h=a.getWithOption(t),g=h.Transition?r.transition_duration:0,f=h.TransitionForExit?g:0,p=h.TransitionForAxis?g:0,x=null===(e=a.axis)||void 0===e?void 0:e.generateTransitions(p);a.updateSizes(u),h.Legend&&r.legend_show?(t.withTransition=!!g,a.updateLegend(a.mapToIds(a.data.targets),t,x)):h.Dimension&&a.updateDimension(!0),a.hasArcType()&&!o.hasRadar||a.updateCircleY&&(a.circleY=a.updateCircleY()),o.hasAxis?(a.axis.redrawAxis(l,h,x,d,u),r.data_empty_label_text&&c.select("text.".concat(Gt.text,".").concat(Bt.empty)).attr("x",o.width/2).attr("y",o.height/2).text(r.data_empty_label_text).style("display",l.length?"none":null),a.hasGrid()&&a.updateGrid(),r.regions.length&&a.updateRegion(),["bar","candlestick","line","area"].forEach((function(t){var e=vt(t);(/^(line|area)$/.test(t)&&a.hasTypeOf(e)||a.hasType(t))&&a["update".concat(e)](h.TransitionForExit)})),s.text&&c.selectAll(".".concat(Vt.selectedCircles)).filter(a.isBarType.bind(a)).selectAll("circle").remove(),r.interaction_enabled&&!d&&h.EventRect&&(a.redrawEventRect(),null===(n=a.bindZoomEvent)||void 0===n||n.call(a))):(s.arcs&&a.redrawArc(g,f,h.Transform),s.radar&&a.redrawRadar(),s.polar&&a.redrawPolar()),o.resizing||!a.hasPointType()&&!o.hasRadar||a.updateCircle(),a.hasDataLabel()&&!a.hasArcType(null,["radar"])&&a.updateText(),null===(i=a.redrawTitle)||void 0===i||i.call(a),u&&a.updateTypesElements(),a.generateRedrawList(l,d,g,h.Subchart),a.callPluginHook("$redraw",t,g)},generateRedrawList:function(t,e,n,i){var a=this,r=a.config,o=a.state,s=a.getDrawShape();o.hasAxis&&r.subchart_show&&a.redrawSubchart(i,n,s);var c=e&&a.generateFlow({targets:t,flow:e,duration:e.duration,shape:s,xv:a.xv.bind(a)}),l=(n||c)&&St(),d=a.getRedrawList(s,e,c,l),u=function(){c&&c(),o.redrawing=!1,ot(r.onrendered,a.api)};if(u)if(l&&d.length){var h=de();(0,b.eR)().duration(n).each((function(){d.reduce((function(t,e){return t.concat(e)}),[]).forEach((function(t){return h.add(t)}))})).call(h,u)}else o.transiting||u();a.mapToIds(a.data.targets).forEach((function(t){o.withoutFadeIn[t]=!0}))},getRedrawList:function(t,e,n,i){var a=this,r=a.config,o=a.state,s=o.hasAxis,c=o.hasRadar,l=a.$el.grid,d=t.pos,u=d.cx,h=d.cy,g=d.xForText,f=d.yForText,p=[];return s&&((r.grid_x_lines.length||r.grid_y_lines.length)&&p.push(a.redrawGrid(i)),r.regions.length&&p.push(a.redrawRegion(i)),Object.keys(t.type).forEach((function(e){var n=vt(e),r=t.type[e];(/^(area|line)$/.test(e)&&a.hasTypeOf(n)||a.hasType(e))&&p.push(a["redraw".concat(n)](r,i))})),!e&&l.main&&p.push(a.updateGridFocus())),a.hasArcType()&&!c||nt(r.data_labels)&&!1!==r.data_labels&&p.push(a.redrawText(g,f,e,i)),!a.hasPointType()&&!c||r.point_focus_only||a.redrawCircle&&p.push(a.redrawCircle(u,h,i,n)),p},updateAndRedraw:function(t){void 0===t&&(t={});var e,n=this,i=n.config,a=n.state;t.withTransition=rt(t,"withTransition",!0),t.withTransform=rt(t,"withTransform",!1),t.withLegend=rt(t,"withLegend",!1),t.withUpdateXDomain=!0,t.withUpdateOrgXDomain=!0,t.withTransitionForExit=!1,t.withTransitionForTransform=rt(t,"withTransitionForTransform",t.withTransition),t.withLegend&&i.legend_show||(a.hasAxis&&(e=n.axis.generateTransitions(t.withTransitionForAxis?i.transition_duration:0)),n.updateScales(),n.updateSvgSize(),n.transformAll(t.withTransitionForTransform,e)),n.redraw(t,e)},redrawWithoutRescale:function(){this.redraw({withY:!1,withDimension:!1,withLegend:!1,withSubchart:!1,withEventRect:!1,withTransitionForAxis:!1})}};function Te(t,e,n){void 0===t&&(t="linear"),void 0===e&&(e=0),void 0===n&&(n=1);var i={linear:g.Z,log:f.Z,_log:p.Z,time:x.Z,utc:v.Z}[t]();return i.type=t,/_?log/.test(t)&&i.clamp(!0),i.range([e,n])}var Ee={getXScale:function(t,e,n,i){var a=this,r=a.scale.zoom||Te(a.axis.getAxisType("x"),t,e);return a.getCustomizedScale(n?r.domain(n):r,i)},getYScale:function(t,e,n,i){var a=Te(this.axis.getAxisType(t),e,n);return i&&a.domain(i),a},getYScaleById:function(t,e){void 0===e&&(e=!1);var n="y2"===this.axis.getId(t),i=e?n?"subY2":"subY":n?"y2":"y";return this.scale[i]},getCustomizedScale:function(t,e){var n=this,i=e||function(){return n.axis.x.tickOffset()},a=function(e,n){var a=t(e)+i();return n?a:Math.ceil(a)};for(var r in t)a[r]=t[r];return a.orgDomain=function(){return t.domain()},a.orgScale=function(){return t},n.axis.isCategorized()&&(a.domain=function(e){var n=e;return arguments.length?(t.domain(n),a):[(n=this.orgDomain())[0],n[1]+1]}),a},updateScales:function(t,e){var n,i;void 0===e&&(e=!0);var a=this,r=a.axis,o=a.config,s=a.format,c=a.org,l=a.scale,d=a.state,u=d.width,h=d.height,g=d.width2,f=d.height2;if(d.hasAxis){var p=o.axis_rotated,x=a.getResettedPadding(1),v={x:p?x:0,y:p?0:h,subX:p?1:0,subY:p?0:f},b={x:p?h:u,y:p?u:x,subX:p?h:u,subY:p?g:1},m=e&&(null===(n=l.x)||void 0===n?void 0:n.orgDomain()),_=e&&c.xDomain;l.x=a.getXScale(v.x,b.x,m,(function(){return r.x.tickOffset()})),l.subX=a.getXScale(v.x,b.x,_,(function(t){return t%1?0:r.subX.tickOffset()})),s.xAxisTick=r.getXAxisTickFormat(),s.subXAxisTick=r.getXAxisTickFormat(!0),r.setAxis("x",l.x,o.axis_x_tick_outer,t),o.subchart_show&&r.setAxis("subX",l.subX,o.axis_x_tick_outer,t),l.y=a.getYScale("y",v.y,b.y,l.y?l.y.domain():o.axis_y_default),l.subY=a.getYScale("y",v.subY,b.subY,l.subY?l.subY.domain():o.axis_y_default),r.setAxis("y",l.y,o.axis_y_tick_outer,t),o.axis_y2_show&&(l.y2=a.getYScale("y2",v.y,b.y,l.y2?l.y2.domain():o.axis_y2_default),l.subY2=a.getYScale("y2",v.subY,b.subY,l.subY2?l.subY2.domain():o.axis_y2_default),r.setAxis("y2",l.y2,o.axis_y2_tick_outer,t))}else null===(i=a.updateArc)||void 0===i||i.call(a)},xx:function(t){var e=this.config,n=this.scale,i=n.x,a=n.zoom,r=e.zoom_enabled&&a?a:i;return t?r(H(t.x)?t.x:t):null},xv:function(t){var e=this,n=e.axis,i=e.config,a=e.scale,r=a.x,o=a.zoom,s=i.zoom_enabled&&o?o:r,c=e.getBaseValue(t);return n.isTimeSeries()?c=Ct.call(e,c):n.isCategorized()&&G(c)&&(c=i.axis_x_categories.indexOf(c)),Math.ceil(s(c))},yv:function(t){var e=this.scale,n=e.y,i=e.y2,a=t.axis&&"y2"===t.axis?i:n;return Math.ceil(a(this.getBaseValue(t)))},subxx:function(t){return t?this.scale.subX(t.x):null}},we={getDrawShape:function(){var t=this,e=t.config.axis_rotated,n=t.state.hasRadar,i={type:{},indices:{},pos:{}};if(["bar","candlestick","line","area"].forEach((function(e){var n=vt(/^(bubble|scatter)$/.test(e)?"line":e);if(t.hasType(e)||t.hasTypeOf(n)||"line"===e&&(t.hasType("bubble")||t.hasType("scatter"))){var a=t.getShapeIndices(t["is".concat(n,"Type")]),r=t["generateDraw".concat(n)];i.indices[e]=a,i.type[e]=r?r.bind(t)(a,!1):void 0}})),!t.hasArcType()||n){var a=n?t.radarCircleX:e?t.circleY:t.circleX,r=n?t.radarCircleY:e?t.circleX:t.circleY;i.pos={xForText:t.generateXYForText(i.indices,!0),yForText:t.generateXYForText(i.indices,!1),cx:(a||function(){}).bind(t),cy:(r||function(){}).bind(t)}}return i},getShapeIndices:function(t){var e=this,n=e.config,i=n.data_xs,a=nt(i),r={},o=a?{}:0;return a&&_t(Object.keys(i).map((function(t){return i[t]}))).forEach((function(t){o[t]=0,r[t]={}})),e.filterTargetsToShow(e.data.targets.filter(t,e)).forEach((function(t){for(var e=(t.id in i?i[t.id]:""),a=e?r[e]:r,s=0,c=void 0;c=n.data_groups[s];s++)if(!(c.indexOf(t.id)<0))for(var l=0,d=void 0;d=c[l];l++)if(d in a){a[t.id]=a[d];break}U(a[t.id])&&(a[t.id]=e?o[e]++:o++,a.__max__=(e?o[e]:o)-1)})),r},getIndices:function(t,e,n){var i=this,a=i.config,r=a.data_xs,o=a.bar_indices_removeNull,s=e.id,c=e.index;if(i.isBarType(s)&&o){var l={};return i.getAllValuesOnIndex(c,!0).forEach((function(t,e){l[t.id]=e,l.__max__=e})),l}return nt(r)?t[r[s]]:t},getIndicesMax:function(t){return nt(this.config.data_xs)?Object.keys(t).map((function(e){return t[e].__max__||0})).reduce((function(t,e){return t+e})):t.__max__},getShapeX:function(t,e,n){var i=this,a=i.config,r=i.scale,o=n?r.subX:r.zoom||r.x,s=a.bar_padding,c=function(t,e){return t+e},l=tt(t)&&(t._$total.length?t._$total.reduce(c)/2:0);return function(n){var a=i.getIndices(e,n,"getShapeX"),r=n.id in a?a[n.id]:0,d=(a.__max__||0)+1,u=0;if(nt(n.x)){var h=o(n.x,!0);u=l?h-(t[n.id]||t._$width)+t._$total.slice(0,r+1).reduce(c)-l:h-(j(t)?t:t._$width)*(d/2-r)}return t&&u&&d>1&&s&&(r&&(u+=s*r),d>2?u-=(d-1)*s/2:2===d&&(u-=s/2)),u}},getShapeY:function(t){var e=this,n=e.isStackNormalized();return function(i){var a=i.value;return j(i)?a=i:n?a=e.getRatio("index",i,!0):e.isBubbleZType(i)?a=e.getBubbleZData(i.value,"y"):e.isBarRangeType(i)&&(a=a[1]),e.getYScaleById(i.id,t)(a)}},getShapeYMin:function(t){var e=this,n=e.axis.getId(t),i=e.scale[n].domain()[0],a=e.config["axis_".concat(n,"_inverted")];return!e.isGrouped(t)&&!a&&i>0?i:0},getShapeOffsetData:function(t){var e=this,n=e.orderTargets(e.filterTargetsToShow(e.data.targets.filter(t,e))),i=e.isStackNormalized(),a=n.map((function(t){var n=t.values,a={};e.isStepType(t)&&(n=e.convertValuesToStep(n));var r=n.reduce((function(t,n){var r=Number(n.x);return t[r]=n,a[r]=i?e.getRatio("index",n,!0):n.value,t}),{});return{id:t.id,rowValues:n,rowValueMapByXValue:r,values:a}}));return{indexMapByTargetId:n.reduce((function(t,e,n){return t[e.id]=n,t}),{}),shapeOffsetTargets:a}},getShapeOffset:function(t,e,n){var i=this,a=i.getShapeOffsetData(t),r=a.shapeOffsetTargets,o=a.indexMapByTargetId;return function(t,a){var s=t.id,c=t.value,l=t.x,d=i.getIndices(e,t),u=i.getYScaleById(s,n);if(i.isBarRangeType(t))return u(c[0]);var h=u(i.getShapeYMin(s)),g=Number(l),f=h;return r.filter((function(t){return t.id!==s})).forEach((function(t){var e=t.id,n=t.rowValueMapByXValue,i=t.rowValues,r=t.values;if(d[e]===d[s]&&o[e]<o[s]){var l=i[a];l&&Number(l.x)===g||(l=n[g]),(null==l?void 0:l.value)*c>=0&&j(r[g])&&(f+=u(r[g])-h)}})),f}},getBarW:function(t,e,n){var i=this,a=i.config,r=i.org,o=i.scale,s=i.getMaxDataCount(),c="bar"===t&&a.data_groups.length,l="".concat(t,"_width"),d=o.zoom&&!i.axis.isCategorized()?r.xDomain.map((function(t){return o.zoom(t)})).reduce((function(t,e){return Math.abs(t)+e}))/s:e.tickInterval(s),u=function(t){var e=t?a[l][t]:a[l],i=t?e.ratio:a["".concat(l,"_ratio")],r=t?e.max:a["".concat(l,"_max")],o=j(e)?e:n?d*i/n:0;return r&&o>r?r:o},h=u();return!c&&tt(a[l])&&(h={_$width:h,_$total:[]},i.filterTargetsToShow(i.data.targets).forEach((function(t){a[l][t.id]&&(h[t.id]=u(t.id),h._$total.push(h[t.id]||h._$width))}))),h},getShapeByIndex:function(t,e,n){var i=this.$el,a=H(e)?"-".concat(e):"",r=i[t];return r&&!r.empty()?r.filter((function(t){return!n||t.id===n})).filter((function(t){return!H(e)||t.index===e})):(n?i.main.selectAll(".".concat(Ut["".concat(t,"s")]).concat(this.getTargetSelectorSuffix(n))):i.main).selectAll(".".concat(Ut[t]).concat(a))},isWithinShape:function(t,e){var n,i,a=this,o=(0,r.Z)(t);return a.isTargetToShow(e.id)?(null===(n=a.hasValidPointType)||void 0===n?void 0:n.call(a,t.nodeName))?i=a.isStepType(e)?a.isWithinStep(t,a.getYScaleById(e.id)(e.value)):a.isWithinCircle(t,a.isBubbleType(e)?1.5*a.pointSelectR(e):0):"path"===t.nodeName&&(i=!o.classed(Ut.bar)||a.isWithinBar(t)):i=!1,i},getInterpolate:function(t){var e=this.getInterpolateType(t);return{basis:m.ZP,"basis-closed":_.Z,"basis-open":y.Z,bundle:A.Z,cardinal:T.ZP,"cardinal-closed":E.Z,"cardinal-open":w.Z,"catmull-rom":k.Z,"catmull-rom-closed":C.Z,"catmull-rom-open":S.Z,"monotone-x":B.Z,"monotone-y":B.s,natural:L.Z,"linear-closed":I.Z,linear:R.Z,step:O.ZP,"step-after":O.cD,"step-before":O.RN}[e]},getInterpolateType:function(t){var e=this,n=e.config,i=n.spline_interpolation_type,a=e.isInterpolationType(i)?i:"cardinal";return e.isSplineType(t)?a:e.isStepType(t)?n.line_step_type:"linear"},isWithinBar:function(t){var e=ut(this.state.event,t),n=dt(t),i=n[0],a=n[1],r=Math.min(i.x,a.x),o=Math.min(i.y,a.y),s=this.config.bar_sensitivity,c=t.getBBox(),l=r+c.width+s,d=o+c.height+s,u=o-s;return r-s<e[0]&&e[0]<l&&u<e[1]&&e[1]<d}},ke={setContainerSize:function(){var t=this,e=t.state;e.current.width=t.getCurrentWidth(),e.current.height=t.getCurrentHeight()},getCurrentWidth:function(){return this.config.size_width||this.getParentWidth()},getCurrentHeight:function(){var t=this,e=t.config,n=e.size_height||t.getParentHeight();return n>0?n:320/(t.hasType("gauge")&&!e.gauge_fullCircle?2:1)},getCurrentPaddingTop:function(){var t=this,e=t.config,n=t.state.hasAxis,i=t.$el,a=n?e.axis_y2_axes.length:0,r=H(e.padding_top)?e.padding_top:0;return i.title&&i.title.node()&&(r+=t.getTitlePadding()),a&&e.axis_rotated&&(r+=t.getHorizontalAxisHeight("y2")*a),r},getCurrentPaddingBottom:function(){var t=this,e=t.config,n=t.state.hasAxis,i=e.axis_rotated?"y":"x",a=n?e["axis_".concat(i,"_axes")].length:0;return(H(e.padding_bottom)?e.padding_bottom:0)+(a?t.getHorizontalAxisHeight(i)*a:0)},getCurrentPaddingLeft:function(t){var e=this,n=e.config,i=e.state.hasAxis,a=n.axis_rotated,r=a?"x":"y",o=i?n["axis_".concat(r,"_axes")].length:0,s=i?e.getAxisWidthByAxisId(r,t):0;return(H(n.padding_left)?n.padding_left:i&&a?n.axis_x_show?Math.max(J(s),40):1:!i||n.axis_y_show&&!n.axis_y_inner?J(s):e.axis.getAxisLabelPosition("y").isOuter?30:1)+s*o},getCurrentPaddingRight:function(t){void 0===t&&(t=!1);var e=this,n=e.config,i=e.state.hasAxis,a=e.state.isLegendRight?e.getLegendWidth()+20:0,r=i?n.axis_y2_axes.length:0,o=i?e.getAxisWidthByAxisId("y2"):0,s=t?e.axis.getXAxisTickTextY2Overflow(10):0;return(H(n.padding_right)?n.padding_right+1:e.axis&&n.axis_rotated?10+a:!e.axis||n.axis_y2_show&&!n.axis_y2_inner?Math.max(J(o)+a,s):Math.max(2+a+(e.axis.getAxisLabelPosition("y2").isOuter?20:0),s))+o*r},getParentRectValue:function(t){for(var e="offset".concat(vt(t)),n=this.$el.chart.node(),i=0;i<30&&n&&"BODY"!==n.tagName;){try{i=n.getBoundingClientRect()[t]}catch(t){e in n&&(i=n[e])}n=n.parentNode}var a=F.body[e];return i>a&&(i=a),i},getParentWidth:function(){return this.getParentRectValue("width")},getParentHeight:function(){var t=this.$el.chart.style("height"),e=0;return t&&(e=/px$/.test(t)?parseInt(t,10):this.getParentRectValue("height")),e},getSvgLeft:function(t){var e=this,n=e.config,i=e.$el,a=n.axis_rotated||!n.axis_rotated&&!n.axis_y_inner,r=n.axis_rotated?It.axisX:It.axisY,o=i.main.select(".".concat(r)).node(),s=o&&a?o.getBoundingClientRect():{right:0},c=i.chart.node().getBoundingClientRect(),l=e.hasArcType(),d=s.right-c.left-(l?0:e.getCurrentPaddingLeft(t));return d>0?d:0},updateDimension:function(t){var e,n=this,i=n.config,a=n.state.hasAxis,r=n.$el;a&&!t&&n.axis.x&&i.axis_rotated&&(null===(e=n.axis.subX)||void 0===e||e.create(r.axis.subX)),n.updateScales(t),n.updateSvgSize(),n.transformAll(!1)},updateSvgSize:function(){var t=this,e=t.state,n=e.clip,i=e.current,a=e.hasAxis,r=e.width,o=e.height,s=t.$el.svg;if(s.attr("width",i.width).attr("height",i.height),a){var c=s.select(".".concat(Zt.brush," .overlay")),l={width:0,height:0};c.size()&&(l.width=+c.attr("width"),l.height=+c.attr("height")),s.selectAll(["#".concat(n.id),"#".concat(n.idGrid)]).select("rect").attr("width",r).attr("height",o),s.select("#".concat(n.idXAxis)).select("rect").call(t.setXAxisClipPath.bind(t)),s.select("#".concat(n.idYAxis)).select("rect").call(t.setYAxisClipPath.bind(t)),n.idSubchart&&s.select("#".concat(n.idSubchart)).select("rect").attr("width",r).attr("height",l.height)}},getResettedPadding:function(t){var e=this.config,n=j(t),i=n?0:{};return!1===e.padding?!n&&Object.keys(t).forEach((function(n){i[n]=et(e.data_labels)||!1===e.data_labels||"top"!==n?0:t[n]})):i=t,i},updateSizes:function(t){var e,n,i=this,a=i.config,r=i.state,o=i.$el.legend,s=a.axis_rotated,c=i.hasArcType();!t&&i.setContainerSize();var l={width:o?i.getLegendWidth():0,height:o?i.getLegendHeight():0};!c&&a.axis_x_show&&a.axis_x_tick_autorotate&&i.updateXAxisTickClip();var d=r.isLegendRight||r.isLegendInset?0:l.height,u=s||c?0:i.getHorizontalAxisHeight("x"),h=a.subchart_axis_x_show&&a.subchart_axis_x_tick_text_show?u:30,g=a.subchart_show&&!c?a.subchart_size_height+h:0;r.margin=!c&&s?{top:i.getHorizontalAxisHeight("y2")+i.getCurrentPaddingTop(),right:c?0:i.getCurrentPaddingRight(!0),bottom:i.getHorizontalAxisHeight("y")+d+i.getCurrentPaddingBottom(),left:g+(c?0:i.getCurrentPaddingLeft())}:{top:4+i.getCurrentPaddingTop(),right:c?0:i.getCurrentPaddingRight(!0),bottom:u+g+d+i.getCurrentPaddingBottom(),left:c?0:i.getCurrentPaddingLeft()},r.margin=i.getResettedPadding(r.margin),r.margin2=s?{top:r.margin.top,right:NaN,bottom:20+d,left:i.state.rotatedPadding.left}:{top:r.current.height-g-d,right:NaN,bottom:h+d,left:r.margin.left},r.margin3={top:0,right:NaN,bottom:0,left:0},null===(e=i.updateSizeForLegend)||void 0===e||e.call(i,l),r.width=r.current.width-r.margin.left-r.margin.right,r.height=r.current.height-r.margin.top-r.margin.bottom,r.width<0&&(r.width=0),r.height<0&&(r.height=0),r.width2=s?r.margin.left-r.rotatedPadding.left-r.rotatedPadding.right:r.width,r.height2=s?r.height:r.current.height-r.margin2.top-r.margin2.bottom,r.width2<0&&(r.width2=0),r.height2<0&&(r.height2=0);var f=i.hasType("gauge"),p=a.legend_show&&r.isLegendRight;r.arcWidth=r.width-(p?l.width+10:0),r.arcHeight=r.height-(p&&!f?0:10),f&&!a.gauge_fullCircle&&(r.arcHeight+=r.height-i.getPaddingBottomForGauge()),null===(n=i.updateRadius)||void 0===n||n.call(i),r.isLegendRight&&c&&(r.margin3.left=r.arcWidth/2+1.1*r.radiusExpanded)}},Ce={opacityForText:function(t){var e=this;return e.isBarType(t)&&!e.meetsLabelThreshold(Math.abs(e.getRatio("bar",t)),"bar")?"0":e.hasDataLabel?null:"0"},initText:function(){this.$el.main.select(".".concat(Bt.chart)).append("g").attr("class",Gt.chartTexts)},updateTargetsForText:function(t){var e=this,n=e.getChartClass("Text"),i=e.getClass("texts","id"),a=e.classFocus.bind(e);e.$el.main.select(".".concat(Gt.chartTexts)).selectAll(".".concat(Gt.chartText)).data(t).attr("class",(function(t){return n(t)+a(t)})).enter().append("g").style("opacity","0").attr("class",n).style("pointer-events","none").append("g").attr("class",i)},updateText:function(){var t=this,e=t.$el,n=t.$T,i=t.config,a=t.getClass("text","index"),o=e.main.selectAll(".".concat(Gt.texts)).selectAll(".".concat(Gt.text)).data(t.labelishData.bind(t));n(o.exit()).style("fill-opacity","0").remove(),e.text=o.enter().append("text").merge(o).attr("class",a).attr("text-anchor",(function(e){var n=e.value<0;if(t.isCandlestickType(e)){var a=t.getCandlestickData(e);n=!(null==a?void 0:a._isUp)}return i.axis_rotated?n?"end":"start":"middle"})).style("fill",t.updateTextColor.bind(t)).style("fill-opacity","0").each((function(e,n,i){var a=(0,r.Z)(this),o=e.value;if(t.isBubbleZType(e))o=t.getBubbleZData(o,"z");else if(t.isCandlestickType(e)){var s=t.getCandlestickData(e);s&&(o=s.close)}o=t.dataLabelFormat(e.id)(o,e.id,n,i),j(o)?this.textContent=o:lt(a,o)}))},updateTextColor:function(t){var e,n=this,i=n.config,a=i.data_labels_colors,r=n.isArcType(t)&&!n.isRadarType(t)?null:n.color(t);if(G(a)?e=a:at(a)?e=a[(t.data||t).id]:Z(a)&&(e=a.bind(n.api)(r,t)),n.isCandlestickType(t)&&!Z(a)){var o=n.getCandlestickData(t);if(!(null==o?void 0:o._isUp)){var s=i.candlestick_color_down;e=at(s)?s[t.id]:s}}return e||r},updateTextBacgroundColor:function(t){var e=this,n=e.$el,i=e.config.data_labels_backgroundColors,a="";if(G(i)||at(i)){var r=G(i)?"":e.getTargetSelectorSuffix("id"in t?t.id:t.data.id),o=n.defs.select(["filter[id*='labels-bg","']"].join(r));o.size()&&(a="url(#".concat(o.attr("id"),")"))}return a||null},redrawText:function(t,e,n,i){var a=this,r=a.$T,o=ft(!0);return a.$el.text.style("fill",a.updateTextColor.bind(a)).attr("filter",a.updateTextBacgroundColor.bind(a)).style("fill-opacity",n?0:a.opacityForText.bind(a)).each((function(n,a){var s=r(this,!(!i||!this.getAttribute("x")),o),c=t.bind(this)(n,a),l=e.bind(this)(n,a);this.childElementCount?s.attr("transform","translate(".concat(c," ").concat(l,")")):s.attr("x",c).attr("y",l)})),!0},getTextRect:function(t,e){var n=this,i=t.node?t.node():t;/text/i.test(i.tagName)||(i=i.querySelector("text"));var a=i.textContent,o="".concat("textRect","-").concat(a.replace(/\W/g,"_")),s=n.cache.get(o);return s||(n.$el.svg.append("text").style("visibility","hidden").style("font",(0,r.Z)(i).style("font")).classed(e,!0).text(a).call((function(t){s=gt(t.node())})).remove(),n.cache.add(o,s)),s},generateXYForText:function(t,e){var n=this,i=Object.keys(t),a={},r=e?n.getXForText:n.getYForText;return n.hasType("radar")&&i.push("radar"),i.forEach((function(e){a[e]=n["generateGet".concat(vt(e),"Points")](t[e],!1)})),function(t,e){var i=(n.isAreaType(t)?"area":n.isBarType(t)&&"bar")||n.isCandlestickType(t)&&"candlestick"||n.isRadarType(t)&&"radar"||"line";return r.call(n,a[i](t,e),t,this)}},getCenteredTextPos:function(t,e,n){var i=this.config,a=i.axis_rotated;if(i.data_labels.centered&&this.isBarType(t)){var r=gt(n),o=t.value>=0;if(a){var s=(o?e[1][1]-e[0][1]:e[0][1]-e[1][1])/2+r.width/2;return o?-s-3:s+2}var c=(o?e[0][1]-e[1][1]:e[1][1]-e[0][1])/2+r.height/2;return o?c:-c-2}return 0},getTextPos:function(t,e){var n=this.config.data_labels_position;return(t in n?n[t]:n)[e]||0},getXForText:function(t,e,n){var i,a=this,r=a.config,o=a.state,s=r.axis_rotated,c=t[0][0];if(a.isCandlestickType(e))s?c=(null===(i=a.getCandlestickData(e))||void 0===i?void 0:i._isUp)?t[2][2]+4:t[2][1]-4:c+=(t[1][0]-c)/2;else if(s){var l=a.isBarType(e)?4:6;c=t[2][1]+l*(e.value<0?-1:1)}else c=a.hasType("bar")?(t[2][0]+t[0][0])/2:c;if(null===e.value)if(c>o.width){var d=gt(n).width;c=o.width-d}else c<0&&(c=4);return s&&(c+=a.getCenteredTextPos(e,t,n)),c+a.getTextPos(e.id,"x")},getYForText:function(t,e,n){var i,a=this,r=a.config,o=a.state,s=r.axis_rotated,c=r.point_r,l=gt(n),d=e.value,u=3;if(a.isCandlestickType(e))d=a.getCandlestickData(e),s?(i=t[0][0],i+=(t[1][0]-i)/2+u):i=d&&d._isUp?t[2][2]-u:t[2][1]+4*u;else if(s)i=(t[0][0]+t[2][0]+.6*l.height)/2;else if(i=t[2][1],j(c)&&c>5&&(a.isLineType(e)||a.isScatterType(e))&&(u+=r.point_r/2.3),d<0||0===d&&!o.hasPositiveValue&&o.hasNegativeValue)i+=l.height+(a.isBarType(e)?-u:u);else{var h=2*-u;a.isBarType(e)?h=-u:a.isBubbleType(e)&&(h=u),i+=h}if(null===e.value&&!s){var g=l.height;i<g?i=g:i>o.height&&(i=o.height-4)}return s||(i+=a.getCenteredTextPos(e,t,n)),i+a.getTextPos(e.id,"y")},markOverlapped:function(t,e,n){var i=e.$el.arcs.selectAll(n),a=i.filter((function(e){return e.data.id!==t})),o=i.filter((function(e){return e.data.id===t})),s=mt(o.node()),c=function(t,e){return Math.sqrt(Math.pow(t,2)+Math.pow(e,2))};o.node()&&a.each((function(){var t=mt(this),e=(0,r.Z)(this),n=c(s.e,s.f)>c(t.e,t.f)?o:e,i=Math.ceil(Math.abs(s.e-t.e))<Math.ceil(n.node().getComputedTextLength()),a=Math.ceil(Math.abs(s.f-t.f))<parseInt(o.style("font-size"),10);e.classed(Gt.TextOverlapping,i&&a)}))},undoMarkOverlapped:function(t,e){t.$el.arcs.selectAll(e).each((function(){(0,s.Z)([this,this.previousSibling]).classed(Gt.TextOverlapping,!1)}))},meetsLabelThreshold:function(t,e){return void 0===t&&(t=0),t>=(this.config["".concat(e,"_label_threshold")]||0)}};function Se(t,e){void 0===t&&(t="left");var n=j(e);return t.indexOf("center")>-1?n?e/2:"middle":t.indexOf("right")>-1?n?e:"end":n?0:"start"}var Be={initTitle:function(){var t=this.config,e=this.$el;t.title_text&&(e.title=e.svg.append("g"),lt(e.title.append("text").style("text-anchor",Se(t.title_position)).attr("class",Gt.title),t.title_text,[.3,1.5]))},redrawTitle:function(){var t=this,e=t.config,n=t.state.current,i=t.$el.title;if(i){var a=t.yForTitle.call(t);/g/i.test(i.node().tagName)?i.attr("transform","translate(".concat(Se(e.title_position,n.width),", ").concat(a,")")):i.attr("x",t.xForTitle.call(t)).attr("y",a)}},xForTitle:function(){var t,e=this,n=e.config,i=e.state.current,a=n.title_position||"left",r=e.getTextRect(e.$el.title,Gt.title).width;return/(right|center)/.test(a)?(t=i.width-r,a.indexOf("right")>=0?t=i.width-r-n.title_padding.right:a.indexOf("center")>=0&&(t=(i.width-r)/2)):t=n.title_padding.left||0,t},yForTitle:function(){var t=this;return(t.config.title_padding.top||0)+t.getTextRect(t.$el.title,Gt.title).height},getTitlePadding:function(){return this.yForTitle()+(this.config.title_padding.bottom||0)}},Le={initTooltip:function(){var t=this,e=t.config,n=t.$el;n.tooltip=(0,r.Z)(e.tooltip_contents.bindto),n.tooltip.empty()&&(n.tooltip=n.chart.append("div").attr("class",jt.tooltipContainer).style("position","absolute").style("pointer-events","none").style("display","none")),t.bindTooltipResizePos()},initShowTooltip:function(){var t,e,n=this,i=n.config,a=n.$el,r=n.state,o=r.hasAxis,s=r.hasRadar;if(i.tooltip_init_show){var c=!(o&&s);if((null===(t=n.axis)||void 0===t?void 0:t.isTimeSeries())&&G(i.tooltip_init_x)){var l=n.data.targets[0],d=void 0,u=void 0;for(i.tooltip_init_x=Ct.call(n,i.tooltip_init_x),d=0;(u=l.values[d])&&u.x-i.tooltip_init_x!=0;d++);i.tooltip_init_x=d}var h=n.data.targets.map((function(t){var e=c?0:i.tooltip_init_x;return n.addName(t.values[e])}));c&&(h=[h[i.tooltip_init_x]]),a.tooltip.html(n.getTooltipHTML(h,null===(e=n.axis)||void 0===e?void 0:e.getXAxisTickFormat(),n.getDefaultValueFormat(),n.color)),i.tooltip_contents.bindto||a.tooltip.style("top",i.tooltip_init_position.top).style("left",i.tooltip_init_position.left).style("display",null)}},getTooltipHTML:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this,i=n.api,a=n.config;return Z(a.tooltip_contents)?a.tooltip_contents.bind(i).apply(void 0,t):n.getTooltipContent.apply(n,t)},getTooltipContent:function(t,e,n,i){var a=this,r=a.api,o=a.config,s=a.state,c=["title","name","value"].map((function(t){var e=o["tooltip_format_".concat(t)];return Z(e)?e.bind(r):e})),l=c[0],d=c[1],u=c[2];l=l||e,d=d||function(t){return t},u=u||(a.isStackNormalized()?function(t,e){return"".concat((100*e).toFixed(2),"%")}:n);var h=o.tooltip_order,g=function(t){return a.axis&&a.isBubbleZType(t)?a.getBubbleZData(t.value,"z"):a.getBaseValue(t)},f=a.levelColor?function(t){return a.levelColor(t.value)}:function(t){return i(t)},p=o.tooltip_contents,x=p.template,v=a.mapToTargetIds();if(null===h&&o.data_groups.length){var b=a.orderTargets(a.data.targets).map((function(t){return t.id})).reverse();t.sort((function(t,e){var n=t?t.value:null,i=e?e.value:null;return n>0&&i>0&&(n=t.id?b.indexOf(t.id):null,i=e.id?b.indexOf(e.id):null),n-i}))}else if(/^(asc|desc)$/.test(h)){var m="asc"===h;t.sort((function(t,e){var n=t?g(t):null,i=e?g(e):null;return m?n-i:i-n}))}else Z(h)&&t.sort(h.bind(r));var _,y,A,T,E,w=a.getTooltipContentTemplate(x),k=t.length,C=function(){if(!(y=t[E])||!g(y)&&0!==g(y))return"continue";if(U(_)){var e=(s.hasAxis||s.hasRadar)&&ct(l?l(y.x):y.x);_=kt(w[0],{CLASS_TOOLTIP:jt.tooltip,TITLE:H(e)?x?e:'<tr><th colspan="2">'.concat(e,"</th></tr>"):""})}if(!y.ratio&&a.$el.arcs&&(y.ratio=a.getRatio("arc",a.$el.arcs.select("path.".concat(Lt.arc,"-").concat(y.id)).data()[0])),A=[y.ratio,y.id,y.index,t],T=ct(u.apply(void 0,V([g(y)],A,!1))),a.isAreaRangeType(y)){var n=["high","low"].map((function(t){return ct(u.apply(void 0,V([a.getRangedData(y,t)],A,!1)))})),i=n[0],r=n[1];T="<b>Mid:</b> ".concat(T," <b>High:</b> ").concat(i," <b>Low:</b> ").concat(r)}else if(a.isCandlestickType(y)){var o=["open","high","low","close","volume"].map((function(t){return ct(u.apply(void 0,V([a.getRangedData(y,t,"candlestick")],A,!1)))})),c=o[0],h=(i=o[1],r=o[2],o[3]),b=o[4];T="<b>Open:</b> ".concat(c," <b>High:</b> ").concat(i," <b>Low:</b> ").concat(r," <b>Close:</b> ").concat(h).concat(b?" <b>Volume:</b> ".concat(b):"")}else if(a.isBarRangeType(y)){var m=y.value,k=m[0],C=m[1];T="".concat(u(k)," ~ ").concat(u(C))}if(void 0!==T){if(null===y.name)return"continue";var S=ct(d.apply(void 0,V([y.name],A,!1))),B=f(y),L={CLASS_TOOLTIP_NAME:jt.tooltipName+a.getTargetSelectorSuffix(y.id),COLOR:x||!a.patterns?B:'<svg><rect style="fill:'.concat(B,'" width="10" height="10"></rect></svg>'),NAME:S,VALUE:T};if(x&&at(p.text)){var I=v.indexOf(y.id);Object.keys(p.text).forEach((function(t){L[t]=p.text[t][I]}))}_+=kt(w[1],L)}};for(E=0;E<k;E++)C();return"".concat(_,"</table>")},getTooltipContentTemplate:function(t){return(t||'<table class="{=CLASS_TOOLTIP}"><tbody>\n\t\t\t\t{=TITLE}\n\t\t\t\t{{<tr class="{=CLASS_TOOLTIP_NAME}">\n\t\t\t\t\t<td class="name">'.concat(this.patterns?"{=COLOR}":'<span style="background-color:{=COLOR}"></span>','{=NAME}</td>\n\t\t\t\t\t<td class="value">{=VALUE}</td>\n\t\t\t\t</tr>}}\n\t\t\t</tbody></table>')).replace(/(\r?\n|\t)/g,"").split(/{{(.*)}}/)},tooltipPosition:function(t,e,n,i){var a=this,r=a.config,o=a.scale,s=a.state,c=s.width,l=s.height,d=s.current,u=s.isLegendRight,h=s.inputType,g=s.event,f=a.hasType("gauge")&&!r.gauge_fullCircle,p=a.getSvgLeft(!0),x=p+d.width-a.getCurrentPaddingRight(),v=a.getCurrentPaddingLeft(!0),b=ut(g,i),m=b[0],_=b[1];if(a.hasArcType())"touch"===h||a.hasType("radar")||(_+=f?l:l/2,m+=(c-(u?a.getLegendWidth():0))/2);else{var y=o.x(t[0].x);r.axis_rotated?(_=y+20,m+=p+100,x-=p):(_-=5,m=p+v+20+(a.scale.zoom?m:y))}m+e+15>x&&(m-=e+v),_+n>d.height&&(_-=f?3*n:n+30);var A={top:_,left:m};return Object.keys(A).forEach((function(t){A[t]<0&&(A[t]=0)})),A},showTooltip:function(t,e){var n,i,a=this,r=a.config,o=a.scale,s=a.state,c=a.$el.tooltip,l=r.tooltip_contents.bindto,d=t.filter((function(t){return t&&H(a.getBaseValue(t))}));if(c&&0!==d.length&&r.tooltip_show){var u=c.datum(),h=u||{},g=h.width,f=void 0===g?0:g,p=h.height,x=void 0===p?0:p,v=JSON.stringify(t);if(!u||u.current!==v){var b=t.concat().sort()[0].index;ot(r.tooltip_onshow,a.api,t),c.html(a.getTooltipHTML(t,a.axis?a.axis.getXAxisTickFormat():a.categoryName.bind(a),a.getDefaultValueFormat(),a.color)).style("display",null).style("visibility",null).datum(u={index:b,current:v,width:f=c.property("offsetWidth"),height:x=c.property("offsetHeight")}),ot(r.tooltip_onshown,a.api,t),a._handleLinkedCharts(!0,b)}if(!l){var m=(null===(n=r.tooltip_position)||void 0===n?void 0:n.bind(a.api))||a.tooltipPosition.bind(a),_=ut(s.event,e),y={x:_[0],y:_[1]},A=null===(i=t.filter(Boolean))||void 0===i?void 0:i.shift();o.x&&A&&"x"in A&&(y.xAxis=o.x(A.x));var T=m(d,f,x,e,y);["top","left"].forEach((function(t){var e=T[t];c.style(t,"".concat(e,"px")),"left"!==t||u.xPosInPercent||(u.xPosInPercent=e/s.current.width*100)}))}}},bindTooltipResizePos:function(){var t=this,e=t.resizeFunction,n=t.state,i=t.$el.tooltip;e.add((function(){if("block"===i.style("display")){var t=n.current,e=i.datum(),a=e.width,r=e.xPosInPercent,o=t.width/100*r,s=t.width-(o+a);s<0&&(o+=s),i.style("left","".concat(o,"px"))}}))},hideTooltip:function(t){var e=this,n=e.api,i=e.config,a=e.$el.tooltip;if(a&&"none"!==a.style("display")&&(!i.tooltip_doNotHide||t)){var r=JSON.parse(a.datum().current);ot(i.tooltip_onhide,n,r),a.style("display","none").style("visibility","hidden").datum(null),ot(i.tooltip_onhidden,n,r)}},_handleLinkedCharts:function(t,e){var n=this,i=n.charts,a=n.config,r=n.state.event;if((null==r?void 0:r.isTrusted)&&a.tooltip_linked&&i.length>1){var o=a.tooltip_linked_name;i.filter((function(t){return t!==n.api})).forEach((function(n){var i=n.internal,a=i.config,r=i.$el,s=a.tooltip_linked,c=a.tooltip_linked_name,l=F.body.contains(r.chart.node());if(s&&o===c&&l){var d=r.tooltip.data()[0],u=e!==(null==d?void 0:d.index);try{n.tooltip[t&&u?"show":"hide"]({index:e})}catch(t){}}}))}}},Ie={getTranslate:function(t,e){void 0===e&&(e=0);var n,i,a=this,r=a.config,o=a.state,s=r.axis_rotated,c=0;if(e&&/^(x|y2?)$/.test(t)&&(c=a.getAxisSize(t)*e),"main"===t)n=K(o.margin.left),i=K(o.margin.top);else if("context"===t)n=K(o.margin2.left),i=K(o.margin2.top);else if("legend"===t)n=o.margin3.left,i=o.margin3.top;else if("x"===t)n=s?-c:0,i=s?0:o.height+c;else if("y"===t)n=s?0:-c,i=s?o.height+c:0;else if("y2"===t)n=s?0:o.width+c,i=s?1-c:0;else if("subX"===t)n=0,i=s?0:o.height2;else if("arc"===t)n=o.arcWidth/2,i=o.arcHeight/2;else if("polar"===t)n=o.arcWidth/2,i=o.arcHeight/2;else if("radar"===t){var l=a.getRadarSize()[0];n=o.width/2-l,i=K(o.margin.top)}return"translate(".concat(n,", ").concat(i,")")},transformMain:function(t,e){var n=this,i=n.$el.main,a=n.$T,r=(null==e?void 0:e.axisX)?e.axisX:a(i.select(".".concat(It.axisX)),t),o=(null==e?void 0:e.axisY)?e.axisY:a(i.select(".".concat(It.axisY)),t),s=(null==e?void 0:e.axisY2)?e.axisY2:a(i.select(".".concat(It.axisY2)),t);a(i,t).attr("transform",n.getTranslate("main")),r.attr("transform",n.getTranslate("x")),o.attr("transform",n.getTranslate("y")),s.attr("transform",n.getTranslate("y2")),i.select(".".concat(Lt.chartArcs)).attr("transform",n.getTranslate("arc"))},transformAll:function(t,e){var n=this,i=n.config,a=n.state.hasAxis,r=n.$el;n.transformMain(t,e),a&&i.subchart_show&&n.transformContext(t,e),r.legend&&n.transformLegend(t)}},Re={setTargetType:function(t,e){var n=this,i=n.config,a=n.state.withoutFadeIn;n.mapToTargetIds(t).forEach((function(t){a[t]=e===i.data_types[t],i.data_types[t]=e})),t||(i.data_type=e)},updateTypesElements:function(){var t=this,e=t.state.current;Object.keys($).forEach((function(n){var i=$[n],a=t.hasType(i,null,!0),r=e.types.indexOf(i);-1===r&&a?e.types.push(i):r>-1&&!a&&e.types.splice(r,1)})),t.setChartElements()},hasType:function(t,e,n){var i;void 0===n&&(n=!1);var a=this,r=a.config,o=a.state.current,s=r.data_types,c=e||a.data.targets,l=!1;return!n&&(null===(i=o.types)||void 0===i?void 0:i.indexOf(t))>-1?l=!0:(null==c?void 0:c.length)?c.forEach((function(e){var n=s[e.id];(n===t||!n&&"line"===t)&&(l=!0)})):Object.keys(s).length?Object.keys(s).forEach((function(e){s[e]===t&&(l=!0)})):l=r.data_type===t,l},hasTypeOf:function(t,e,n){var i=this;return void 0===n&&(n=[]),t in Y&&!Y[t].filter((function(t){return-1===n.indexOf(t)})).every((function(t){return!i.hasType(t,e)}))},isTypeOf:function(t,e){var n=G(t)?t:t.id,i=this.config.data_types[n]||this.config.data_type;return it(e)?e.indexOf(i)>=0:i===e},hasPointType:function(){var t=this;return t.hasTypeOf("Line")||t.hasType("bubble")||t.hasType("scatter")},hasArcType:function(t,e){return this.hasTypeOf("Arc",t,e)},hasMultiArcGauge:function(){return this.hasType("gauge")&&"multi"===this.config.gauge_type},isLineType:function(t){var e=G(t)?t:t.id;return!this.config.data_types[e]||this.isTypeOf(e,Y.Line)},isStepType:function(t){return this.isTypeOf(t,Y.Step)},isSplineType:function(t){return this.isTypeOf(t,Y.Spline)},isAreaType:function(t){return this.isTypeOf(t,Y.Area)},isAreaRangeType:function(t){return this.isTypeOf(t,Y.AreaRange)},isBarType:function(t){return this.isTypeOf(t,"bar")},isBubbleType:function(t){return this.isTypeOf(t,"bubble")},isCandlestickType:function(t){return this.isTypeOf(t,"candlestick")},isScatterType:function(t){return this.isTypeOf(t,"scatter")},isPieType:function(t){return this.isTypeOf(t,"pie")},isGaugeType:function(t){return this.isTypeOf(t,"gauge")},isDonutType:function(t){return this.isTypeOf(t,"donut")},isPolarType:function(t){return this.isTypeOf(t,"polar")},isRadarType:function(t){return this.isTypeOf(t,"radar")},isArcType:function(t){return this.isPieType(t)||this.isDonutType(t)||this.isGaugeType(t)||this.isPolarType(t)||this.isRadarType(t)},isCirclePoint:function(t){var e=this.config,n=e.point_pattern;return"circle"===(null==t?void 0:t.tagName)||"circle"===e.point_type&&(!n||it(n)&&0===n.length)},lineData:function(t){return this.isLineType(t)?[t]:[]},arcData:function(t){return this.isArcType(t.data)?[t]:[]},labelishData:function(t){return this.isBarType(t)||this.isLineType(t)||this.isScatterType(t)||this.isBubbleType(t)||this.isCandlestickType(t)||this.isRadarType(t)?t.values.filter((function(t){return j(t.value)||Boolean(t.value)})):[]},barLineBubbleData:function(t){return this.isBarType(t)||this.isLineType(t)||this.isBubbleType(t)?t.values:[]},isInterpolationType:function(t){return["basis","basis-closed","basis-open","bundle","cardinal","cardinal-closed","cardinal-open","catmull-rom","catmull-rom-closed","catmull-rom-open","linear","linear-closed","monotone-x","monotone-y","natural"].indexOf(t)>=0}},Oe=function(){function t(t){this.data={xs:{},targets:[]},this.scale={x:null,y:null,y2:null,subX:null,subY:null,subY2:null,zoom:null},this.org={xScale:null,xDomain:null},this.format={extraLineClasses:null,xAxisTick:null,dataTime:null,defaultAxisTime:null,axisTime:null};var e=this;e.api=t,e.config=new ae,e.cache=new se;var n=new qt;e.$el=n.getStore("element"),e.state=n.getStore("state"),e.$T=e.$T.bind(e)}return t.prototype.$T=function(t,e,n){var i=this.config,a=this.state,o=i.transition_duration,s=i.subchart_show,c=t;return c&&("tagName"in c&&(c=(0,r.Z)(c)),c=!(!1!==e&&o||e)||a.zooming&&!a.dragging||a.resizing||!a.rendered||s?c:c.transition(n).duration(o)),c},t.prototype.beforeInit=function(){var t=this;t.callPluginHook("$beforeInit"),ot(t.config.onbeforeinit,t.api)},t.prototype.afterInit=function(){var t=this;t.callPluginHook("$afterInit"),ot(t.config.onafterinit,t.api)},t.prototype.init=function(){var t=this,e=t.config,n=t.state,i=t.$el;(function(t){var e,n=t,i=n.config,a="";if(et(i.data_type||i.data_types)&&!n[M.LINE])a="line";else for(var r in M){var o=$[r];if(n.hasType(o)&&!n[M[r]]){a=o;break}}a&&function(t,e){var n,i="[billboard.js]";throw(null===(n=P.console)||void 0===n?void 0:n.error)&&(console.error(" ".concat(i," ").concat(t),"background:red;color:white;display:block;font-size:15px",e),console.info("%c","font-size:15px","https://github.com/naver/billboard.js/wiki/CHANGELOG-v2#modularization-by-its-functionality")),Error("".concat(i," ").concat(t.replace(/\%c([a-z-]+)/i,"'$1' ")," ").concat(e))}("Please, make sure if %c".concat((void 0===e&&(e="-"),a.split(e).map((function(t,e){return e?t.charAt(0).toUpperCase()+t.slice(1).toLowerCase():t.toLowerCase()})).join(""))),"module has been imported and specified correctly.")})(t),n.hasAxis=!t.hasArcType(),n.hasRadar=!n.hasAxis&&t.hasType("radar"),!1===e.padding&&(e.axis_x_show=!1,e.axis_y_show=!1,e.axis_y2_show=!1,e.subchart_show=!1),t.initParams();var a={element:e.bindto,classname:"bb"};at(e.bindto)&&(a.element=e.bindto.element||"#chart",a.classname=e.bindto.classname||a.classname),i.chart=Z(a.element.node)?e.bindto.element:(0,r.Z)(a.element||[]),i.chart.empty()&&(i.chart=(0,r.Z)(F.body.appendChild(F.createElement("div")))),i.chart.html("").classed(a.classname,!0).style("position","relative"),t.initToRender()},t.prototype.initToRender=function(t){var e=this,n=e.config,i=e.state,a=e.$el.chart,r=function(){return"none"===a.style("display")||"hidden"===a.style("visibility")},o=n.render.lazy||r(),s=P.MutationObserver;if(o&&s&&!1!==n.render.observe&&!t&&new s((function(t,n){r()||(n.disconnect(),!i.rendered&&e.initToRender(!0))})).observe(a.node(),{attributes:!0,attributeFilter:["class","style"]}),!o||t){var c=e.convertData(n,e.initWithData);c&&e.initWithData(c),e.afterInit()}},t.prototype.initParams=function(){var t=this,e=t.config,n=t.format,a=t.state,r=e.axis_rotated;if(a.datetimeId="bb-".concat(+new Date*ft()),t.color=t.generateColor(),t.levelColor=t.generateLevelColor(),t.hasPointType()&&(t.point=t.generatePoint()),a.hasAxis){t.initClip(),n.extraLineClasses=t.generateExtraLineClass(),n.dataTime=e.data_xLocaltime?i.Z1:i.wp,n.axisTime=e.axis_x_localtime?i.i$:i.g0;var o=t.config.zoom_enabled&&"drag"===t.config.zoom_type;n.defaultAxisTime=function(e){var i=t.scale,a=i.x,r=i.zoom,s=o?r:r&&a.orgDomain().toString()!==r.domain().toString(),c=(e.getMilliseconds()?".%L":e.getSeconds()&&".:%S")||e.getMinutes()&&"%I:%M"||e.getHours()&&"%I %p"||1!==e.getDate()&&"%b %d"||s&&1===e.getDate()&&"%b'%y"||e.getMonth()&&"%-m/%-d"||"%Y";return n.axisTime(c)(e)}}a.isLegendRight="right"===e.legend_position,a.isLegendInset="inset"===e.legend_position,a.isLegendTop="top-left"===e.legend_inset_anchor||"top-right"===e.legend_inset_anchor,a.isLegendLeft="top-left"===e.legend_inset_anchor||"bottom-left"===e.legend_inset_anchor,a.rotatedPadding.top=t.getResettedPadding(a.rotatedPadding.top),a.rotatedPadding.right=r&&!e.axis_x_show?0:30,a.inputType=function(t,e){var n=P.DocumentTouch,i=P.matchMedia,a=P.navigator,r=!1;if(e)if(a&&"maxTouchPoints"in a)r=a.maxTouchPoints>0;else if("ontouchmove"in P||n&&F instanceof n)r=!0;else if(null==i?void 0:i("(pointer:coarse)").matches)r=!0;else{var o=a.userAgent;r=/\b(BlackBerry|webOS|iPhone|IEMobile)\b/i.test(o)||/\b(Android|Windows Phone|iPad|iPod)\b/i.test(o)}return(t&&["any-hover:hover","any-pointer:fine"].some((function(t){return null==i?void 0:i("(".concat(t,")")).matches}))?"mouse":r&&"touch")||"mouse"}(e.interaction_inputType_mouse,e.interaction_inputType_touch)},t.prototype.initWithData=function(t){var e,n,i=this,a=i.config,r=i.scale,o=i.state,s=i.$el,c=i.org,l=o.hasAxis,d=a.interaction_enabled,u=i.hasType("polar");l&&(i.axis=i.getAxisInstance(),a.zoom_enabled&&i.initZoom()),i.data.xs={},i.data.targets=i.convertDataToTargets(t),a.data_filter&&(i.data.targets=i.data.targets.filter(a.data_filter.bind(i.api))),a.data_hide&&i.addHiddenTargetIds(!0===a.data_hide?i.mapToIds(i.data.targets):a.data_hide),a.legend_hide&&i.addHiddenLegendIds(!0===a.legend_hide?i.mapToIds(i.data.targets):a.legend_hide),i.updateSizes(),i.updateScales(!0);var h=r.x,g=r.y,f=r.y2,p=r.subX,x=r.subY,v=r.subY2;if(h&&(h.domain(Tt(i.getXDomain(i.data.targets))),p.domain(h.domain()),c.xDomain=h.domain()),g&&(g.domain(i.getYDomain(i.data.targets,"y")),x.domain(g.domain())),f&&(f.domain(i.getYDomain(i.data.targets,"y2")),v&&v.domain(f.domain())),s.svg=s.chart.append("svg").style("overflow","hidden").style("display","block"),d&&o.inputType){var b="touch"===o.inputType,m=a.onclick,_=a.onover,y=a.onout;s.svg.on("click",(null==m?void 0:m.bind(i.api))||null).on(b?"touchstart":"mouseenter",(null==_?void 0:_.bind(i.api))||null).on(b?"touchend":"mouseleave",(null==y?void 0:y.bind(i.api))||null)}a.svg_classname&&s.svg.attr("class",a.svg_classname);var A=Z(a.color_tiles)&&i.patterns;(l||A||a.data_labels_backgroundColors||u)&&(s.defs=s.svg.append("defs"),l&&["id","idXAxis","idYAxis","idGrid"].forEach((function(t){i.appendClip(s.defs,o.clip[t])})),i.generateDataLabelBackgroundColorFilter(),A&&i.patterns.forEach((function(t){return s.defs.append((function(){return t.node}))}))),i.updateSvgSize(),i.bindResize();var T=s.svg.append("g").classed(Bt.main,!0).attr("transform",i.getTranslate("main"));if(s.main=T,a.subchart_show&&i.initSubchart(),a.tooltip_show&&i.initTooltip(),a.title_text&&i.initTitle(),a.legend_show&&i.initLegend(),a.data_empty_label_text&&T.append("text").attr("class","".concat(Gt.text," ").concat(Bt.empty)).attr("text-anchor","middle").attr("dominant-baseline","middle"),l&&(a.regions.length&&i.initRegion(),!a.clipPath&&i.axis.init()),T.append("g").attr("class",Bt.chart).attr("clip-path",o.clip.path),i.callPluginHook("$init"),l&&(d&&(null===(e=i.initEventRect)||void 0===e||e.call(i)),i.initGrid(),a.clipPath&&(null===(n=i.axis)||void 0===n||n.init())),i.initChartElements(),i.updateTargets(i.data.targets),i.updateDimension(),ot(a.oninit,i.api),i.setBackground(),i.redraw({withTransition:!1,withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransitionForAxis:!1,initializing:!0}),a.data_onmin||a.data_onmax){var E=i.getMinMaxData();ot(a.data_onmin,i.api,E.min),ot(a.data_onmax,i.api,E.max)}a.tooltip_show&&i.initShowTooltip(),o.rendered=!0},t.prototype.initChartElements=function(){var t=this,e=t.state,n=e.hasAxis,i=e.hasRadar,a=[];if(n)["bar","bubble","candlestick","line"].forEach((function(e){var n=vt(e);("line"===e&&t.hasTypeOf(n)||t.hasType(e))&&a.push(n)}));else{var r=t.hasType("polar");i||a.push("Arc","Pie"),t.hasType("gauge")?a.push("Gauge"):i?a.push("Radar"):r&&a.push("Polar")}a.forEach((function(e){t["init".concat(e)]()})),nt(t.config.data_labels)&&!t.hasArcType(null,["radar"])&&t.initText()},t.prototype.setChartElements=function(){var t=this.$el,e=t.chart,n=t.svg,i=t.defs,a=t.main,r=t.tooltip,o=t.legend,s=t.title,c=t.grid,l=t.arcs,d=t.circle,u=t.bar,h=t.candlestick,g=t.line,f=t.area,p=t.text;this.api.$={chart:e,svg:n,defs:i,main:a,tooltip:r,legend:o,title:s,grid:c,arc:l,circles:d,bar:{bars:u},candlestick:h,line:{lines:g,areas:f},text:{texts:p}}},t.prototype.setBackground=function(){var t=this,e=t.config.background,n=t.state,i=t.$el.svg;if(nt(e)){var a=i.select("g").insert(e.imgUrl?"image":"rect",":first-child");e.imgUrl?a.attr("href",e.imgUrl):e.color&&a.style("fill",e.color).attr("clip-path",n.clip.path),a.attr("class",e.class||null).attr("width","100%").attr("height","100%")}},t.prototype.updateTargets=function(t){var e,n=this,i=n.state,a=i.hasAxis,r=i.hasRadar,o=function(e){return n["updateTargetsFor".concat(e)](t.filter(n["is".concat(e,"Type")].bind(n)))};if(n.updateTargetsForText(t),a)["bar","candlestick","line"].forEach((function(t){var e=vt(t);("line"===t&&n.hasTypeOf(e)||n.hasType(t))&&o(e)})),n.updateTargetsForSubchart&&n.updateTargetsForSubchart(t);else if(n.hasArcType(t)){var s="Arc";r?s="Radar":n.hasType("polar")&&(s="Polar"),o(s)}var c=n.hasType("bubble")||n.hasType("scatter");c&&(null===(e=n.updateTargetForCircle)||void 0===e||e.call(n)),n.filterTargetsToShowAtInit(c)},t.prototype.filterTargetsToShowAtInit=function(t){void 0===t&&(t=!1);var e=this,n=e.$el.svg,i=e.$T,a=".".concat(Bt.target);t&&(a+=", .".concat(Xt.chartCircles," > .").concat(Xt.circles)),i(n.selectAll(a).filter((function(t){return e.isTargetToShow(t.id)}))).style("opacity",null)},t.prototype.getWithOption=function(t){var e={Dimension:!0,EventRect:!0,Legend:!1,Subchart:!0,Transform:!1,Transition:!0,TrimXDomain:!0,UpdateXAxis:"UpdateXDomain",UpdateXDomain:!1,UpdateOrgXDomain:!1,TransitionForExit:"Transition",TransitionForAxis:"Transition",Y:!0};return Object.keys(e).forEach((function(n){var i=e[n];G(i)&&(i=e[i]),e[n]=rt(t,"with".concat(n),i)})),e},t.prototype.initialOpacity=function(t){var e=this.state.withoutFadeIn;return null!==this.getBaseValue(t)&&e[t.id]?null:"0"},t.prototype.bindResize=function(){var t,e,n,i=this,a=i.config,r=i.state,o=(e=[],(n=function(){n.clear(),t=ce((function(){e.forEach((function(t){return t()}))}),200)}).clear=function(){t&&(le(t),t=null)},n.add=function(t){return e.push(t)},n.remove=function(t){return e.splice(e.indexOf(t),1)},n),s=[];s.push((function(){return ot(a.onresize,i,i.api)})),a.resize_auto&&s.push((function(){r.resizing=!0,i.api.flush(!1)})),s.push((function(){ot(a.onresized,i,i.api),r.resizing=!1})),s.forEach((function(t){return o.add(t)})),i.resizeFunction=o,P.addEventListener("resize",i.resizeFunction=o)},t.prototype.callPluginHook=function(t){for(var e=this,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];this.config.plugins.forEach((function(i){"$beforeInit"===t&&(i.$$=e,e.api.plugins.push(i)),i[t].apply(i,n)}))},t}();function Xe(t){var e,n,i,a=this.config,r=function(){var t=n.shift();return t&&e&&tt(e)&&t in e?(e=e[t],r()):t?void 0:e};Object.keys(a).forEach((function(o){e=t,n=o.split("_"),i=r(),W(i)&&(a[o]=i)}))}xt(Oe.prototype,[ue,he,ge,{categoryName:function(t){var e=this.config.axis_x_categories;return t<(null==e?void 0:e.length)?e[t]:t}},pe,ve,be,fe,_e,ye,Ae,Ee,we,ke,Ce,Be,Le,Ie,Re]);var De={resize:function(t){var e=this.internal,n=e.config,i=e.state;i.rendered&&(n.size_width=t?t.width:null,n.size_height=t?t.height:null,i.resizing=!0,this.flush(!1),e.resizeFunction())},flush:function(t){var e,n,i=this.internal,a=i.state,r=i.$el.zoomResetBtn;a.rendered?(a.resizing?null===(e=i.brush)||void 0===e||e.updateResize():null===(n=i.axis)||void 0===n||n.setOrient(),null==r||r.style("display","none"),i.scale.zoom=null,t?i.redraw({withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withLegend:!0}):i.updateAndRedraw({withLegend:!0,withTransition:!1,withTransitionForTransform:!1}),!a.resizing&&i.brush&&(i.brush.getSelection().call(i.brush.move),i.unselectRect())):i.initToRender(!0)},destroy:function(){var t=this,e=this.internal,n=e.$el,i=n.chart,a=n.svg;if(nt(e))for(var r in e.callPluginHook("$willDestroy"),e.charts.splice(e.charts.indexOf(this),1),e.unbindAllEvents(),a.select("*").interrupt(),e.resizeFunction.clear(),P.removeEventListener("resize",e.resizeFunction),i.classed("bb",!1).style("position",null).selectChildren().remove(),Object.keys(this).forEach((function(n){"internal"===n&&Object.keys(e).forEach((function(t){e[t]=null})),t[n]=null,delete t[n]})),this)this[r]=function(){};return null},config:function(t,e,n){var i,a=this.internal.config,r=null==t?void 0:t.replace(/\./g,"_");return r in a&&(W(e)?(a[r]=e,i=e,n&&this.flush()):i=a[r]),i}};function ze(t){var e=this.internal.data.targets;if(!U(t)){var n=it(t)?t:[t];return e.filter((function(t){return n.some((function(e){return e===t.id}))}))}return e}xt(ze,{shown:function(t){return this.internal.filterTargetsToShow(this.data(t))},values:function(t,e){void 0===e&&(e=!0);var n=null;if(t){var i=this.data(t);it(i)&&(n=[],i.forEach((function(t){var i=t.values.map((function(t){return t.value}));e?n=n.concat(i):n.push(i)})))}return n},names:function(t){return this.internal.updateDataAttributes("names",t)},colors:function(t){return this.internal.updateDataAttributes("colors",t)},axes:function(t){return this.internal.updateDataAttributes("axes",t)},min:function(){return this.internal.getMinMaxData().min},max:function(){return this.internal.getMinMaxData().max}});function Pe(t,e,n){var i=this,a=this.internal,r=a.mapToTargetIds(e),o=a.state.hiddenTargetIds.map((function(t){return r.indexOf(t)>-1&&t})).filter(Boolean);a.state.toggling=!0,a["".concat(t?"remove":"add","HiddenTargetIds")](r);var s=a.$el.svg.selectAll(a.selectorTargets(r)),c=t?null:"0";t&&o.length&&(s.style("display",null),ot(a.config.data_onshown,this,o)),a.$T(s).style("opacity",c,"important").call(st,(function(){t||0!==o.length||(s.style("display","none"),ot(a.config.data_onhidden,i,r)),s.style("opacity",c)})),n.withLegend&&a["".concat(t?"show":"hide","Legend")](r),a.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),a.state.toggling=!1}var Fe={show:function(t,e){void 0===e&&(e={}),Pe.call(this,!0,t,e)},hide:function(t,e){void 0===e&&(e={}),Pe.call(this,!1,t,e)},toggle:function(t,e){var n=this;void 0===e&&(e={});var i=this.internal,a={show:[],hide:[]};i.mapToTargetIds(t).forEach((function(t){return a[i.isTargetToShow(t)?"hide":"show"].push(t)})),a.show.length&&this.show(a.show,e),a.hide.length&&setTimeout((function(){return n.hide(a.hide,e)}),0)}},$e={show:function(t){var e,n,i=this.internal,a=i.config,r=i.state.inputType;if(t.mouse&&(n=t.mouse),t.data){var o=t.data,s=i.getYScaleById(o.id)(o.value);i.isMultipleX()?n=[i.scale.x(o.x),s]:(a.tooltip_grouped||(n=[0,s]),e=H(o.index)?o.index:i.getIndexByX(o.x))}else W(t.x)?e=i.getIndexByX(t.x):W(t.index)&&(e=t.index);("mouse"===r?["mouseover","mousemove"]:["touchstart"]).forEach((function(t){i.dispatchEvent(t,e,n)}))},hide:function(){var t,e=this.internal,n=e.state.inputType,i=e.$el.tooltip,a=null==i?void 0:i.datum();if(a){var r=JSON.parse(a.current)[0].index;("mouse"===n?["mouseout"]:["touchend"]).forEach((function(t){e.dispatchEvent(t,r)}))}"touch"===n&&e.callOverOutForTouch(),e.hideTooltip(!0),e.hideGridFocus(),null===(t=e.unexpandCircles)||void 0===t||t.call(e),e.expandBarTypeShapes(!1)}},Me=function t(e){this.plugins=[];var n=new Oe(this);this.internal=n,function t(e,n,i){Object.keys(e).forEach((function(a){var r=Z(e[a]),o=n!==i,s=nt(e[a]),c=s&&Object.keys(e[a]).length>0;n[a]=r&&(!o&&c||o)?e[a].bind(i):s&&!r?{}:e[a],c&&t(e[a],n[a],i)}))}(t.prototype,this,this),Xe.call(n,e),n.beforeInit(),n.init()};function Ye(t,e,n){var i=t.config,a=function(t,n){var a=j(n)?n:!1===n?void 0:null;null!==a&&(i["axis_".concat(t,"_").concat(e)]=a)};W(n)&&(tt(n)?Object.keys(n).forEach((function(t){a(t,n[t])})):(j(n)||!1===n)&&["y","y2"].forEach((function(t){a(t,n)})),t.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0}))}function Ne(t,e){var n=t.config;return{x:n["axis_x_".concat(e)],y:n["axis_y_".concat(e)],y2:n["axis_y2_".concat(e)]}}xt(Me.prototype,[De,{color:function(t){return this.internal.color(t)}},{data:ze},{export:function(t,e){var n=this,i=this.internal,a=i.state,r=i.$el.chart,s=a.current,c=s.width,l=s.height,d=At({width:c,height:l,preserveAspectRatio:!0,mimeType:"image/png"},t),u=function(t,e,n){var i,a,r=e||n,s=r.width,c=r.height,l=new XMLSerializer,d=t.cloneNode(!0),u=(i=bt(F.styleSheets),a=[],i.forEach((function(t){try{t.cssRules&&t.cssRules.length&&(a=a.concat(bt(t.cssRules)))}catch(e){console.error("Error while reading rules from ".concat(t.href,": ").concat(e.toString()))}})),a).filter((function(t){return t.cssText})).map((function(t){return t.cssText}));d.setAttribute("xmlns",o.Z.xhtml);var h=l.serializeToString(d),g=F.createElement("style");g.appendChild(F.createTextNode(u.join("\n")));var f=l.serializeToString(g),p='<svg xmlns="'.concat(o.Z.svg,'" width="').concat(s,'" height="').concat(c,'" \n\t\tviewBox="0 0 ').concat(n.width," ").concat(n.height,'" \n\t\tpreserveAspectRatio="').concat(!1===(null==e?void 0:e.preserveAspectRatio)?"none":"xMinYMid meet",'">\n\t\t\t<foreignObject width="100%" height="100%">\n\t\t\t\t').concat(f,"\n\t\t\t\t").concat(h.replace(/(url\()[^#]+/g,"$1"),"\n\t\t\t</foreignObject></svg>").replace("/\n/g","%0A");return"data:image/svg+xml;base64,".concat(btoa(encodeURIComponent(p).replace(/%([0-9A-F]{2})/g,(function(t,e){return String.fromCharCode(Number("0x".concat(e)))}))))}(r.node(),d,{width:c,height:l});if(e&&Z(e)){var h=new Image;h.crossOrigin="Anonymous",h.onload=function(){var t=F.createElement("canvas"),i=t.getContext("2d");t.width=d.width||c,t.height=d.height||l,i.drawImage(h,0,0),e.bind(n)(t.toDataURL(d.mimeType))},h.src=u}return u}},{focus:function(t){var e=this.internal,n=e.state,i=e.mapToTargetIds(t),a=e.$el.svg.selectAll(e.selectorTargets(i.filter(e.isTargetToShow,e)));this.revert(),this.defocus(),a.classed(Mt.focused,!0).classed(Mt.defocused,!1),e.hasArcType()&&!n.hasRadar&&(e.expandArc(i),e.hasType("gauge")&&e.markOverlapped(t,e,".".concat(Pt.gaugeValue))),e.toggleFocusLegend(i,!0),n.focusedTargetIds=i,n.defocusedTargetIds=n.defocusedTargetIds.filter((function(t){return i.indexOf(t)<0}))},defocus:function(t){var e=this.internal,n=e.state,i=e.mapToTargetIds(t);e.$el.svg.selectAll(e.selectorTargets(i.filter(e.isTargetToShow,e))).classed(Mt.focused,!1).classed(Mt.defocused,!0),e.hasArcType(null,["polar"])&&(e.unexpandArc(i),e.hasType("gauge")&&e.undoMarkOverlapped(e,".".concat(Pt.gaugeValue))),e.toggleFocusLegend(i,!1),n.focusedTargetIds=n.focusedTargetIds.filter((function(t){return i.indexOf(t)<0})),n.defocusedTargetIds=i},revert:function(t){var e=this.internal,n=e.config,i=e.state,a=e.$el,o=e.mapToTargetIds(t);a.svg.selectAll(e.selectorTargets(o)).classed(Mt.focused,!1).classed(Mt.defocused,!1),e.hasArcType(null,["polar"])&&e.unexpandArc(o),n.legend_show&&(e.showLegend(o.filter(e.isLegendToShow.bind(e))),a.legend.selectAll(e.selectorLegends(o)).filter((function(){return(0,r.Z)(this).classed(Mt.legendItemFocused)})).classed(Mt.legendItemFocused,!1)),i.focusedTargetIds=[],i.defocusedTargetIds=[]}},{legend:{show:function(t){var e=this.internal;e.showLegend(e.mapToTargetIds(t)),e.updateAndRedraw({withLegend:!0})},hide:function(t){var e=this.internal;e.hideLegend(e.mapToTargetIds(t)),e.updateAndRedraw({withLegend:!0})}}},{load:function(t){var e=this.internal,n=e.config;t.xs&&e.addXs(t.xs),"names"in t&&this.data.names(t.names),"classes"in t&&Object.keys(t.classes).forEach((function(e){n.data_classes[e]=t.classes[e]})),"categories"in t&&e.axis.isCategorized()&&(n.axis_x_categories=t.categories),"axes"in t&&Object.keys(t.axes).forEach((function(e){n.data_axes[e]=t.axes[e]})),"colors"in t&&Object.keys(t.colors).forEach((function(e){n.data_colors[e]=t.colors[e]})),"unload"in t&&!1!==t.unload?e.unload(e.mapToTargetIds(!0===t.unload?null:t.unload),(function(){P.requestIdleCallback((function(){return e.loadFromArgs(t)}))})):e.loadFromArgs(t)},unload:function(t){var e=this,n=this.internal,i=t||{};it(i)?i={ids:i}:G(i)&&(i={ids:[i]});var a=n.mapToTargetIds(i.ids);n.unload(a,(function(){n.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),n.cache.remove(a),i.done&&i.done.call(e)}))}},Fe,{tooltip:$e}]);var Ve={labels:function(t){var e,n=this.internal;return t&&(Object.keys(t).forEach((function(e){n.axis.setLabelText(e,t[e])})),n.axis.updateLabels()),["x","y","y2"].forEach((function(t){var i=n.axis.getLabelText(t);i&&(!e&&(e={}),e[t]=i)})),e},min:function(t){var e=this.internal;return H(t)||!1===t?Ye(e,"min",t):Ne(e,"min")},max:function(t){var e=this.internal;return H(t)||!1===t?Ye(e,"max",t):Ne(e,"max")},range:function(t){var e=this.axis;if(!arguments.length)return{max:e.max(),min:e.min()};var n=t.min,i=t.max;W(i)&&e.max(i),W(n)&&e.min(n)}},He={axis:Ve};function Ze(t){var e=this.internal,n=e.config;return t?(n.grid_x_lines=t,e.redrawWithoutRescale(),n.grid_x_lines):n.grid_x_lines}xt(Ze,{add:function(t){return this.xgrids(this.internal.config.grid_x_lines.concat(t||[]))},remove:function(t){this.internal.removeGridLines(t,!0)}});var Ge={xgrids:Ze};function je(t){var e=this.internal,n=e.config;return t?(n.grid_y_lines=t,e.redrawWithoutRescale(),n.grid_y_lines):n.grid_y_lines}xt(je,{add:function(t){return this.ygrids(this.internal.config.grid_y_lines.concat(t||[]))},remove:function(t){this.internal.removeGridLines(t,!1)}});var Ue={ygrids:je},We={groups:function(t){var e=this.internal,n=e.config;return U(t)||(n.data_groups=t,e.redraw()),n.data_groups}};function qe(t){var e=this.internal,n=e.config;return t?(n.regions=t,e.redrawWithoutRescale(),t):n.regions}xt(qe,{add:function(t){var e=this.internal,n=e.config;return t?(n.regions=n.regions.concat(t),e.redrawWithoutRescale(),n.regions):n.regions},remove:function(t){var e=this.internal,n=e.config,i=e.$T,a=t||{},r=rt(a,"classes",[Nt.region]),o=e.$el.main.select(".".concat(Nt.regions)).selectAll(r.map((function(t){return".".concat(t)})));return i(o).style("opacity","0").remove(),o=n.regions,Object.keys(a).length?(o=o.filter((function(t){var e=!1;return!t.class||(t.class.split(" ").forEach((function(t){r.indexOf(t)>=0&&(e=!0)})),!e)})),n.regions=o):n.regions=[],o}});var Je={regions:qe},Ke={x:function(t){var e=this.internal,n=e.axis,i=e.data,a=n.isCustomX()&&n.isCategorized();return it(t)&&(a?this.categories(t):(e.updateTargetX(i.targets,t),e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0}))),a?this.categories():i.xs},xs:function(t){var e=this.internal;return at(t)&&(e.updateTargetXs(e.data.targets,t),e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),e.data.xs}},Qe={flow:function(t){var e,n,i,a,r=this.internal,o=0,s=0;if((t.json||t.rows||t.columns)&&(e=r.convertData(t)),!r.state.redrawing&&e&&St()){var c=[],l=r.getMaxDataCount(),d=r.convertDataToTargets(e,!0),u=r.axis.isTimeSeries();r.data.targets.forEach((function(t){for(var e=!1,n=0;n<d.length;n++)if(t.id===d[n].id){e=!0,t.values[t.values.length-1]&&(s=t.values[t.values.length-1].index+1),o=d[n].values.length;for(var i=0;i<o;i++)d[n].values[i].index=s+i,u||(d[n].values[i].x=s+i);t.values=t.values.concat(d[n].values),d.splice(n,1);break}!e&&c.push(t.id)})),r.data.targets.forEach((function(t){for(var e=0;e<c.length;e++)if(t.id===c[e]){s=t.values[t.values.length-1].index+1;for(var n=0;n<o;n++)t.values.push({id:t.id,index:s+n,x:u?r.getOtherTargetX(s+n):s+n,value:null})}})),r.data.targets.length&&d.forEach((function(t){for(var e=[],n=r.data.targets[0].values[0].index;n<s;n++)e.push({id:t.id,index:n,x:u?r.getOtherTargetX(n):n,value:null});t.values.forEach((function(t){t.index+=s,u||(t.x+=s)})),t.values=e.concat(t.values)})),r.data.targets=r.data.targets.concat(d);var h=r.data.targets[0],g=h.values[0];W(t.to)?(o=0,a=u?Ct.call(r,t.to):t.to,h.values.forEach((function(t){t.x<a&&o++}))):W(t.length)&&(o=t.length),l?1===l&&u&&(i=(h.values[h.values.length-1].x-g.x)/2,n=[new Date(+g.x-i),new Date(+g.x+i)]):(i=u?h.values.length>1?h.values[h.values.length-1].x-g.x:g.x-r.getXDomain(r.data.targets)[0]:1,n=[g.x-i,g.x]),n&&r.updateXDomain(null,!0,!0,!1,n),r.updateTargets(r.data.targets),r.redraw({flow:{index:g.index,length:o,duration:H(t.duration)?t.duration:r.config.transition_duration,done:t.done,orgDataCount:l},withLegend:!0,withTransition:l>1,withTrimXDomain:!1,withUpdateXAxis:!0})}}},tn=function(){function t(t){var e=Te(),n=t.config,i=t.params;this.owner=t,this.config=n,this.scale=e,!n.noTransition&&i.config.transition_duration||(n.withoutTransition=!0),n.range=this.scaleExtent((i.orgXScale||e).range())}return t.getSizeFor1Char=function(t){var e={w:5.5,h:11.5};return!t.empty()&&t.select("text").text("0").call((function(t){try{var n=t.node().getBBox(),i=n.width,a=n.height;i&&a&&(e.w=i,e.h=a)}catch(t){}finally{t.text("")}})),this.getSizeFor1Char=function(){return e},e},t.prototype.getTickTransformSetter=function(t){var e=this.config,n="x"===t?function(t){return"translate(".concat(t+e.tickOffset,",0)")}:function(t){return"translate(0,".concat(t,")")};return function(t,e){t.attr("transform",(function(t){return n(Math.ceil(e(t)))}))}},t.prototype.scaleExtent=function(t){var e=t[0],n=t[t.length-1];return e<n?[e,n]:[n,e]},t.prototype.generateTicks=function(t,e){var n=this.owner.params.tickStepSize,i=t.domain(),a=i[0],r=i[1],o=[];if(e&&n)for(var s=Math.round(a);s<=r;)o.push(s),s+=n;else if(t.ticks){var c=this.config.tickArguments;if("log"!==t.type||c)o=t.ticks.apply(t,this.config.tickArguments||[]);else{var l=Te("_log").domain([a>0?a:1,r]).range(t.range());o=l.ticks();for(var d=r.toFixed().length;o.length>15;d--)o=l.ticks(d);o.splice(0,1,a),o.splice(o.length-1,1,r)}o=o.map((function(t){return G(t)&&j(t)&&!isNaN(t)&&Math.round(10*t)/10||t}))}else{for(var u=Math.ceil(a);u<r;u++)o.push(u);o.length>0&&o[0]>0&&o.unshift(o[0]-(o[1]-o[0]))}return o},t.prototype.copyScale=function(){var t=this.scale.copy();return t.domain().length||t.domain(this.scale.domain()),t.type=this.scale.type,t},t.prototype.textFormatted=function(t){var e=this.config.tickFormat,n=/\d+\.\d+0{5,}\d$/.test(t)?+String(t).replace(/0+\d$/,""):t,i=e?e(n):n;return W(i)?i:""},t.prototype.transitionise=function(t){var e=this.config,n=t;if(e.withoutTransition)n=t.interrupt();else if(e.transition||!this.owner.params.noTransition)try{n=t.transition(e.transition)}catch(t){}return n},t}(),en=function(){function t(t){void 0===t&&(t={});var e={innerTickSize:6,outerTickSize:t.outerTick?6:0,orient:"bottom",range:[],tickArguments:null,tickCentered:null,tickCulling:!0,tickFormat:null,tickLength:9,tickOffset:0,tickPadding:3,tickValues:null,transition:null,noTransition:t.noTransition};e.tickLength=Math.max(e.innerTickSize,0)+e.tickPadding,this.config=e,this.params=t,this.helper=new tn(this)}return t.prototype.create=function(t){var e=this,n=this,i=n.config,a=n.helper,o=n.params,s=a.scale,c=i.orient,l=this.splitTickText.bind(this),d=/^(left|right)$/.test(c),u=/^(top|bottom)$/.test(c),h=a.getTickTransformSetter(u?"x":"y"),g=h===a.axisX?"y":"x",f=/^(top|left)$/.test(c)?-1:1,p=o.tickTextRotate;this.config.range=s.rangeExtent?s.rangeExtent():a.scaleExtent((o.orgXScale||s).range());var x,v=i.innerTickSize,b=i.tickLength,m=i.range,_=o.id,y=_&&/^(x|y|y2)$/.test(_)?o.config["axis_".concat(_,"_tick_text_position")]:{x:0,y:0},A="subX"===_?"subchart_axis_x":"axis_".concat(_),T=o.config["".concat(A,"_show")],E=!!T&&o.config["".concat(A,"_tick_show")],w=!!T&&o.config["".concat(A,"_tick_text_show")];t.each((function(){var t=(0,r.Z)(this),n=this.__chart__||s,_=a.copyScale();x=t,this.__chart__=_,i.tickOffset=o.isCategory?Math.ceil((_(1)-_(0))/2):0;var A,T=t.selectAll(".domain").data([0]);if(T.enter().append("path").attr("class","domain").merge(T).attr("d",(function(){var t=i.outerTickSize*f;return u?"M".concat(m[0],",").concat(t,"V0H").concat(m[1],"V").concat(t):"M".concat(t,",").concat(m[0],"H0V").concat(m[1],"H").concat(t)})),E||w){var k=i.tickValues||a.generateTicks(_,d),C=t.selectAll(".tick").data(k,_),S=C.enter().insert("g",".domain").attr("class","tick"),B=C.exit().remove();C=S.merge(C),E&&S.append("line"),w&&S.append("text");var L=tn.getSizeFor1Char(C),I=[],R=C.select("text").selectAll("tspan").data((function(t,e){var n=o.tickMultiline?l(t,_,k,d,L.w):it(a.textFormatted(t))?a.textFormatted(t).concat():[a.textFormatted(t)];return I[e]=n.length,n.map((function(t){return{index:e,splitted:t}}))}));R.exit().remove(),(R=R.enter().append("tspan").merge(R).text((function(t){return t.splitted}))).attr("x",u?0:b*f).attr("dx",(A=0,/(top|bottom)/.test(c)&&p&&(A=8*Math.sin(Math.PI*(p/180))*("top"===c?-1:1)),A+(y.x||0))).attr("dy",(function(t,e){var n=".71em",i=0;return"top"!==c&&(i=L.h,0===e&&(i=d?-((I[t.index]-1)*(L.h/2)-3):0===y.y?n:0)),j(i)&&y.y?i+y.y:i||n}));var O=C.select("line"),X=C.select("text");if(S.select("line").attr("".concat(g,"2"),v*f),S.select("text").attr(g,b*f),e.setTickLineTextPosition(O,X),o.tickTitle){var D=X.select("title");(D.empty()?X.append("title"):D).text((function(t){return o.tickTitle[t]}))}if(_.bandwidth){var z=_,P=z.bandwidth()/2;_=n=function(t){return z(t)+P}}else n.bandwidth?n=_:h(B,_);C=o.owner.state.flowing?a.transitionise(C):o.owner.$T(C),h(S,n),h(C.style("opacity",null),_)}})),this.g=x},t.prototype.getTickXY=function(){var t=this.config,e={x:0,y:0};return this.params.isCategory&&(e.x=t.tickCentered?0:t.tickOffset,e.y=t.tickCentered?t.tickOffset:0),e},t.prototype.getTickSize=function(t){var e=this.helper.scale,n=this.config,i=n.innerTickSize,a=n.range,r=e(t)+(n.tickCentered?0:n.tickOffset);return a[0]<r&&r<a[1]?i:0},t.prototype.setTickLineTextPosition=function(t,e){var n=this.getTickXY(),i=this.config,a=i.innerTickSize,r=i.orient,o=i.tickLength,s=i.tickOffset,c=this.params.tickTextRotate,l=function(t){var e=["start","end"];return"top"===r&&e.reverse(),t?e[t>0?0:1]:"middle"},d=function(t){return t?"rotate(".concat(t,")"):null},u=function(t){return t?11.5-t/("bottom"===r?15:23)*2.5*(t>0?1:-1):o};switch(r){case"bottom":t.attr("x1",n.x).attr("x2",n.x).attr("y2",this.getTickSize.bind(this)),e.attr("x",0).attr("y",u(c)).style("text-anchor",l(c)).attr("transform",d(c));break;case"top":t.attr("x2",0).attr("y2",-a),e.attr("x",0).attr("y",2*-u(c)).style("text-anchor",l(c)).attr("transform",d(c));break;case"left":t.attr("x2",-a).attr("y1",n.y).attr("y2",n.y),e.attr("x",-o).attr("y",s).style("text-anchor","end");break;case"right":t.attr("x2",a).attr("y2",0),e.attr("x",o).attr("y",0).style("text-anchor","start")}},t.prototype.splitTickText=function(t,e,n,i,a){var r=this.params,o=this.helper.textFormatted(t),s=G(o)&&o.indexOf("\n")>-1?o.split("\n"):[];if(s.length)return s;if(it(o))return o;var c=r.tickWidth;return(!c||c<=0)&&(c=i?95:r.isCategory?Math.ceil(e(n[1])-e(n[0]))-12:110),function t(e,n){for(var i,r,o,s=1;s<n.length;s++)if(" "===n.charAt(s)&&(r=s),i=n.substr(0,s+1),o=a*i.length,c<o)return t(e.concat(n.substr(0,r||s)),n.slice(r?r+1:s));return e.concat(n)}(s,String(o))},t.prototype.scale=function(t){return arguments.length?(this.helper.scale=t,this):this.helper.scale},t.prototype.orient=function(t){return arguments.length?(this.config.orient=t in{top:1,right:1,bottom:1,left:1}?String(t):"bottom",this):this.config.orient},t.prototype.tickFormat=function(t){var e=this.config;return arguments.length?(e.tickFormat=t,this):e.tickFormat},t.prototype.tickCentered=function(t){var e=this.config;return arguments.length?(e.tickCentered=t,this):e.tickCentered},t.prototype.tickOffset=function(){return this.config.tickOffset},t.prototype.tickInterval=function(t){var e,n=this,i=this.config,a=i.outerTickSize,r=i.tickOffset,o=i.tickValues;if(this.params.isCategory)e=2*r;else{e=(this.g.select("path.domain").node().getTotalLength()-2*a)/(t||this.g.selectAll("line").size());var s=o?o.map((function(t,e,i){var a=e+1;return a<i.length?n.helper.scale(i[a])-n.helper.scale(t):null})).filter(Boolean):[];e=Math.min.apply(Math,V(V([],s,!1),[e],!1))}return e===1/0?0:e},t.prototype.ticks=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.config;return t.length?(n.tickArguments=bt(t),this):n.tickArguments},t.prototype.tickCulling=function(t){var e=this.config;return arguments.length?(e.tickCulling=t,this):e.tickCulling},t.prototype.tickValues=function(t){var e=this,n=this.config;if(Z(t))n.tickValues=function(){return t(e.helper.scale.domain())};else{if(!arguments.length)return n.tickValues;n.tickValues=t}return this},t.prototype.setTransition=function(t){return this.config.transition=t,this},t}(),nn={getAxisInstance:function(){return this.axis||new an(this)}},an=function(){function t(t){this.axesList={},this.tick={x:null,y:null,y2:null},this.xs=[],this.orient={x:"bottom",y:"left",y2:"right",subX:"bottom"},this.owner=t,this.setOrient()}return t.prototype.getAxisClassName=function(t){return"".concat(It.axis," ").concat(It["axis".concat(vt(t))])},t.prototype.isHorizontal=function(t,e){var n=t.config.axis_rotated;return e?n:!n},t.prototype.isCategorized=function(){var t=this.owner,e=t.config,n=t.state;return e.axis_x_type.indexOf("category")>=0||n.hasRadar},t.prototype.isCustomX=function(){var t=this.owner.config;return!this.isTimeSeries()&&(t.data_x||nt(t.data_xs))},t.prototype.isTimeSeries=function(t){return void 0===t&&(t="x"),"timeseries"===this.owner.config["axis_".concat(t,"_type")]},t.prototype.isLog=function(t){return void 0===t&&(t="x"),"log"===this.owner.config["axis_".concat(t,"_type")]},t.prototype.isTimeSeriesY=function(){return this.isTimeSeries("y")},t.prototype.getAxisType=function(t){void 0===t&&(t="x");var e="linear";return this.isTimeSeries(t)?e=this.owner.config.axis_x_localtime?"time":"utc":this.isLog(t)&&(e="log"),e},t.prototype.init=function(){var t=this,e=this.owner,n=e.config,i=e.$el,a=i.main,r=i.axis,o=e.state.clip,s=n.axis_rotated,c=["x","y"];n.axis_y2_show&&c.push("y2"),c.forEach((function(i){var c=t.getAxisClassName(i),l=It["axis".concat(i.toUpperCase(),"Label")];r[i]=a.append("g").attr("class",c).attr("clip-path",(function(){var t=null;return"x"===i?t=o.pathXAxis:"y"===i&&(t=o.pathYAxis),t})).attr("transform",e.getTranslate(i)).style("visibility",n["axis_".concat(i,"_show")]?null:"hidden"),r[i].append("text").attr("class",l).attr("transform",["rotate(-90)",null]["x"===i?+!s:+s]).style("text-anchor",(function(){return t.textAnchorForAxisLabel(i)})),t.generateAxes(i)}))},t.prototype.setOrient=function(){var t=this.owner.config,e=t.axis_rotated,n=t.axis_y_inner,i=t.axis_y2_inner;this.orient={x:e?"left":"bottom",y:e?n?"top":"bottom":n?"right":"left",y2:e?i?"bottom":"top":i?"left":"right",subX:e?"left":"bottom"}},t.prototype.generateAxes=function(t){var e,n=this.owner,i=n.config,a=[],r=i["axis_".concat(t,"_axes")],o=i.axis_rotated;"x"===t?e=o?X.y4:X.LL:"y"===t?e=o?X.LL:X.y4:"y2"===t&&(e=o?X.F5:X.Kh),r.length&&r.forEach((function(i){var r=i.tick||{},o=n.scale[t].copy();i.domain&&o.domain(i.domain),a.push(e(o).ticks(r.count).tickFormat(Z(r.format)?r.format.bind(n.api):function(t){return t}).tickValues(r.values).tickSizeOuter(!1===r.outer?0:6))})),this.axesList[t]=a},t.prototype.updateAxes=function(){var t=this,e=this.owner,n=e.config,i=e.$el.main,a=e.$T;Object.keys(this.axesList).forEach((function(r){var o=n["axis_".concat(r,"_axes")],s=e.scale[r].copy(),c=s.range();t.axesList[r].forEach((function(l,d){var u=l.scale().range();c.every((function(t,e){return t===u[e]}))||l.scale().range(c);var h="".concat(t.getAxisClassName(r),"-").concat(d+1),g=i.select(".".concat(h.replace(/\s/,".")));g.empty()?g=i.append("g").attr("class",h).style("visibility",n["axis_".concat(r,"_show")]?null:"hidden").call(l):(o[d].domain&&s.domain(o[d].domain),a(g).call(l.scale(s))),g.attr("transform",e.getTranslate(r,d+1))}))}))},t.prototype.setAxis=function(t,e,n,i){var a=this.owner;"subX"!==t&&(this.tick[t]=this.getTickValues(t)),this[t]=this.getAxis(t,e,n,!("x"!==t||!(a.scale.zoom||a.config.subchart_show||a.state.resizing))||i)},t.prototype.getAxis=function(t,e,n,i,a){var r,o=this.owner,s=o.config,c=/^(x|subX)$/.test(t),l=c?"x":t,d=c&&this.isCategorized(),u=this.orient[t],h=a?0:o.getAxisTickRotate(l);if(c)r="subX"===t?o.format.subXAxisTick:o.format.xAxisTick;else{var g=s["axis_".concat(t,"_tick_format")];Z(g)&&(r=g.bind(o.api))}var f=this.tick[l],p=At({outerTick:n,noTransition:i,config:s,id:t,tickTextRotate:h,owner:o},c&&{isCategory:d,tickMultiline:s.axis_x_tick_multiline,tickWidth:s.axis_x_tick_width,tickTitle:d&&s.axis_x_tick_tooltip&&o.api.categories(),orgXScale:o.scale.x});c||(p.tickStepSize=s["axis_".concat(l,"_tick_stepSize")]);var x=new en(p).scale(c&&o.scale.zoom||e).orient(u);if(c&&this.isTimeSeries()&&f&&!Z(f)){var v=Ct.bind(o);f=f.map((function(t){return v(t)}))}else!c&&this.isTimeSeriesY()&&(x.ticks(s.axis_y_tick_time_value),f=null);f&&x.tickValues(f),x.tickFormat(r||!c&&o.isStackNormalized()&&function(t){return"".concat(t,"%")}),d&&(x.tickCentered(s.axis_x_tick_centered),et(s.axis_x_tick_culling)&&(s.axis_x_tick_culling=!1));var b=s["axis_".concat(l,"_tick_count")];return b&&x.ticks(b),x},t.prototype.updateXAxisTickValues=function(t,e){var n,i,a=this.owner,r=a.config,o=r.axis_x_tick_fit,s=r.axis_x_tick_count;return(o||s&&o)&&(i=a.mapTargetsToUniqueXs(t),this.isCategorized()&&s>i.length&&(s=i.length),i=this.generateTickValues(i,s,this.isTimeSeries())),e?e.tickValues(i):this.x&&(this.x.tickValues(i),null===(n=this.subX)||void 0===n||n.tickValues(i)),i},t.prototype.getId=function(t){var e=this.owner,n=e.config,i=e.scale,a=n.data_axes[t];return a&&i[a]||(a="y"),a},t.prototype.getXAxisTickFormat=function(t){var e,n=this.owner,i=n.config,a=n.format,r=t&&i.subchart_axis_x_tick_format||i.axis_x_tick_format,o=this.isTimeSeries(),s=this.isCategorized();return r?Z(r)?e=r.bind(n.api):o&&(e=function(t){return t?a.axisTime(r)(t):""}):e=o?a.defaultAxisTime:s?n.categoryName:function(t){return t<0?t.toFixed(0):t},Z(e)?function(t){return e.apply(n,s?[t,n.categoryName(t)]:[t])}:e},t.prototype.getTickValues=function(t){var e=this.owner,n=e.config["axis_".concat(t,"_tick_values")],i=e["".concat(t,"Axis")];return(Z(n)?n.call(e.api):n)||(i?i.tickValues():void 0)},t.prototype.getLabelOptionByAxisId=function(t){return this.owner.config["axis_".concat(t,"_label")]},t.prototype.getLabelText=function(t){var e=this.getLabelOptionByAxisId(t);return G(e)?e:e?e.text:null},t.prototype.setLabelText=function(t,e){var n=this.owner.config,i=this.getLabelOptionByAxisId(t);G(i)?n["axis_".concat(t,"_label")]=e:i&&(i.text=e)},t.prototype.getLabelPosition=function(t,e){var n=this.owner.config.axis_rotated,i=this.getLabelOptionByAxisId(t),a=tt(i)&&i.position?i.position:e[+!n],r=function(t){return!!~a.indexOf(t)};return{isInner:r("inner"),isOuter:r("outer"),isLeft:r("left"),isCenter:r("center"),isRight:r("right"),isTop:r("top"),isMiddle:r("middle"),isBottom:r("bottom")}},t.prototype.getAxisLabelPosition=function(t){return this.getLabelPosition(t,"x"===t?["inner-top","inner-right"]:["inner-right","inner-top"])},t.prototype.getLabelPositionById=function(t){return this.getAxisLabelPosition(t)},t.prototype.xForAxisLabel=function(t){var e=this.owner,n=e.state,i=n.width,a=n.height,r=this.getAxisLabelPosition(t),o=r.isMiddle?-a/2:0;return this.isHorizontal(e,"x"!==t)?o=r.isLeft?0:r.isCenter?i/2:i:r.isBottom&&(o=-a),o},t.prototype.dxForAxisLabel=function(t){var e=this.owner,n=this.getAxisLabelPosition(t),i=n.isBottom?"0.5em":"0";return this.isHorizontal(e,"x"!==t)?i=n.isLeft?"0.5em":n.isRight?"-0.5em":"0":n.isTop&&(i="-0.5em"),i},t.prototype.textAnchorForAxisLabel=function(t){var e=this.owner,n=this.getAxisLabelPosition(t),i=n.isMiddle?"middle":"end";return this.isHorizontal(e,"x"!==t)?i=n.isLeft?"start":n.isCenter?"middle":"end":n.isBottom&&(i="start"),i},t.prototype.dyForAxisLabel=function(t){var e,n=this.owner,i=n.config,a=i.axis_rotated,r=this.getAxisLabelPosition(t).isInner,o=i["axis_".concat(t,"_tick_rotate")]?n.getHorizontalAxisHeight(t):0,s=this.getMaxTickWidth(t);if("x"===t){var c=i.axis_x_height;e=a?r?"1.2em":-25-s:r?"-0.5em":c?c-10:o?o-10:"3em"}else e={y:["-0.5em",10,"3em","1.2em",10],y2:["1.2em",-20,"-2.2em","-0.5em",15]}[t],e=a?r?e[0]:o?o*("y2"===t?-1:1)-e[1]:e[2]:r?e[3]:(e[4]+(i["axis_".concat(t,"_inner")]?0:s+e[4]))*("y"===t?-1:1);return e},t.prototype.getMaxTickWidth=function(t,e){var n=this.owner,i=n.config,a=n.state.current,r=n.$el,o=r.svg,s=r.chart,c=a.maxTickWidths[t],l=0;if(e||!i["axis_".concat(t,"_show")]||0===n.filterTargetsToShow().length)return c.size;if(o){var d=/^y2?$/.test(t),u=n.filterTargetsToShow(n.data.targets),h=n.scale[t].copy().domain(n["get".concat(d?"Y":"X","Domain")](u,t)),g=h.domain(),f=g[0]===g[1]&&g.every((function(t){return t>0})),p=it(c.domain)&&c.domain[0]===c.domain[1]&&c.domain.every((function(t){return t>0}));if(f||p)return c.size;c.domain=g,d||c.ticks.splice(0);var x=this.getAxis(t,h,!1,!1,!0),v=i["axis_".concat(t,"_tick_count")];!i["axis_".concat(t,"_tick_values")]&&v&&x.tickValues(this.generateTickValues(g,v,d?this.isTimeSeriesY():this.isTimeSeries())),!d&&this.updateXAxisTickValues(u,x);var b=s.append("svg").style("visibility","hidden").style("position","fixed").style("top","0").style("left","0");x.create(b),b.selectAll("text").each((function(t,e){var n=this.getBoundingClientRect().width;l=Math.max(l,n),d||(c.ticks[e]=n)})),b.remove()}return l>0&&(c.size=l),c.size},t.prototype.getXAxisTickTextY2Overflow=function(t){var e=this.owner,n=e.axis,i=e.config,a=e.state,r=e.getAxisTickRotate("x"),o=r>0&&r<90;if((n.isCategorized()||n.isTimeSeries())&&i.axis_x_tick_fit&&!i.axis_x_tick_culling&&!i.axis_x_tick_multiline&&o){var s=a.current.width-e.getCurrentPaddingLeft(),c=this.getXAxisTickMaxOverflow(r,s-t),l=Math.max(0,c)+t;return Math.min(l,s/2)}return 0},t.prototype.getXAxisTickMaxOverflow=function(t,e){for(var n=this.owner,i=n.axis,a=n.config,r=n.state,o=i.isTimeSeries(),s=r.current.maxTickWidths.x.ticks,c=s.length,l=r.axis.x.padding,d=l.left,u=l.right,h=0,g=c-(o&&a.axis_x_tick_fit?.5:0),f=0;f<c;f++){var p=f+1,x=Math.cos(Math.PI*t/180)*s[f],v=p-(o?1:.5)+d;if(!(v<=0)){var b=(e-x)/v,m=x-b/2-((g-p)*b+u*b);h=Math.max(h,m)}}var _=n.filterTargetsToShow(n.data.targets),y=0;if(!o&&a.axis_x_tick_count<=_.length&&_[0].values.length){var A=Te(n.axis.getAxisType("x"),0,e-h).domain([-1*d,n.getXDomainMax(n.data.targets)+1+u]);y=Math.ceil((A(1)-A(0))/2)}return h+y},t.prototype.updateLabels=function(t){var e=this,n=this.owner,i=n.$el.main,a=n.$T,r={x:i.select(".".concat(It.axisX," .").concat(It.axisXLabel)),y:i.select(".".concat(It.axisY," .").concat(It.axisYLabel)),y2:i.select(".".concat(It.axisY2," .").concat(It.axisY2Label))};Object.keys(r).filter((function(t){return!r[t].empty()})).forEach((function(n){var i=r[n];a(i,t).attr("x",(function(){return e.xForAxisLabel(n)})).attr("dx",(function(){return e.dxForAxisLabel(n)})).attr("dy",(function(){return e.dyForAxisLabel(n)})).text((function(){return e.getLabelText(n)}))}))},t.prototype.getPadding=function(t,e,n,i){var a=j(t)?t:t[e];return H(a)?this.owner.convertPixelToScale(/(bottom|top)/.test(e)?"y":"x",a,i):n},t.prototype.generateTickValues=function(t,e,n){var i=t;if(e){var a=Z(e)?e():e;if(1===a)i=[t[0]];else if(2===a)i=[t[0],t[t.length-1]];else if(a>2){var r=this.isCategorized(),o=a-2,s=t[0],c=t[t.length-1],l=(c-s)/(o+1),d=void 0;i=[s];for(var u=0;u<o;u++)d=+s+l*(u+1),i.push(n?new Date(d):r?Math.round(d):d);i.push(c)}}return n||(i=i.sort((function(t,e){return t-e}))),i},t.prototype.generateTransitions=function(t){var e=this.owner,n=e.$el.axis,i=e.$T,a=["x","y","y2","subX"].map((function(e){return i(n[e],t)}));return{axisX:a[0],axisY:a[1],axisY2:a[2],axisSubX:a[3]}},t.prototype.redraw=function(t,e,n){var i=this,a=this.owner,r=a.config,o=a.$el,s=e?"0":null;["x","y","y2","subX"].forEach((function(e){var a=i[e],c=o.axis[e];a&&c&&(n||r.transition_duration||(a.config.withoutTransition=!0),c.style("opacity",s),a.create(t["axis".concat(vt(e))]))})),this.updateAxes()},t.prototype.redrawAxis=function(t,e,n,i,a){var r,o,s,c,l=this,d=this.owner,u=d.config,h=d.scale,g=d.$el,f=!!h.zoom;!f&&this.isCategorized()&&0===t.length&&h.x.domain([0,g.axis.x.selectAll(".tick").size()]),h.x&&t.length?(!f&&d.updateXDomain(t,e.UpdateXDomain,e.UpdateOrgXDomain,e.TrimXDomain),u.axis_x_tick_values||this.updateXAxisTickValues(t)):this.x&&(this.x.tickValues([]),null===(r=this.subX)||void 0===r||r.tickValues([])),u.zoom_rescale&&!i&&(c=h.x.orgDomain()),["y","y2"].forEach((function(e){var n="axis_".concat(e,"_"),i=h[e];if(i){var a=u["".concat(n,"tick_values")],r=u["".concat(n,"tick_count")];if(i.domain(d.getYDomain(t,e,c)),!a&&r){var o=d.axis[e],s=i.domain();o.tickValues(l.generateTickValues(s,s.every((function(t){return 0===t}))?1:r,l.isTimeSeriesY()))}}})),this.redraw(n,d.hasArcType(),a),this.updateLabels(e.Transition),(e.UpdateXDomain||e.UpdateXAxis||e.Y)&&t.length&&this.setCulling(),e.Y&&(null===(o=h.subY)||void 0===o||o.domain(d.getYDomain(t,"y")),null===(s=h.subY2)||void 0===s||s.domain(d.getYDomain(t,"y2")))},t.prototype.setCulling=function(){var t=this.owner,e=t.config,n=t.state,i=n.clip,a=n.current,r=t.$el;["subX","x","y","y2"].forEach((function(t){var n=r.axis[t],o="axis_".concat("subX"===t?"x":t,"_tick_culling"),s=e[o];if(n&&s){var c,l=n.selectAll(".tick"),d=Tt(l.data()),u=d.length,h=e["".concat(o,"_max")],g=e["".concat(o,"_lines")];if(u){for(var f=1;f<u;f++)if(u/f<h){c=f;break}l.each((function(t){var e=g?this.querySelector("text"):this;e&&(e.style.display=d.indexOf(t)%c?"none":null)}))}else l.style("display",null);if("x"===t){var p=a.maxTickWidths.x.clipPath?i.pathXAxisTickTexts:null;r.svg.selectAll(".".concat(It.axisX," .tick text")).attr("clip-path",p)}}}))},t}(),rn={initEventRect:function(){this.$el.main.select(".".concat(Bt.chart)).append("g").attr("class",$t.eventRects).style("fill-opacity","0")},redrawEventRect:function(){var t,e=this,n=e.config,i=e.state,a=e.$el,r=e.isMultipleX();if(a.eventRect)e.updateEventRect(a.eventRect,!0);else{var o=e.$el.main.select(".".concat($t.eventRects)).style("cursor",n.zoom_enabled&&"drag"!==n.zoom_type?n.axis_rotated?"ns-resize":"ew-resize":null).classed($t.eventRectsMultiple,r).classed($t.eventRectsSingle,!r).selectAll(".".concat($t.eventRect)).data([0]).enter().append("rect");e.updateEventRect(o),r?e.generateEventRectsForMultipleXs(o):e.generateEventRectsForSingleX(o),o.call(e.getDraggableSelection()),a.eventRect=o,"touch"!==e.state.inputType||a.svg.on("touchstart.eventRect")||e.hasArcType()||e.bindTouchOnEventRect(r)}if(!r){var s=e.getMaxDataCountTarget();e.updateDataIndexByX(s),e.updateXs(s),null===(t=e.updatePointClass)||void 0===t||t.call(e,!0),i.eventReceiver.data=s}e.updateEventRectData()},bindTouchOnEventRect:function(t){var e,n=this,i=n.config,a=n.state,r=n.$el,o=r.eventRect,s=r.svg,c=function(){n.unselectRect(),n.callOverOutForTouch()},l=i.interaction_inputType_touch.preventDefault,d=q(l)&&l||!1,u=!isNaN(l)&&l||null;o.on("touchstart",(function(t){a.event=t,n.updateEventRect()})).on("touchstart.eventRect touchmove.eventRect",(function(r){if(a.event=r,!o.empty()&&o.classed($t.eventRect)){if(a.dragging||a.flowing||n.hasArcType()||r.touches.length>1)return;!function(t){var n=t.type,a=t.changedTouches[0]["client".concat(i.axis_rotated?"Y":"X")];"touchstart"===n?d?t.preventDefault():null!==u&&(e=a):"touchmove"===n&&(d||!0===e||null!==u&&Math.abs(e-a)>=u)&&(e=!0,t.preventDefault())}(r),function(e){if(t)n.selectRectForMultipleXs(e);else{var i=n.getDataIndexFromEvent(a.event);n.callOverOutForTouch(i),-1===i?n.unselectRect():n.selectRectForSingle(e,o,i)}}(o.node())}else c()}),!0).on("touchend.eventRect",(function(t){a.event=t,!o.empty()&&o.classed($t.eventRect)&&(n.hasArcType()||!n.toggleShape||a.cancelClick)&&a.cancelClick&&(a.cancelClick=!1)}),!0),s.on("touchstart",(function(t){a.event=t;var e=t.target;e&&e!==o.node()&&c()}))},updateEventRect:function(t,e){void 0===e&&(e=!1);var n=this.state,i=this.$el,a=n.eventReceiver,r=n.width,o=n.height,s=n.rendered,c=n.resizing,l=t||i.eventRect;(!s||c||e)&&(l.attr("x",0).attr("y",0).attr("width",r).attr("height",o),s||l.attr("class",$t.eventRect)),a&&(a.rect=l.node().getBoundingClientRect())},updateEventRectData:function(){var t,e,n,i,a=this,r=a.config,o=a.scale,s=a.state,c=o.zoom||o.x,l=r.axis_rotated;if(a.isMultipleX())t=0,e=0,n=s.width,i=s.height;else{var d,u=void 0;if(a.axis.isCategorized())d=a.getEventRectWidth(),u=function(t){return c(t.x)-d/2};else{var h=function(t){var e=t.index;return{prev:a.getPrevX(e),next:a.getNextX(e)}};d=function(t){var e=h(t),n=c.domain();return null===e.prev&&null===e.next?l?s.height:s.width:(Object.keys(e).forEach((function(t,i){var a;e[t]=null!==(a=e[t])&&void 0!==a?a:n[i]})),Math.max(0,(c(e.next)-c(e.prev))/2))},u=function(t){var e=h(t),n=t.x;return null===e.prev&&null===e.next?0:(null===e.prev&&(e.prev=c.domain()[0]),(c(n)+c(e.prev))/2)}}t=l?0:u,e=l?u:0,n=l?s.width:d,i=l?d:s.height}var g=s.eventReceiver,f=function(t,e){return Z(t)?t(e):t};g.coords.splice(g.data.length),g.data.forEach((function(a,r){g.coords[r]={x:f(t,a),y:f(e,a),w:f(n,a),h:f(i,a)}}))},selectRectForMultipleXs:function(t){var e=this,n=e.config,i=e.state,a=e.filterTargetsToShow(e.data.targets);if(!i.dragging&&!e.hasArcType(a)){var r=ut(i.event,t),o=e.findClosestFromTargets(a,r);if(!i.mouseover||o&&o.id===i.mouseover.id||(n.data_onout.call(e.api,i.mouseover),i.mouseover=void 0),o){var s=(e.isBubbleType(o)||e.isScatterType(o)||!n.tooltip_grouped?[o]:e.filterByX(a,o.x)).map((function(t){return e.addName(t)}));e.showTooltip(s,t),e.setExpand(o.index,o.id,!0),e.showGridFocus(s),(e.isBarType(o.id)||e.dist(o,r)<n.point_sensitivity)&&(e.$el.svg.select(".".concat($t.eventRect)).style("cursor","pointer"),i.mouseover||(n.data_onover.call(e.api,o),i.mouseover=o))}else e.unselectRect()}},unselectRect:function(){var t=this,e=t.config,n=t.$el,i=n.circle,a=n.tooltip;t.$el.svg.select(".".concat($t.eventRect)).style("cursor",null),t.hideGridFocus(),a&&(t.hideTooltip(),t._handleLinkedCharts(!1)),i&&!e.point_focus_only&&t.unexpandCircles(),t.expandBarTypeShapes(!1)},generateEventRectsForSingleX:function(t){var e=this,n=e.config,i=e.state,a=i.eventReceiver,r=t.style("cursor",n.data_selection_enabled&&n.data_selection_grouped?"pointer":null).on("click",(function(t){i.event=t;var n=a.currentIdx,r=a.data[-1===n?e.getDataIndexFromEvent(t):n];e.clickHandlerForSingleX.bind(this)(r,e)}));return"mouse"===i.inputType&&r.on("mouseover",(function(t){i.event=t,e.updateEventRect()})).on("mousemove",(function(t){var o=function(t){var n=t?e.getDataIndexFromEvent(t):a.currentIdx;return n>-1?a.data[n]:null}(t);if(i.event=t,o){var s=o.index,c=n.line_step_type;if(n.line_step_tooltipMatch&&e.hasType("step")&&/^step\-(before|after)$/.test(c)){var l=e.scale.zoom||e.scale.x,d=e.axis.xs[s],u=l.invert(ut(t,this)[0]);"step-after"===c&&u<d?s-=1:"step-before"===c&&u>d&&(s+=1)}i.dragging||i.flowing||e.hasArcType()||n.tooltip_grouped&&s===a.currentIdx||(s!==a.currentIdx&&(e.setOverOut(!1,a.currentIdx),a.currentIdx=s),-1===s?e.unselectRect():e.selectRectForSingle(this,r,s),e.setOverOut(-1!==s,s))}})).on("mouseout",(function(t){i.event=t,n&&!e.hasArcType()&&-1!==a.currentIdx&&(e.unselectRect(),e.setOverOut(!1,a.currentIdx),a.currentIdx=-1)})),r},clickHandlerForSingleX:function(t,e){var n=e,i=n.config,a=n.state,r=n.$el.main;if(!t||n.hasArcType()||a.cancelClick)a.cancelClick&&(a.cancelClick=!1);else{var o=t.index;r.selectAll(".".concat(Ht.shape,"-").concat(o)).each((function(t){var e;(i.data_selection_grouped||n.isWithinShape(this,t))&&(null===(e=n.toggleShape)||void 0===e||e.call(n,this,t,o),i.data_onclick.bind(n.api)(t,this))}))}},generateEventRectsForMultipleXs:function(t){var e=this,n=e.state;t.on("click",(function(t){n.event=t,e.clickHandlerForMultipleXS.bind(this)(e)})),"mouse"===n.inputType&&t.on("mouseover mousemove",(function(t){n.event=t,e.selectRectForMultipleXs(this)})).on("mouseout",(function(t){n.event=t,e.config&&!e.hasArcType()&&e.unselectRect()}))},clickHandlerForMultipleXS:function(t){var e=t,n=e.config,i=e.state,a=e.filterTargetsToShow(e.data.targets);if(!e.hasArcType(a)){var r=ut(i.event,this),o=e.findClosestFromTargets(a,r);o&&(e.isBarType(o.id)||e.dist(o,r)<n.point_sensitivity)&&e.$el.main.selectAll(".".concat(Ht.shapes).concat(e.getTargetSelectorSuffix(o.id))).selectAll(".".concat(Ht.shape,"-").concat(o.index)).each((function(){var t;(n.data_selection_grouped||e.isWithinShape(this,o))&&(null===(t=e.toggleShape)||void 0===t||t.call(e,this,o,o.index),n.data_onclick.bind(e.api)(o,this))}))}}},on={generateFlow:function(t){var e=this,n=e.data,i=e.state,a=e.$el;return function(){var r=t.flow.length;i.flowing=!0,n.targets.forEach((function(t){t.values.splice(0,r)})),e.updateXGrid&&e.updateXGrid(!0);var o={};["axis.x","grid.x","gridLines.x","region.list","text","bar","line","area","circle"].forEach((function(t){var e=t.split("."),n=a[e[0]];n&&e.length>1&&(n=n[e[1]]),(null==n?void 0:n.size())&&(o[t]=n)})),e.hideGridFocus(),e.setFlowList(o,t)}},setFlowList:function(t,e){var n,i=this,a=e.flow,r=e.targets,o=a.duration,s=void 0===o?e.duration:o,c=a.index,l=a.length,d=a.orgDataCount,u=i.getFlowTransform(r,d,c,l),h=de();h.add(Object.keys(t).map((function(e){return n=t[e].transition().ease(D.G).duration(s),n="axis.x"===e?n.call((function(t){i.axis.x.setTransition(t).create(t)})):"region.list"===e?n.filter(i.isRegionOnX).attr("transform",u):n.attr("transform",u)}))),n.call(h,(function(){i.cleanUpFlow(t,e)}))},cleanUpFlow:function(t,e){var n=this,i=n.config,a=n.state,r=n.$el.svg,o=i.axis_rotated,s=e.flow,c=e.shape,l=e.xv,d=c.pos,u=d.cx,h=d.cy,g=d.xForText,f=d.yForText,p=s.done,x=void 0===p?function(){}:p,v=s.length;v&&(["circle","text","shape","eventRect"].forEach((function(t){for(var e=[],n=0;n<v;n++)e.push(".".concat(Ut[t],"-").concat(n));r.selectAll(".".concat(Ut["".concat(t,"s")])).selectAll(e).remove()})),r.select(".".concat(Ut.xgrid)).remove()),Object.keys(t).forEach((function(e){var r=t[e];"axis.x"!==e&&r.attr("transform",null),"grid.x"===e?r.attr(a.xgridAttr):"gridLines.x"===e?r.attr("x1",o?0:l).attr("x2",o?a.width:l):"gridLines.x"===e?(r.select("line").attr("x1",o?0:l).attr("x2",o?a.width:l),r.select("text").attr("x",o?a.width:0).attr("y",l)):/^(area|bar|line)$/.test(e)?r.attr("d",c.type[e]):"text"===e?r.attr("x",g).attr("y",f).style("fill-opacity",n.opacityForText.bind(n)):"circle"===e?n.isCirclePoint()?r.attr("cx",u).attr("cy",h):r.attr("x",(function(t){return u(t)-i.point_r})).attr("y",(function(t){return h(t)-i.point_r})).attr("cx",u).attr("cy",h):"region.list"===e&&r.select("rect").filter(n.isRegionOnX).attr("x",n.regionX.bind(n)).attr("width",n.regionWidth.bind(n))})),i.interaction_enabled&&n.redrawEventRect(),x.call(n.api),a.flowing=!1},getFlowTransform:function(t,e,n,i){var a,r=this,o=r.data,s=r.scale.x,c=o.targets[0].values,l=r.getValueOnIndex(c,n),d=r.getValueOnIndex(c,n+i),u=s.domain(),h=r.updateXDomain(t,!0,!0);e?a=1===e||(null==l?void 0:l.x)===(null==d?void 0:d.x)||r.axis.isTimeSeries()?s(u[0])-s(h[0]):s((null==l?void 0:l.x)||0)-s(d.x):1!==c.length?a=s(u[0])-s(h[0]):r.axis.isTimeSeries()?(l=r.getValueOnIndex(c,0),d=r.getValueOnIndex(c,c.length-1),a=s(l.x)-s(d.x)):a=Q(h)/2;var g=Q(u)/Q(h);return"translate(".concat(a,",0) scale(").concat(g,",1)")}},sn={initClip:function(){var t=this,e=t.state.clip;e.id="".concat(t.state.datetimeId,"-clip"),e.idXAxis="".concat(e.id,"-xaxis"),e.idYAxis="".concat(e.id,"-yaxis"),e.idGrid="".concat(e.id,"-grid"),e.path=t.getClipPath(e.id),e.pathXAxis=t.getClipPath(e.idXAxis),e.pathYAxis=t.getClipPath(e.idYAxis),e.pathGrid=t.getClipPath(e.idGrid)},getClipPath:function(t){var e=this.config;if(!e.clipPath&&/-clip$/.test(t)||!e.axis_x_clipPath&&/-clip-xaxis$/.test(t)||!e.axis_y_clipPath&&/-clip-yaxis$/.test(t))return null;var n=!!P.navigator&&P.navigator.appVersion.toLowerCase().indexOf("msie 9.")>=0;return"url(".concat(n?"":F.URL.split("#")[0],"#").concat(t,")")},appendClip:function(t,e){e&&t.append("clipPath").attr("id",e).append("rect")},setXAxisClipPath:function(t){var e=this.config,n=this.state,i=n.margin,a=n.width,r=n.height,o=e.axis_rotated,s=Math.max(30,i.left)-(o?0:20),c=o?-(1+s):-(s-1),l=-Math.max(15,i.top),d=o?i.left+20:a+10+s,u=(o?i.top+r+10:i.bottom)+20;t.attr("x",c).attr("y",l).attr("width",d).attr("height",u)},setYAxisClipPath:function(t){var e=this.config,n=this.state,i=n.margin,a=n.width,r=n.height,o=e.axis_rotated,s=Math.max(30,i.left)-(o?20:0),c=e.axis_y_inner,l=c?-1:o?-(1+s):-(s-1),d=-(o?20:i.top),u=(o?a+15+s:i.left+20)+(c?20:0),h=(o?i.bottom:i.top+r)+10;t.attr("x",l).attr("y",d).attr("width",u).attr("height",h)},updateXAxisTickClip:function(){var t=this,e=t.config,n=t.state,i=n.clip,a=n.xAxisHeight,r=t.$el.defs,o=t.getHorizontalAxisHeight("x");if(r&&!i.idXAxisTickTexts){var s="".concat(i.id,"-xaxisticktexts");t.appendClip(r,s),i.pathXAxisTickTexts=t.getClipPath(i.idXAxisTickTexts),i.idXAxisTickTexts=s}!e.axis_x_tick_multiline&&t.getAxisTickRotate("x")&&o!==a&&(t.setXAxisTickClipWidth(),t.setXAxisTickTextClipPathWidth()),t.state.xAxisHeight=o},setXAxisTickClipWidth:function(){var t=this,e=t.config,n=t.state.current.maxTickWidths,i=t.getAxisTickRotate("x");if(!e.axis_x_tick_multiline&&i){var a=Math.sin(Math.PI/180*Math.abs(i));n.x.clipPath=(t.getHorizontalAxisHeight("x")-20)/a}else n.x.clipPath=null},setXAxisTickTextClipPathWidth:function(){var t=this.state,e=t.clip,n=t.current,i=this.$el.svg;i&&i.select("#".concat(e.idXAxisTickTexts," rect")).attr("width",n.maxTickWidths.x.clipPath).attr("height",30)}},cn=function(t){return H(t.position)||"end"},ln=function(t){return"start"===t.position?4:"middle"===t.position?0:-4};function dn(t,e,n){return function(i){var a=t?0:e;return"start"===i.position?a=t?-n:0:"middle"===i.position&&(a=(t?-n:e)/2),a}}function un(t,e){"grid"===e&&t.each((function(){var t=(0,r.Z)(this);["x1","x2","y1","y2"].forEach((function(e){return t.attr(e,Math.ceil(+t.attr(e)))}))}))}var hn={hasGrid:function(){var t=this.config;return["x","y"].some((function(e){return t["grid_".concat(e,"_show")]||t["grid_".concat(e,"_lines")].length}))},initGrid:function(){var t=this;t.hasGrid()&&t.initGridLines(),t.initFocusGrid()},initGridLines:function(){var t=this,e=t.config,n=t.state.clip,i=t.$el;(e.grid_x_lines.length||e.grid_y_lines.length)&&(i.gridLines.main=i.main.insert("g",".".concat(Bt.chart).concat(e.grid_lines_front?" + *":"")).attr("clip-path",n.pathGrid).attr("class","".concat(Yt.grid," ").concat(Yt.gridLines)),i.gridLines.main.append("g").attr("class",Yt.xgridLines),i.gridLines.main.append("g").attr("class",Yt.ygridLines),i.gridLines.x=(0,s.Z)([]))},updateXGrid:function(t){var e=this,n=e.config,i=e.scale,a=e.state,o=e.$el,s=o.main,c=o.grid,l=n.axis_rotated,d=e.generateGridData(n.grid_x_type,i.x),u=e.axis.isCategorized()?e.axis.x.tickOffset():0,h=function(t){return(i.zoom||i.x)(t)+u*(l?-1:1)};a.xgridAttr=l?{x1:0,x2:a.width,y1:h,y2:h}:{x1:h,x2:h,y1:0,y2:a.height},c.x=s.select(".".concat(Yt.xgrids)).selectAll(".".concat(Yt.xgrid)).data(d),c.x.exit().remove(),c.x=c.x.enter().append("line").attr("class",Yt.xgrid).merge(c.x),t||c.x.each((function(){var t=(0,r.Z)(this);Object.keys(a.xgridAttr).forEach((function(e){t.attr(e,a.xgridAttr[e]).style("opacity",(function(){return t.attr(l?"y1":"x1")===(l?a.height:0)?"0":null}))}))}))},updateYGrid:function(){var t=this,e=t.config,n=t.state,i=t.$el,a=i.grid,r=i.main,o=e.axis_rotated,s=t.axis.y.tickValues()||t.scale.y.ticks(e.grid_y_ticks),c=function(e){return Math.ceil(t.scale.y(e))};a.y=r.select(".".concat(Yt.ygrids)).selectAll(".".concat(Yt.ygrid)).data(s),a.y.exit().remove(),a.y=a.y.enter().append("line").attr("class",Yt.ygrid).merge(a.y),a.y.attr("x1",o?c:0).attr("x2",o?c:n.width).attr("y1",o?0:c).attr("y2",o?n.height:c),un(a.y,"grid")},updateGrid:function(){var t=this,e=t.$el,n=e.grid;!e.gridLines.main&&t.initGridLines(),n.main.style("visibility",t.hasArcType()?"hidden":null),t.hideGridFocus(),t.updateXGridLines(),t.updateYGridLines()},updateXGridLines:function(){var t=this,e=t.config,n=t.$el,i=n.gridLines,a=n.main,r=t.$T,o=e.axis_rotated;e.grid_x_show&&t.updateXGrid();var s=a.select(".".concat(Yt.xgridLines)).selectAll(".".concat(Yt.xgridLine)).data(e.grid_x_lines);r(s.exit()).style("opacity","0").remove();var c=s.enter().append("g");c.append("line").style("opacity","0"),c.append("text").attr("transform",o?"":"rotate(-90)").attr("dy",-5).style("opacity","0"),r((s=c.merge(s)).attr("class",(function(t){return"".concat(Yt.xgridLine," ").concat(t.class||"").trim()})).select("text").attr("text-anchor",cn).attr("dx",ln)).text((function(t){return t.text})).style("opacity",null),i.x=s},updateYGridLines:function(){var t=this,e=t.config,n=t.state,i=n.width,a=n.height,r=t.$el,o=t.$T,s=e.axis_rotated;e.grid_y_show&&t.updateYGrid();var c=r.main.select(".".concat(Yt.ygridLines)).selectAll(".".concat(Yt.ygridLine)).data(e.grid_y_lines);o(c.exit()).style("opacity","0").remove();var l=c.enter().append("g");l.append("line").style("opacity","0"),l.append("text").attr("transform",s?"rotate(-90)":"").style("opacity","0"),c=l.merge(c);var d=t.yv.bind(t);o(c.attr("class",(function(t){return"".concat(Yt.ygridLine," ").concat(t.class||"").trim()})).select("line")).attr("x1",s?d:0).attr("x2",s?d:i).attr("y1",s?0:d).attr("y2",s?a:d).style("opacity",null),o(c.select("text").attr("text-anchor",cn).attr("dx",ln)).attr("dy",-5).attr("x",dn(s,i,a)).attr("y",d).text((function(t){return t.text})).style("opacity",null),r.gridLines.y=c},redrawGrid:function(t){var e=this,n=e.config.axis_rotated,i=e.state,a=i.width,r=i.height,o=e.$el.gridLines,s=e.$T,c=e.xv.bind(e),l=o.x.select("line"),d=o.x.select("text");return l=s(l,t).attr("x1",n?0:c).attr("x2",n?a:c).attr("y1",n?c:0).attr("y2",n?c:r),d=s(d,t).attr("x",dn(!n,a,r)).attr("y",c).text((function(t){return t.text})),[l.style("opacity",null),d.style("opacity",null)]},initFocusGrid:function(){var t=this,e=t.config,n=t.state.clip,i=t.$el,a=e.grid_front,r=".".concat(a&&i.gridLines.main?Yt.gridLines:Bt.chart).concat(a?" + *":""),o=i.main.insert("g",r).attr("clip-path",n.pathGrid).attr("class",Yt.grid);i.grid.main=o,e.grid_x_show&&o.append("g").attr("class",Yt.xgrids),e.grid_y_show&&o.append("g").attr("class",Yt.ygrids),e.interaction_enabled&&e.grid_focus_show&&(o.append("g").attr("class",Mt.xgridFocus).append("line").attr("class",Mt.xgridFocus),e.grid_focus_y&&!e.tooltip_grouped&&o.append("g").attr("class",Mt.ygridFocus).append("line").attr("class",Mt.ygridFocus))},showGridFocus:function(t){var e,n=this,i=n.config,a=n.state,o=a.width,s=a.height,c=i.axis_rotated,l=n.$el.main.selectAll("line.".concat(Mt.xgridFocus,", line.").concat(Mt.ygridFocus)),d=(t||[l.datum()]).filter((function(t){return t&&H(n.getBaseValue(t))}));if(i.tooltip_show&&0!==d.length&&!n.hasType("bubble")&&!n.hasArcType()){var u=i.grid_focus_edge&&!i.tooltip_grouped,h=n.xx.bind(n);l.style("visibility",null).data(d.concat(d)).each((function(t){var e,i=(0,r.Z)(this),a={x:h(t),y:n.getYScaleById(t.id)(t.value)};if(i.classed(Mt.xgridFocus))e=c?[null,a.x,u?a.y:o,a.x]:[a.x,u?a.y:null,a.x,s];else{var l="y2"===n.axis.getId(t.id);e=c?[a.y,u&&!l?a.x:null,a.y,u&&l?a.x:s]:[u&&l?a.x:null,a.y,u&&!l?a.x:o,a.y]}["x1","y1","x2","y2"].forEach((function(t,n){return i.attr(t,e[n])}))})),un(l,"grid"),null===(e=n.showCircleFocus)||void 0===e||e.call(n,t)}},hideGridFocus:function(){var t,e=this,n=e.state,i=n.inputType,a=n.resizing,r=e.$el.main;"mouse"!==i&&a||(r.selectAll("line.".concat(Mt.xgridFocus,", line.").concat(Mt.ygridFocus)).style("visibility","hidden"),null===(t=e.hideCircleFocus)||void 0===t||t.call(e))},updateGridFocus:function(){var t,e=this,n=e.state,i=n.inputType,a=n.width,r=n.height,o=n.resizing,s=e.$el.grid.main.select("line.".concat(Mt.xgridFocus));if("touch"===i)s.empty()?o&&(null===(t=e.showCircleFocus)||void 0===t||t.call(e)):e.showGridFocus();else{var c=e.config.axis_rotated;s.attr("x1",c?0:-10).attr("x2",c?a:-10).attr("y1",c?-10:0).attr("y2",c?-10:r)}return!0},generateGridData:function(t,e){var n=this.$el.main.select(".".concat(It.axisX)).selectAll(".tick").size(),i=[];if("year"===t)for(var a=this.getXDomain().map((function(t){return t.getFullYear()})),r=a[0],o=a[1],s=r;s<=o;s++)i.push(new Date("".concat(s,"-01-01 00:00:00")));else(i=e.ticks(10)).length>n&&(i=i.filter((function(t){return String(t).indexOf(".")<0})));return i},getGridFilterToRemove:function(t){return t?function(e){var n=!1;return(it(t)?t.concat():[t]).forEach((function(t){("value"in t&&e.value===t.value||"class"in t&&e.class===t.class)&&(n=!0)})),n}:function(){return!0}},removeGridLines:function(t,e){var n=this,i=n.config,a=n.$T,r=n.getGridFilterToRemove(t),o=e?Yt.xgridLines:Yt.ygridLines,s=e?Yt.xgridLine:Yt.ygridLine;a(n.$el.main.select(".".concat(o)).selectAll(".".concat(s)).filter(r)).style("opacity","0").remove();var c="grid_".concat(e?"x":"y","_lines");i[c]=i[c].filter((function(t){return!r(t)}))}},gn={initRegion:function(){var t=this.$el;t.region.main=t.main.insert("g",":first-child").attr("clip-path",this.state.clip.path).attr("class",Nt.regions)},updateRegion:function(){var t=this,e=t.config,n=t.$el.region,i=t.$T;n.main||t.initRegion(),n.main.style("visibility",t.hasArcType()?"hidden":null);var a=n.main.selectAll(".".concat(Nt.region)).data(e.regions);i(a.exit()).style("opacity","0").remove(),(a=a.enter().append("g").merge(a).attr("class",t.classRegion.bind(t))).append("rect").style("fill-opacity","0"),n.list=a},redrawRegion:function(t){var e=this,n=e.$el.region,i=e.$T,a=n.list.select("rect");return[(a=i(a,t).attr("x",e.regionX.bind(e)).attr("y",e.regionY.bind(e)).attr("width",e.regionWidth.bind(e)).attr("height",e.regionHeight.bind(e))).style("fill-opacity",(function(t){return H(t.opacity)?t.opacity:null})).on("end",(function(){(0,r.Z)(this.parentNode).selectAll("rect:not([x])").remove()}))]},getRegionXY:function(t,e){var n=this,i=n.config,a=n.scale,r=i.axis_rotated,o="x"===t,s="start",c=0;return"y"===e.axis||"y2"===e.axis?(o||(s="end"),(o?r:!r)&&s in e&&(c=(0,a[e.axis])(e[s]))):(o?!r:r)&&s in e&&(c=(a.zoom||a.x)(n.axis.isTimeSeries()?Ct.call(n,e[s]):e[s])),c},regionX:function(t){return this.getRegionXY("x",t)},regionY:function(t){return this.getRegionXY("y",t)},getRegionSize:function(t,e){var n=this,i=n.config,a=n.scale,r=n.state,o=i.axis_rotated,s="width"===t,c=n[s?"regionX":"regionY"](e),l="end",d=r[t];return"y"===e.axis||"y2"===e.axis?(s||(l="start"),(s?o:!o)&&l in e&&(d=(0,a[e.axis])(e[l]))):(s?!o:o)&&l in e&&(d=(a.zoom||a.x)(n.axis.isTimeSeries()?Ct.call(n,e[l]):e[l])),d<c?0:d-c},regionWidth:function(t){return this.getRegionSize("width",t)},regionHeight:function(t){return this.getRegionSize("height",t)},isRegionOnX:function(t){return!t.axis||"x"===t.axis}},fn={getAxisSize:function(t){var e=this,n=e.config.axis_rotated;return n&&"x"===t||!n&&/y2?/.test(t)?e.getAxisWidthByAxisId(t,!0):e.getHorizontalAxisHeight(t)},getAxisWidthByAxisId:function(t,e){var n,i=this;if(i.axis){var a=null===(n=i.axis)||void 0===n?void 0:n.getLabelPositionById(t);return i.axis.getMaxTickWidth(t,e)+(a.isInner?20:40)}return 40},getHorizontalAxisHeight:function(t){var e=this,n=e.config,i=e.state,a=i.current,r=i.rotatedPadding,o=i.isLegendRight,s=i.isLegendInset,c=n.axis_rotated,l=30;if("x"===t&&!n.axis_x_show)return 8;if("x"===t&&n.axis_x_height)return n.axis_x_height;if("y"===t&&!n.axis_y_show)return!n.legend_show||o||s?1:10;if("y2"===t&&!n.axis_y2_show)return r.top;var d=e.getAxisTickRotate(t);return("x"===t&&!c||/y2?/.test(t)&&c)&&d&&(l=30+e.axis.getMaxTickWidth(t)*Math.cos(Math.PI*(90-Math.abs(d))/180),!n.axis_x_tick_multiline&&a.height&&l>a.height/2&&(l=a.height/2)),l+(e.axis.getLabelPositionById(t).isInner?0:10)+("y2"!==t||c?0:-10)},getEventRectWidth:function(){return Math.max(0,this.axis.x.tickInterval())},getAxisTickRotate:function(t){var e=this,n=e.axis,i=e.config,a=e.state,r=e.$el,o=i["axis_".concat(t,"_tick_rotate")];if("x"===t){var s=n.isCategorized()||n.isTimeSeries();if(i.axis_x_tick_fit&&s){var c=i.axis_x_tick_count,l=a.current.maxTickWidths.x.ticks.length,d=0;if(c?d=c>l?l:c:l&&(d=l),d!==a.axis.x.tickCount){var u=e.data.targets;a.axis.x.padding=e.getXDomainPadding([e.getXDomainMinMax(u,"min"),e.getXDomainMinMax(u,"max")],d)}a.axis.x.tickCount=d}r.svg&&i.axis_x_tick_fit&&!i.axis_x_tick_multiline&&!i.axis_x_tick_culling&&i.axis_x_tick_autorotate&&s&&(o=e.needToRotateXAxisTickTexts()?i.axis_x_tick_rotate:0)}return o},needToRotateXAxisTickTexts:function(){var t=this,e=t.state,n=e.axis,i=e.current.width-t.getCurrentPaddingLeft(!1)-t.getCurrentPaddingRight(),a=n.x.tickCount+n.x.padding.left+n.x.padding.right;return t.axis.getMaxTickWidth("x")>(a?i/a:0)}},pn=N(N(N({axis_rotated:!1},{axis_x_clipPath:!0,axis_x_show:!0,axis_x_type:"indexed",axis_x_localtime:!0,axis_x_categories:[],axis_x_tick_centered:!1,axis_x_tick_format:void 0,axis_x_tick_culling:{},axis_x_tick_culling_max:10,axis_x_tick_culling_lines:!0,axis_x_tick_count:void 0,axis_x_tick_show:!0,axis_x_tick_text_show:!0,axis_x_tick_text_position:{x:0,y:0},axis_x_tick_fit:!0,axis_x_tick_values:null,axis_x_tick_autorotate:!1,axis_x_tick_rotate:0,axis_x_tick_outer:!0,axis_x_tick_multiline:!0,axis_x_tick_width:null,axis_x_tick_tooltip:!1,axis_x_max:void 0,axis_x_min:void 0,axis_x_padding:{},axis_x_height:void 0,axis_x_extent:void 0,axis_x_label:{},axis_x_axes:[]}),{axis_y_clipPath:!0,axis_y_show:!0,axis_y_type:"indexed",axis_y_max:void 0,axis_y_min:void 0,axis_y_inverted:!1,axis_y_center:void 0,axis_y_inner:!1,axis_y_label:{},axis_y_tick_format:void 0,axis_y_tick_culling:!1,axis_y_tick_culling_max:5,axis_y_tick_culling_lines:!0,axis_y_tick_outer:!0,axis_y_tick_values:null,axis_y_tick_rotate:0,axis_y_tick_count:void 0,axis_y_tick_show:!0,axis_y_tick_stepSize:null,axis_y_tick_text_show:!0,axis_y_tick_text_position:{x:0,y:0},axis_y_tick_time_value:void 0,axis_y_padding:{},axis_y_default:void 0,axis_y_axes:[]}),{axis_y2_show:!1,axis_y2_type:"indexed",axis_y2_max:void 0,axis_y2_min:void 0,axis_y2_inverted:!1,axis_y2_center:void 0,axis_y2_inner:!1,axis_y2_label:{},axis_y2_tick_format:void 0,axis_y2_tick_culling:!1,axis_y2_tick_culling_max:5,axis_y2_tick_culling_lines:!0,axis_y2_tick_outer:!0,axis_y2_tick_values:null,axis_y2_tick_rotate:0,axis_y2_tick_count:void 0,axis_y2_tick_show:!0,axis_y2_tick_stepSize:null,axis_y2_tick_text_show:!0,axis_y2_tick_text_position:{x:0,y:0},axis_y2_padding:{},axis_y2_default:void 0,axis_y2_axes:[]}),xn=[He,{category:function(t,e){var n=this.internal,i=n.config;return arguments.length>1&&(i.axis_x_categories[t]=e,n.redraw()),i.axis_x_categories[t]},categories:function(t){var e=this.internal,n=e.config;return arguments.length?(n.axis_x_categories=t,e.redraw(),n.axis_x_categories):n.axis_x_categories}},Ge,Ue,Qe,We,Je,Ke],vn=[nn,sn,rn,on,hn,gn,fn],bn=[{data_xs:{},data_xFormat:"%Y-%m-%d",data_xLocaltime:!0,data_xSort:!0,data_axes:{},data_regions:{},data_stack_normalize:!1},pn,{grid_x_show:!1,grid_x_type:"tick",grid_x_lines:[],grid_y_show:!1,grid_y_lines:[],grid_y_ticks:10,grid_focus_edge:!1,grid_focus_show:!0,grid_focus_y:!1,grid_front:!1,grid_lines_front:!0}],mn={initBar:function(){var t=this,e=t.$el,n=t.config,i=t.state.clip;e.bar=e.main.select(".".concat(Bt.chart)).insert("g",":first-child").attr("class",Rt.chartBars),!1===n.clipPath&&(n.bar_radius||n.bar_radius_ratio)&&e.bar.attr("clip-path",i.pathXAxis.replace(/#[^)]*/,"#".concat(i.id)))},updateTargetsForBar:function(t){var e=this,n=e.config,i=e.$el,a=e.getChartClass("Bar"),r=e.getClass("bars",!0),o=e.classFocus.bind(e),s=n.interaction_enabled&&n.data_selection_isselectable;i.bar||e.initBar(),e.$el.main.select(".".concat(Rt.chartBars)).selectAll(".".concat(Rt.chartBar)).data(t.filter((function(t){return t.values.some((function(t){return j(t.value)||e.isBarRangeType(t)}))}))).attr("class",(function(t){return a(t)+o(t)})).enter().append("g").attr("class",a).style("opacity","0").style("pointer-events","none").append("g").attr("class",r).style("cursor",(function(t){var n;return(null===(n=null==s?void 0:s.bind)||void 0===n?void 0:n.call(s,e.api)(t))?"pointer":null}))},updateBar:function(t,e){void 0===e&&(e=!1);var n=this,i=n.$el,a=n.$T,r=e?i.subchart:i,o=n.getClass("bar",!0),s=n.initialOpacity.bind(n),c=r.main.selectAll(".".concat(Rt.bars)).selectAll(".".concat(Rt.bar)).data(n.labelishData.bind(n));a(c.exit(),t).style("opacity","0").remove(),r.bar=c.enter().append("path").attr("class",o).style("fill",n.color).merge(c).style("opacity",s)},redrawBar:function(t,e,n){void 0===n&&(n=!1);var i=this,a=(n?i.$el.subchart:i.$el).bar;return[i.$T(a,e,ft()).attr("d",(function(e){return(j(e.value)||i.isBarRangeType(e))&&t(e)})).style("fill",this.color).style("opacity",null)]},generateDrawBar:function(t,e){var n=this,i=n.config,a=n.generateGetBarPoints(t,e),r=i.axis_rotated,o=i.bar_radius,s=i.bar_radius_ratio,c=j(o)&&o>0?function(){return o}:j(s)?function(t){return t*s}:null;return function(t,e){var i=a(t,e),o=+r,s=+!o,l=t.value<0,d=["",""],u=0,h=n.isGrouped(t.id),g=0!==t.value&&c,f=!(!g||!h)&&n.isStackingRadiusData(t);if(g&&(!h||f)){var p=r?s:o,x=i[2][p]-i[0][p];u=c(x);var v="a".concat(u,",").concat(u," ").concat(l?"1 0 0":"0 0 1"," ");d[+!r]="".concat(v).concat(u,",").concat(u),d[+r]="".concat(v).concat([-u,u][r?"sort":"reverse"]()),l&&d.reverse()}var b=r?"H".concat(i[1][o]-u," ").concat(d[0],"V").concat(i[2][s]-u," ").concat(d[1],"H").concat(i[3][o]):"V".concat(i[1][s]+(l?-u:u)," ").concat(d[0],"H").concat(i[2][o]-u," ").concat(d[1],"V").concat(i[3][s]);return"M".concat(i[0][o],",").concat(i[0][s]).concat(b,"z")}},isStackingRadiusData:function(t){var e=this,n=e.config,i=e.data,a=t.id,r=t.index,o=t.value,s=n.data_groups.find((function(t){return t.indexOf(a)>-1})),c=e.orderTargets(e.filterTargetsToShow(i.targets.filter(e.isBarType,e))).filter((function(t){return s.indexOf(t.id)>-1})).map((function(t){return t.values.filter((function(t){return t.index===r&&(o>0?t.value>0:t.value<0)}))[0]})).filter(Boolean).map((function(t){return t.id}));return 0!==o&&c.indexOf(a)===c.length-1},generateGetBarPoints:function(t,e){var n=this,i=n.config,a=e?n.axis.subX:n.axis.x,r=n.getIndicesMax(t)+1,o=n.getBarW("bar",a,r),s=n.getShapeX(o,t,!!e),c=n.getShapeY(!!e),l=n.getShapeOffset(n.isBarType,t,!!e),d=n.getYScaleById.bind(n);return function(t,a){var r=d.call(n,t.id,e)(n.getShapeYMin(t.id)),u=l(t,a)||r,h=j(o)?o:o[t.id]||o._$width,g=s(t),f=c(t);i.axis_rotated&&(t.value>0&&f<r||t.value<0&&r<f)&&(f=r),n.isBarRangeType(t)||(f-=r-u);var p=g+h;return[[g,u],[g,f],[p,f],[p,u]]}}},_n={bar_label_threshold:0,bar_indices_removeNull:!1,bar_padding:0,bar_radius:void 0,bar_radius_ratio:void 0,bar_sensitivity:2,bar_width:void 0,bar_width_ratio:.6,bar_width_max:void 0,bar_zerobased:!0};Math.PI;var yn=function(){return t=[mn],e=_n,xt(Oe.prototype,vn.concat(t)),xt(Me.prototype,xn),ae.setOptions(bn.concat(e||[])),(yn=function(){return $.BAR})();var t,e};xt((function(t){var e,n=this.internal,i=n.$el,a=n.axis,r=n.config,o=n.org,s=n.scale,c=r.axis_rotated,l=a.isCategorized(),d=t;if(r.zoom_enabled&&d){if(a.isTimeSeries()&&(d=d.map((function(t){return Ct.bind(n)(t)}))),function(t,e,n){var i=n[0],a=n[1];return t.every((function(n,r){return(0===r?n>=i:n<=a)&&!t.every((function(t,n){return t===e[n]}))}))}(d,n.getZoomDomain(!0),n.getZoomDomain())){if(l&&(d=d.map((function(t,e){return Number(t)+(0===e?0:1)}))),n.api.tooltip.hide(),r.subchart_show){var u=s.zoom||s.x;n.brush.getSelection().call(n.brush.move,d.map(u))}else{var h=[-(u=l?s.x.orgScale():o.xScale||s.x)(d[0]),0],g=(e=z.CR.scale(u.range()[1]/(u(d[1])-u(d[0])))).translate.apply(e,c?h.reverse():h);i.eventRect.call(n.zoom.transform,g)}n.setZoomResetButton()}}else d=s.zoom?s.zoom.domain():s.x.orgDomain();return d}),{enable:function(t){var e=this.internal,n=e.config;/^(drag|wheel)$/.test(t)&&(n.zoom_type=t),n.zoom_enabled=!!t,e.zoom?!1===t&&e.bindZoomEvent(!1):(e.initZoom(),e.bindZoomEvent()),e.updateAndRedraw()},max:function(t){var e=this.internal,n=e.config,i=e.org.xDomain;return(0===t||t)&&(n.zoom_x_max=Et("max",[i[1],t])),n.zoom_x_max},min:function(t){var e=this.internal,n=e.config,i=e.org.xDomain;return(0===t||t)&&(n.zoom_x_min=Et("min",[i[0],t])),n.zoom_x_min},range:function(t){var e=this.zoom;if(at(t)){var n=t.min,i=t.max;W(n)&&e.min(n),W(i)&&e.max(i)}return{min:e.min(),max:e.max()}}});var An={drag:function(t){var e=this,n=e.config,i=e.state,a=e.$el.main,o=n.data_selection_grouped,s=n.interaction_enabled&&n.data_selection_isselectable;if(!e.hasArcType()&&n.data_selection_enabled&&(!n.zoom_enabled||e.zoom.altDomain)&&n.data_selection_multiple){var c=i.dragStart||[0,0],l=c[0],d=c[1],u=t[0],h=t[1],g=Math.min(l,u),f=Math.max(l,u),p=o?i.margin.top:Math.min(d,h),x=o?i.height:Math.max(d,h);a.select(".".concat(zt.dragarea)).attr("x",g).attr("y",p).attr("width",f-g).attr("height",x-p),a.selectAll(".".concat(Ht.shapes)).selectAll(".".concat(Ht.shape)).filter((function(t){return null==s?void 0:s.bind(e.api)(t)})).each((function(t,n){var i,a=(0,r.Z)(this),o=a.classed(Vt.SELECTED),s=a.classed(zt.INCLUDED),c=!1;if(a.classed(Xt.circle)){var l=1*+a.attr("cx"),d=1*+a.attr("cy");i=e.togglePoint,c=g<l&&l<f&&p<d&&d<x}else{if(!a.classed(Rt.bar))return;var u=function(t){var e=t.getBoundingClientRect(),n=e.width,i=e.height,a=dt(t);return{x:a[0].x,y:Math.min(a[0].y,a[1].y),width:n,height:i}}(this),h=(l=u.x,d=u.y,u.width),v=u.height;i=e.togglePath,c=!(f<l||l+h<g||x<d||d+v<p)}c^s&&(a.classed(zt.INCLUDED,!s),a.classed(Vt.SELECTED,!o),i.call(e,!o,a,t,n))}))}},dragstart:function(t){var e=this,n=e.config,i=e.state,a=e.$el.main;!e.hasArcType()&&n.data_selection_enabled&&(i.dragStart=t,a.select(".".concat(Bt.chart)).append("rect").attr("class",zt.dragarea).style("opacity","0.1"),e.setDragStatus(!0))},dragend:function(){var t=this,e=t.config,n=t.$el.main,i=t.$T;!t.hasArcType()&&e.data_selection_enabled&&(i(n.select(".".concat(zt.dragarea))).style("opacity","0").remove(),n.selectAll(".".concat(Ht.shape)).classed(zt.INCLUDED,!1),t.setDragStatus(!1))}},Tn=(N(N({},An),{selectPoint:function(t,e,n){var i=this,a=i.config,r=i.$el.main,o=i.$T,s=a.axis_rotated,c=(s?i.circleY:i.circleX).bind(i),l=(s?i.circleX:i.circleY).bind(i),d=i.pointSelectR.bind(i);ot(a.data_onselected,i.api,e,t.node()),o(r.select(".".concat(Vt.selectedCircles).concat(i.getTargetSelectorSuffix(e.id))).selectAll(".".concat(Vt.selectedCircle,"-").concat(n)).data([e]).enter().append("circle").attr("class",(function(){return i.generateClass(Vt.selectedCircle,n)})).attr("cx",c).attr("cy",l).attr("stroke",i.color).attr("r",(function(t){return 1.4*i.pointSelectR(t)}))).attr("r",d)},unselectPoint:function(t,e,n){var i=this,a=i.config,r=i.$el.main,o=i.$T;ot(a.data_onunselected,i.api,e,t.node()),o(r.select(".".concat(Vt.selectedCircles).concat(i.getTargetSelectorSuffix(e.id))).selectAll(".".concat(Vt.selectedCircle,"-").concat(n))).attr("r",0).remove()},togglePoint:function(t,e,n,i){this["".concat(t?"":"un","selectPoint")](e,n,i)},selectPath:function(t,e){var n=this.config;ot(n.data_onselected,this.api,e,t.node()),n.interaction_brighten&&t.style("filter","brightness(1.25)")},unselectPath:function(t,e){var n=this.config;ot(n.data_onunselected,this.api,e,t.node()),n.interaction_brighten&&t.style("filter",null)},togglePath:function(t,e,n,i){this["".concat(t?"":"un","selectPath")](e,n,i)},getToggle:function(t,e){var n=this;return"path"===t.nodeName?n.togglePath:n.isStepType(e)?function(){}:n.togglePoint},toggleShape:function(t,e,n){var i=this,a=i.config,o=i.$el.main;if(a.data_selection_enabled&&a.data_selection_isselectable.bind(i.api)(e)){var s,c=(0,r.Z)(t),l=c.classed(Vt.SELECTED),d=i.getToggle(t,e).bind(i);if(!a.data_selection_multiple){var u=".".concat(Ht.shapes);a.data_selection_grouped&&(u+=i.getTargetSelectorSuffix(e.id)),o.selectAll(u).selectAll(".".concat(Ht.shape)).each((function(t,e){var n=(0,r.Z)(this);n.classed(Vt.SELECTED)&&(s=n,d(!1,n.classed(Vt.SELECTED,!1),t,e))}))}s&&s.node()===c.node()||(c.classed(Vt.SELECTED,!l),d(!l,c,e,n))}}}),{}),En={version:"3.4.1",generate:function(t){var e=At({},Tn,t),n=new Me(e);return n.internal.charts=this.instance,this.instance.push(n),n},defaults:function(t){return at(t)&&(Tn=t),Tn},instance:[],plugin:{}}}}]);
//# sourceMappingURL=5f94193bd4ff44c494fc.pnpm.billboard.js.js.map